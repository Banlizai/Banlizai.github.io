import{g as e,_ as t,a,e as s,j as o,k as i}from"./index-4d88e5a9.js";import{M as n,c as l,ab as r,A as d,f as c,Z as m,_ as p}from"./@arco-design-306c64c5.js";import{p as u}from"./http-5a7406c8.js";import{b as g,u as y,a as f,c as j,e as k,d as x}from"./table-76ae527c.js";import{e as b,r as h,o as w,g as v,j as I,k as C,l as S,m as _,v as K,p as L,F as z,R as D,G as R,y as T,z as q,q as F}from"./@vue-ab7141bd.js";import"./path-browserify-8c7c24dd.js";import"./vue-router-74931cc0.js";import"./pinia-c1bb2998.js";import"./@vueuse-96027ebb.js";import"./axios-7fb8d0b2.js";import"./@logicflow-435513e4.js";import"./ids-ef071351.js";import"./preact-173f4f0b.js";import"./qs-536c1183.js";import"./side-channel-52a2f2e5.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./call-bind-d34af9d2.js";import"./object-inspect-a85657d3.js";import"./mockjs-a6500710.js";import"./tiny-emitter-af47831f.js";import"./xgplayer-474fd437.js";import"./quill-daa56216.js";import"./sortablejs-2f5483e3.js";import"./lodash-es-6e445b1b.js";import"./resize-observer-polyfill-ad543aa3.js";import"./compute-scroll-into-view-2962e95c.js";import"./b-tween-5055d79e.js";import"./dayjs-f47c42f6.js";import"./b-validate-42052d35.js";import"./number-precision-d9b928a1.js";import"./scroll-into-view-if-needed-59a60a09.js";const H=t(b({name:"UserList",setup(){const t=g(),a=x("id"),s=y(c),{selectedRowKeys:o,onSelectionChange:i}=f(),r=j([t.indexColumn,{title:"名称",key:"nickName",dataIndex:"nickName"},{title:"性别",key:"gender",dataIndex:"gender"},{title:"头像",key:"avatar",dataIndex:"avatar"},{title:"地址",key:"address",dataIndex:"address"},{title:"登录时间",key:"lastLoginTime",dataIndex:"lastLoginTime"},{title:"登录IP",key:"lastLoginIp",dataIndex:"lastLoginIp"},{title:"状态",key:"status",dataIndex:"status"},{title:"操作",key:"actions",dataIndex:"actions"}]),d=h(!0);function c(){u({url:e,data:()=>({page:s.page,pageSize:s.pageSize})}).then((e=>{t.handleSuccess(e),s.setTotalSize(e.totalSize)})).catch(console.log)}return w((async()=>{t.tableHeight.value=await k(v()),c()})),{...t,rowKey:a,selectedRowKeys:o,onSelectionChange:i,expandAllFlag:d,tableColumns:r,pagination:s,onDeleteItem:function(e){l.confirm({title:"提示",content:"确定要删除此数据吗？",cancelText:"取消",okText:"删除",onOk:()=>{n.success("数据删除成功"),t.dataList.splice(t.dataList.indexOf(e),1)}})},onDeleteItems:function(){0!==o.value.length?l.confirm({title:"提示",content:"确定要删除此数据吗？",cancelText:"取消",okText:"删除",onOk:()=>{n.success("数据模拟删除成功，所选择的Keys为："+JSON.stringify(o.value))}}):n.error("请选择要删除的数据")}}}}),[["render",function(e,t,n,l,u,g){const y=a,f=s,j=r,k=I("IconUser"),x=d,b=c,h=m,w=p,v=o,H=i;return C(),S(H,null,{header:_((()=>[K(f,{ref:"tableHeaderRef","show-filter":!1},{"table-config":_((()=>[K(y,{onDelete:e.onDeleteItems},null,8,["onDelete"])])),_:1},512)])),default:_((()=>[K(w,{bordered:!1,"row-selection":{selectedRowKeys:e.selectedRowKeys},loading:e.tableLoading,data:e.dataList,pagination:!1,rowKey:e.rowKey,"table-layout-fixed":"",scroll:{y:e.tableHeight},onSelectionChange:e.onSelectionChange},{columns:_((()=>[(C(!0),L(z,null,D(e.tableColumns,(t=>(C(),S(h,{key:t.key,align:t.align,title:t.title,"data-index":t.key,fixed:t.fixed},R({_:2},["index"===t.key?{name:"cell",fn:_((({rowIndex:e})=>[T(q(e+1),1)])),key:"0"}:"gender"===t.key?{name:"cell",fn:_((({record:e})=>[K(j,{color:1===e.gender?"green":"red"},{default:_((()=>[T(q(1===e.gender?"男":"女"),1)])),_:2},1032,["color"])])),key:"1"}:"avatar"===t.key?{name:"cell",fn:_((({})=>[K(x,{size:30,style:F({backgroundColor:"var(--color-primary-light-1)"})},{default:_((()=>[K(k)])),_:1},8,["style"])])),key:"2"}:"actions"===t.key?{name:"cell",fn:_((({record:t})=>[K(b,{status:"danger",onClick:a=>e.onDeleteItem(t)},{default:_((()=>[T("删除")])),_:2},1032,["onClick"])])),key:"3"}:"status"===t.key?{name:"cell",fn:_((({record:e})=>[1===e.status?(C(),S(j,{key:0,color:"blue"},{default:_((()=>[T("正常")])),_:1})):(C(),S(j,{key:1,color:"red"},{default:_((()=>[T("禁用")])),_:1}))])),key:"4"}:void 0]),1032,["align","title","data-index","fixed"])))),128))])),_:1},8,["row-selection","loading","data","rowKey","scroll","onSelectionChange"])])),footer:_((()=>[K(v,{ref:"tableFooterRef",pagination:e.pagination},null,8,["pagination"])])),_:1})}]]);export{H as default};
