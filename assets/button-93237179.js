import{a as e,K as n,c as t,L as o,x as a,p as l,d as i,u as r,R as s,q as u,H as c}from"./ripple-47ea40fa.js";import{d,c as v,b as p,e as y,n as g,f as h,i as f,p as b,j as m,F as k,C as x,q as S,t as z,Y as B,Z as _,r as C,a as T,k as O,l as w,g as L,v as $}from"./index-21254b6f.js";var j={type:{type:String,default:"circle",validator:function(e){return["circle","wave","cube","rect","disappear"].includes(e)}},radius:{type:[String,Number]},size:{type:String,default:"normal",validator:function(e){return["normal","mini","small","large"].includes(e)}},color:{type:String},description:{type:String},loading:{type:Boolean,default:!1}},{n:E,classes:H}=t("loading"),P=[(e=>(B(""),e=e(),_(),e))((()=>b("svg",{viewBox:"25 25 50 50"},[b("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1)))];var U=d({name:"VarLoading",props:j,setup(t,o){var{slots:a}=o,l=v((()=>!e(a.default)||t.loading));return{n:E,classes:H,multiplySizeUnit:n,loadingTypeDict:{wave:5,cube:4,rect:8,disappear:3},isShow:l}}});U.render=function(e,n){return p(),y("div",{class:g(e.n())},[e.$slots.default?(p(),y("div",{key:0,class:g(e.classes(e.n("content"),[e.loading,e.n("content--active")]))},[h(e.$slots,"default"),e.loading?(p(),y("div",{key:0,class:g(e.n("content-mask"))},null,2)):f("v-if",!0)],2)):f("v-if",!0),e.isShow?(p(),y("div",{key:1,class:g(e.classes(e.n("$--box"),e.n("body"),[e.$slots.default,e.n("inside")]))},["circle"===e.type?(p(),y("div",{key:0,class:g(e.n("circle"))},[b("span",{class:g(e.classes(e.n("circle-block"),e.n("circle-block--"+e.size))),style:m({width:e.multiplySizeUnit(e.radius,2),height:e.multiplySizeUnit(e.radius,2),color:e.color})},P,6)],2)):f("v-if",!0),(p(!0),y(k,null,x(e.loadingTypeDict,((n,t)=>(p(),y(k,{key:t},[e.type===t?(p(),y("div",{key:0,class:g(e.classes(e.n(t),e.n(t+"--"+e.size)))},[(p(!0),y(k,null,x(n,(n=>(p(),y("div",{key:n+t,style:m({backgroundColor:e.color}),class:g(e.classes(e.n(t+"-item"),e.n(t+"-item--"+e.size)))},null,6)))),128))],2)):f("v-if",!0)],64)))),128)),e.$slots.description||e.description?(p(),y("div",{key:1,class:g(e.classes(e.n("description"),e.n("description--"+e.size))),style:m({color:e.color})},[h(e.$slots,"description",{},(()=>[S(z(e.description),1)]))],6)):f("v-if",!0)],2)):f("v-if",!0)],2)};const N=U;N.install=function(e){e.component(N.name,N)};var R={hovering:{type:Boolean,default:!0}},{n:V,classes:G}=t("hover-overlay");var A=d({name:"VarHoverOverlay",props:R,setup:()=>({n:V,classes:G})});A.render=function(e,n){return p(),y("div",{class:g(e.classes(e.n(),[e.hovering,e.n("--hovering")]))},null,2)};const D=A;function q(e){if(!e)return!1;var n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return!("desktop"!==e||!n)||"mobile"===e&&!n}function I(e){var{value:n}=e._hover,t=function(e){var n=e.getAttribute("style");return n?n.split(";").filter(Boolean).reduce(((e,n)=>{var[t,a]=n.split(":").map((e=>e.trim()));return e[o(t)]=a,e}),{}):{}}(e);Object.keys(n).forEach((a=>{var l=o(a);null!=n[l]&&t[l]&&(e._hover.rawStyle[l]=t[l])}))}function K(e,n){Object.keys(n).forEach((t=>{var o=n[t];null!=o&&(e.style[t]=o)}))}function M(e){!function(e){Object.keys(e._hover.value).forEach((n=>{null!=e._hover.value[n]&&(e.style[n]="")}))}(e),K(e,e._hover.rawStyle)}function Y(){var{value:e}=this._hover;this._hover.hovering=!0,a(e)?e(this._hover.hovering):K(this,e)}function F(){this._hover.hovering=!1,a(this._hover.value)?this._hover.value(this._hover.hovering):M(this)}function Z(e,n){var t,o,{arg:a,value:l}=n;q(a)||(e._hover={value:l,hovering:null!=(t=null==(o=e._hover)?void 0:o.hovering)&&t,rawStyle:{}},I(e),e.addEventListener("mouseenter",Y),e.addEventListener("mouseleave",F))}function J(e,n){q(n.arg)||(M(e),e.removeEventListener("mouseenter",Y),e.removeEventListener("mouseleave",F))}D.install=function(e){e.component(D.name,D)};const Q={mounted:Z,unmounted:J,beforeUpdate:function(e,n){e._hover&&J(e,n)},updated:function(e,n){Z(e,n),function(e,n){return!a(n.value)&&e._hover.hovering}(e,n)&&K(e,n.value)},install(e){e.directive("hover",this)}};function W(){return W=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},W.apply(this,arguments)}var X={type:{type:String,validator:function(e){return["default","primary","info","success","warning","danger"].includes(e)}},nativeType:{type:String,default:"button",validator:function(e){return["button","reset","submit"].includes(e)}},size:{type:String,validator:function(e){return["normal","mini","small","large"].includes(e)}},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},elevation:{type:[Boolean,Number,String],default:!0},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:l(j,"type"),loadingSize:l(j,"size"),loadingColor:W({},l(j,"color"),{default:"currentColor"}),onClick:i(),onTouchstart:i()},ee=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");var{n:ne,classes:te}=t("button"),oe=["type","disabled"];var ae=d({name:"VarButton",components:{VarLoading:N,VarHoverOverlay:D},directives:{Ripple:s,Hover:Q},props:X,setup(n){var t=C(!1),{buttonGroup:o}=function(){var{bindParent:e,parentProvider:n,index:t}=r(ee);return{index:t,buttonGroup:n,bindButtonGroup:e}}(),{hovering:a,handleHovering:l}=function(){var e=C(!1);return{hovering:e,handleHovering:n=>{e.value=n}}}(),i=v((()=>{if(!o)return{elevation:u(n.elevation,2),type:null!=n.type?n.type:"default",size:null!=n.size?n.size:"normal",color:n.color,text:n.text,textColor:n.textColor,outline:n.outline};var{type:e,size:t,color:a,textColor:l,mode:i}=o;return{elevation:"",type:null!=n.type?n.type:e.value,size:null!=n.size?n.size:t.value,color:null!=n.color?n.color:a.value,textColor:null!=n.textColor?n.textColor:l.value,text:"normal"!==i.value,outline:"outline"===i.value}})),s=e=>{n.autoLoading&&(t.value=!0,e=c(e)?e:[e],Promise.all(e).then((()=>{t.value=!1})).catch((()=>{t.value=!1})))};return{n:ne,classes:te,pending:t,states:i,hovering:a,handleHovering:l,handleClick:o=>{var{loading:a,disabled:l,onClick:i}=n;!i||a||l||t.value||s(e(i,o))},handleTouchstart:o=>{var{loading:a,disabled:l,onTouchstart:i}=n;!i||a||l||t.value||s(e(i,o))}}}});ae.render=function(e,n){var t=T("var-loading"),o=T("var-hover-overlay"),a=O("ripple"),l=O("hover");return w((p(),y("button",{class:g(e.classes(e.n(),e.n("$--box"),e.n("--"+e.states.size),[e.block,e.n("$--flex")+" "+e.n("--block"),e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,e.n("--text-"+e.states.type)+" "+e.n("--text"),e.n("--"+e.states.type)+" "+e.states.elevation],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:m({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)}),onTouchstart:n[1]||(n[1]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},[e.loading||e.pending?(p(),L(t,{key:0,class:g(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):f("v-if",!0),b("div",{class:g(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[h(e.$slots,"default")],2),$(o,{hovering:e.hovering},null,8,["hovering"])],46,oe)),[[a,{disabled:e.disabled||!e.ripple}],[l,e.handleHovering,"desktop"]])};const le=ae;le.install=function(e){e.component(le.name,le)};var ie=le;export{le as B,N as L,ie as _};
