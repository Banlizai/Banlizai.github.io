import{_ as e}from"./ripple-47ea40fa.js";import"./base-3d7462b4.js";import{P as a}from"./index-178cae74.js";/* empty css             */import{_ as l}from"./badge-c50989c0.js";import"./BadgeSfc-4ed993c7.js";import{u as o,S as s,a as t,b as i}from"./index-6f803ba9.js";/* empty css              */import{d as r,r as d,w as n,o as u,s as f,v as c,u as m,_ as p,I as v,b as h,e as g,l as x,p as b,h as j,F as w,C as _,g as V,q as y,t as T}from"./index-21254b6f.js";import{c as k,m as B,d as M,t as C,e as S,f as L,u as U,i as q,b as F}from"./with-install-460172ae.js";import{u as I}from"./use-expose-c9171c69.js";import{L as z}from"./index-369c902b.js";import"./use-touch-cfd7c7a6.js";import"./use-route-30d0c75e.js";import"./index-e4150b28.js";import"./constant-1f96826c.js";const[A,D,E]=k("list");const P=F(r({name:A,props:{error:Boolean,offset:B(300),loading:Boolean,disabled:Boolean,finished:Boolean,errorText:String,direction:M("down"),loadingText:String,finishedText:String,immediateCheck:C},emits:["load","update:error","update:loading"],setup(e,{emit:a,slots:l}){const s=d(e.loading),t=d(),i=d(),r=o(),p=S(t),v=()=>{m((()=>{if(s.value||e.finished||e.disabled||e.error||!1===(null==r?void 0:r.value))return;const{direction:l}=e,o=+e.offset,d=U(p);if(!d.height||q(t))return;let n=!1;const u=U(i);n="up"===l?d.top-u.top<=o:u.bottom-d.bottom<=o,n&&(s.value=!0,a("update:loading",!0),a("load"))}))},h=()=>{if(e.finished){const a=l.finished?l.finished():e.finishedText;if(a)return c("div",{class:D("finished-text")},[a])}},g=()=>{a("update:error",!1),v()},x=()=>{if(e.error){const a=l.error?l.error():e.errorText;if(a)return c("div",{role:"button",class:D("error-text"),tabindex:0,onClick:g},[a])}},b=()=>{if(s.value&&!e.finished&&!e.disabled)return c("div",{class:D("loading")},[l.loading?l.loading():c(z,{class:D("loading-icon")},{default:()=>[e.loadingText||E("loading")]})])};return n((()=>[e.loading,e.finished,e.error]),v),r&&n(r,(e=>{e&&v()})),u((()=>{s.value=e.loading})),f((()=>{e.immediateCheck&&v()})),I({check:v}),L("scroll",v,{target:p,passive:!0}),()=>{var a;const o=null==(a=l.default)?void 0:a.call(l),r=c("div",{ref:i,class:D("placeholder")},null);return c("div",{ref:t,role:"feed",class:D(),"aria-busy":s.value},["down"===e.direction?o:r,b(),h(),x(),"up"===e.direction?o:r])}}})),R={class:"flex w-full searchLayout"},G={class:"searchVanList overflow-y-auto"},H={class:"py-4 px-6"},J={class:"w-full h-24 mb-2 border shadow-lg rounded p-2 flex flex-wrap relative"},K={class:"w-full"},N={class:"font-bold ml-1"},O={class:"w-full"},Q={class:"font-bold ml-1"},W={class:"w-full"},X={class:"font-bold ml-1"},Y=p({__name:"index",setup(o){const r=d([]),n=d(!1),u=d(!1),f=()=>{setTimeout((()=>{r.value=m(),n.value=!1,r.value.length>=40&&(u.value=!0)}),1e3)},m=()=>{let e=[];for(let a=0;a<10;a++)e[a]={name:"雅新阁都",code:Math.floor(1e14*Math.random()),capacity:Math.floor(1e3*Math.random()),dot:Math.floor(100*Math.random())};return e},p=v([{label:"襄城供电中心",value:0},{label:"庞公供电所",value:1},{label:"欧庙供电所",value:2}]),k=d(""),B=d(0),M=()=>{},C=()=>{setTimeout((()=>{r.value=m(),n.value=!1}),2e3)};return(o,d)=>{const m=s,v=i,S=t,L=l,U=P,q=a,F=e;return h(),g(w,null,[x(c(m,{modelValue:k.value,"onUpdate:modelValue":d[0]||(d[0]=e=>k.value=e),placeholder:"输入台区名称/编号"},null,8,["modelValue"]),[[F]]),b("div",R,[c(S,{modelValue:B.value,"onUpdate:modelValue":d[1]||(d[1]=e=>B.value=e),onChange:M},{default:j((()=>[(h(!0),g(w,null,_(p,(e=>x((h(),V(v,{key:e.label,title:e.label},null,8,["title"])),[[F]]))),128))])),_:1},8,["modelValue"]),b("div",G,[c(q,{modelValue:n.value,"onUpdate:modelValue":d[3]||(d[3]=e=>n.value=e),onRefresh:C},{default:j((()=>[c(U,{loading:n.value,"onUpdate:loading":d[2]||(d[2]=e=>n.value=e),finished:u.value,"finished-text":"没有更多了",onLoad:f},{default:j((()=>[b("div",H,[(h(!0),g(w,null,_(r.value,((e,a)=>(h(),V(L,{key:a,type:"success",value:e.dot,"max-value":99,class:"z-50"},{default:j((()=>[x((h(),g("div",J,[b("div",K,[y(" 台区名称: "),b("span",N,T(e.name),1)]),b("div",O,[y(" 台区编号: "),b("span",Q,T(e.code),1)]),b("div",W,[y(" 台区容量: "),b("span",X,T(e.capacity),1)])])),[[F]])])),_:2},1032,["value"])))),128))])])),_:1},8,["loading","finished"])])),_:1},8,["modelValue"])])])],64)}}},[["__scopeId","data-v-9050aaa8"]]);export{Y as default};
