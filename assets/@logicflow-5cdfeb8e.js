import{I as nv}from"./ids-46106237.js";import{y as ri,k as rv}from"./preact-b8060ab3.js";var x1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y_(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function E1(_){if(_.__esModule)return _;var m=_.default;if(typeof m=="function"){var l=function p(){if(this instanceof p){var u=[null];u.push.apply(u,arguments);var d=Function.bind.apply(m,u);return new d}return m.apply(this,arguments)};l.prototype=m.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(_).forEach(function(p){var u=Object.getOwnPropertyDescriptor(_,p);Object.defineProperty(l,p,u.get?u:{enumerable:!0,get:function(){return _[p]}})}),l}var je={},G_={get exports(){return je},set exports(_){je=_}};(function(_,m){(function(l,p){_.exports=p()})(window,function(){return function(l){var p={};function u(d){if(p[d])return p[d].exports;var y=p[d]={i:d,l:!1,exports:{}};return l[d].call(y.exports,y,y.exports,u),y.l=!0,y.exports}return u.m=l,u.c=p,u.d=function(d,y,b){u.o(d,y)||Object.defineProperty(d,y,{enumerable:!0,get:b})},u.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},u.t=function(d,y){if(1&y&&(d=u(d)),8&y||4&y&&typeof d=="object"&&d&&d.__esModule)return d;var b=Object.create(null);if(u.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:d}),2&y&&typeof d!="string")for(var x in d)u.d(b,x,function(E){return d[E]}.bind(null,x));return b},u.n=function(d){var y=d&&d.__esModule?function(){return d.default}:function(){return d};return u.d(y,"a",y),y},u.o=function(d,y){return Object.prototype.hasOwnProperty.call(d,y)},u.p="",u(u.s=184)}([function(l,p,u){(function(d,y){u.d(p,"a",function(){return Xn}),u.d(p,"b",function(){return xr}),u.d(p,"c",function(){return er}),u.d(p,"d",function(){return ma}),u.d(p,"e",function(){return ho}),u.d(p,"f",function(){return Sr}),u.d(p,"g",function(){return Pe}),u.d(p,"h",function(){return ci}),u.d(p,"i",function(){return vn}),u.d(p,"j",function(){return Sn}),u.d(p,"k",function(){return $n}),u.d(p,"l",function(){return vi}),u.d(p,"m",function(){return ce}),u.d(p,"n",function(){return zn}),u.d(p,"o",function(){return mo}),u.d(p,"p",function(){return xa}),u.d(p,"q",function(){return on}),u.d(p,"r",function(){return ar}),u.d(p,"s",function(){return di}),u.d(p,"t",function(){return Ea}),u.d(p,"u",function(){return mi}),u.d(p,"v",function(){return nr}),u.d(p,"w",function(){return Lt}),u.d(p,"x",function(){return zt}),u.d(p,"y",function(){return Kt}),u.d(p,"z",function(){return jn}),u.d(p,"A",function(){return qe}),u.d(p,"B",function(){return _i}),u.d(p,"C",function(){return Or}),u.d(p,"D",function(){return yi}),u.d(p,"E",function(){return pi}),u.d(p,"F",function(){return bo}),u.d(p,"G",function(){return Br}),u.d(p,"H",function(){return Wt}),u.d(p,"I",function(){return In}),u.d(p,"J",function(){return Oi}),u.d(p,"K",function(){return bn});var b=[];Object.freeze(b);var x={};Object.freeze(x);var E={};function k(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:E}function A(){return++ve.mobxGuid}function T(h){throw w(!1,h),"X"}function w(h,v){if(!h)throw new Error("[mobx] "+(v||"An invariant failed, however the error is obfuscated because this is an production build."))}function X(h){var v=!1;return function(){if(!v)return v=!0,h.apply(this,arguments)}}var G=function(){};function J(h){return h!==null&&typeof h=="object"}function W(h){if(h===null||typeof h!="object")return!1;var v=Object.getPrototypeOf(h);return v===Object.prototype||v===null}function U(h,v,O){Object.defineProperty(h,v,{enumerable:!1,writable:!0,configurable:!0,value:O})}function R(h,v,O){Object.defineProperty(h,v,{enumerable:!1,writable:!1,configurable:!0,value:O})}function H(h,v){var O="isMobX"+h;return v.prototype[O]=!0,function(P){return J(P)&&P[O]===!0}}function Y(h){return k().Map!==void 0&&h instanceof k().Map}function M(h){return h instanceof Set}function C(h){for(var v=[];;){var O=h.next();if(O.done)break;v.push(O.value)}return v}function I(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function z(h){return h===null?null:typeof h=="object"?""+h:h}function L(h,v){for(var O=h.next();!O.done;)v(O.value),O=h.next()}function Z(){return typeof Symbol=="function"&&Symbol.iterator||"@@iterator"}function ee(h,v){R(h,Z(),v)}function re(h){return h[Z()]=ge,h}function ae(){return typeof Symbol=="function"&&Symbol.toStringTag||"@@toStringTag"}function ge(){return this}var fe=function(){function h(v){v===void 0&&(v="Atom@"+A()),this.name=v,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ce.NOT_TRACKING}return h.prototype.onBecomeUnobserved=function(){},h.prototype.onBecomeObserved=function(){},h.prototype.reportObserved=function(){return Rr(this)},h.prototype.reportChanged=function(){Ct(),function(v){if(v.lowestObserverState!==Ce.STALE){v.lowestObserverState=Ce.STALE;for(var O=v.observers,P=O.length;P--;){var D=O[P];D.dependenciesState===Ce.UP_TO_DATE&&(D.isTracing!==st.NONE&&br(D,v),D.onBecomeStale()),D.dependenciesState=Ce.STALE}}}(this),Tt()},h.prototype.toString=function(){return this.name},h}(),pe=H("Atom",fe);function ce(h,v,O){v===void 0&&(v=G),O===void 0&&(O=G);var P,D=new fe(h);return gn("onBecomeObserved",D,v,P),Or(D,O),D}function le(h,v){return h===v}var ye={identity:le,structural:function(h,v){return jo(h,v)},default:function(h,v){return function(O,P){return typeof O=="number"&&typeof P=="number"&&isNaN(O)&&isNaN(P)}(h,v)||le(h,v)},shallow:function(h,v){return jo(h,v,1)}},de=function(h,v){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,P){O.__proto__=P}||function(O,P){for(var D in P)P.hasOwnProperty(D)&&(O[D]=P[D])})(h,v)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */function ke(h,v){function O(){this.constructor=h}de(h,v),h.prototype=v===null?Object.create(v):(O.prototype=v.prototype,new O)}var we=function(){return(we=Object.assign||function(h){for(var v,O=1,P=arguments.length;O<P;O++)for(var D in v=arguments[O])Object.prototype.hasOwnProperty.call(v,D)&&(h[D]=v[D]);return h}).apply(this,arguments)};function He(h,v){var O=typeof Symbol=="function"&&h[Symbol.iterator];if(!O)return h;var P,D,F=O.call(h),Q=[];try{for(;(v===void 0||v-- >0)&&!(P=F.next()).done;)Q.push(P.value)}catch(se){D={error:se}}finally{try{P&&!P.done&&(O=F.return)&&O.call(F)}finally{if(D)throw D.error}}return Q}function Ge(){for(var h=[],v=0;v<arguments.length;v++)h=h.concat(He(arguments[v]));return h}var ze={},Ut={};function cn(h,v){var O=v?ze:Ut;return O[h]||(O[h]={configurable:!0,enumerable:v,get:function(){return ut(this),this[h]},set:function(P){ut(this),this[h]=P}})}function ut(h){if(h.__mobxDidRunLazyInitializers!==!0){var v=h.__mobxDecorators;if(v)for(var O in U(h,"__mobxDidRunLazyInitializers",!0),v){var P=v[O];P.propertyCreator(h,P.prop,P.descriptor,P.decoratorTarget,P.decoratorArguments)}}}function Ue(h,v){return function(){var O,P=function(D,F,Q,se){if(se===!0)return v(D,F,Q,D,O),null;if(!Object.prototype.hasOwnProperty.call(D,"__mobxDecorators")){var _e=D.__mobxDecorators;U(D,"__mobxDecorators",we({},_e))}return D.__mobxDecorators[F]={prop:F,propertyCreator:v,descriptor:Q,decoratorTarget:D,decoratorArguments:O},cn(F,h)};return ht(arguments)?(O=b,P.apply(null,arguments)):(O=Array.prototype.slice.call(arguments),P)}}function ht(h){return(h.length===2||h.length===3)&&typeof h[1]=="string"||h.length===4&&h[3]===!0}function gt(h,v,O){return nr(h)?h:Array.isArray(h)?qe.array(h,{name:O}):W(h)?qe.object(h,void 0,{name:O}):Y(h)?qe.map(h,{name:O}):M(h)?qe.set(h,{name:O}):h}function sn(h){return h}function jt(h){w(h);var v=Ue(!0,function(P,D,F,Q,se){ka(P,D,F?F.initializer?F.initializer.call(P):F.value:void 0,h)}),O=(y!==void 0&&y.env,v);return O.enhancer=h,O}var Wn={deep:!0,name:void 0,defaultDecorator:void 0};function ln(h){return h==null?Wn:typeof h=="string"?{name:h,deep:!0}:h}function _t(h){return h.defaultDecorator?h.defaultDecorator.enhancer:h.deep===!1?sn:gt}Object.freeze(Wn);var en=jt(gt),fn=jt(function(h,v,O){return h==null||Kt(h)||Lt(h)||zt(h)||wt(h)?h:Array.isArray(h)?qe.array(h,{name:O,deep:!1}):W(h)?qe.object(h,void 0,{name:O,deep:!1}):Y(h)?qe.map(h,{name:O,deep:!1}):M(h)?qe.set(h,{name:O,deep:!1}):T(!1)}),Vn=jt(sn),Cr=jt(function(h,v,O){return jo(h,v)?v:h}),Cn={box:function(h,v){arguments.length>2&&Dt("box");var O=ln(v);return new hn(h,_t(O),O.name,!0,O.equals)},shallowBox:function(h,v){return arguments.length>2&&Dt("shallowBox"),qe.box(h,{name:v,deep:!1})},array:function(h,v){arguments.length>2&&Dt("array");var O=ln(v);return new It(h,_t(O),O.name)},shallowArray:function(h,v){return arguments.length>2&&Dt("shallowArray"),qe.array(h,{name:v,deep:!1})},map:function(h,v){arguments.length>2&&Dt("map");var O=ln(v);return new xr(h,_t(O),O.name)},shallowMap:function(h,v){return arguments.length>2&&Dt("shallowMap"),qe.map(h,{name:v,deep:!1})},set:function(h,v){arguments.length>2&&Dt("set");var O=ln(v);return new Vr(h,_t(O),O.name)},object:function(h,v,O){typeof arguments[1]=="string"&&Dt("object");var P=ln(O);return mo({},h,v,P)},shallowObject:function(h,v){return typeof arguments[1]=="string"&&Dt("shallowObject"),qe.object(h,{},{name:v,deep:!1})},ref:Vn,shallow:fn,deep:en,struct:Cr},qe=function(h,v,O){if(typeof arguments[1]=="string")return en.apply(null,arguments);if(nr(h))return h;var P=W(h)?qe.object(h,v,O):Array.isArray(h)?qe.array(h,v):Y(h)?qe.map(h,v):M(h)?qe.set(h,v):h;if(P!==h)return P;T(!1)};function Dt(h){T("Expected one or two arguments to observable."+h+". Did you accidentally try to use observable."+h+" as decorator?")}Object.keys(Cn).forEach(function(h){return qe[h]=Cn[h]});var Ce,st,pn=Ue(!1,function(h,v,O,P,D){var F=O.get,Q=O.set,se=D[0]||{};(function(_e,Te,xe){var Be=So(_e);xe.name=Be.name+"."+Te,xe.context=_e,Be.values[Te]=new yn(xe),Object.defineProperty(_e,Te,function(Xe){return ji[Xe]||(ji[Xe]={configurable:ve.computedConfigurable,enumerable:!1,get:function(){return rn(this).read(this,Xe)},set:function(Fe){rn(this).write(this,Xe,Fe)}})}(Te))})(h,v,we({get:F,set:Q},se))}),Rn=pn({equals:ye.structural}),$n=function(h,v,O){if(typeof v=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return pn.apply(null,arguments);var P=typeof v=="object"?v:{};return P.get=h,P.set=typeof v=="function"?v:P.set,P.name=P.name||h.name||"",new yn(P)};$n.struct=Rn,function(h){h[h.NOT_TRACKING=-1]="NOT_TRACKING",h[h.UP_TO_DATE=0]="UP_TO_DATE",h[h.POSSIBLY_STALE=1]="POSSIBLY_STALE",h[h.STALE=2]="STALE"}(Ce||(Ce={})),function(h){h[h.NONE=0]="NONE",h[h.LOG=1]="LOG",h[h.BREAK=2]="BREAK"}(st||(st={}));var xn=function(h){this.cause=h};function Yt(h){return h instanceof xn}function be(h){switch(h.dependenciesState){case Ce.UP_TO_DATE:return!1;case Ce.NOT_TRACKING:case Ce.STALE:return!0;case Ce.POSSIBLY_STALE:for(var v=Kn(!0),O=En(),P=h.observing,D=P.length,F=0;F<D;F++){var Q=P[F];if(Ln(Q)){if(ve.disableErrorBoundaries)Q.get();else try{Q.get()}catch{return Pt(O),qn(v),!0}if(h.dependenciesState===Ce.STALE)return Pt(O),qn(v),!0}}return Zn(h),Pt(O),qn(v),!1}}function Pe(){return ve.trackingDerivation!==null}function De(h){var v=h.observers.length>0;ve.computationDepth>0&&v&&T(!1),ve.allowStateChanges||!v&&ve.enforceActions!=="strict"||T(!1)}function Re(h,v,O){var P=Kn(!0);Zn(h),h.newObserving=new Array(h.observing.length+100),h.unboundDepsCount=0,h.runId=++ve.runId;var D,F=ve.trackingDerivation;if(ve.trackingDerivation=h,ve.disableErrorBoundaries===!0)D=v.call(O);else try{D=v.call(O)}catch(Q){D=new xn(Q)}return ve.trackingDerivation=F,function(Q){for(var se=Q.observing,_e=Q.observing=Q.newObserving,Te=Ce.UP_TO_DATE,xe=0,Be=Q.unboundDepsCount,Xe=0;Xe<Be;Xe++)(Fe=_e[Xe]).diffValue===0&&(Fe.diffValue=1,xe!==Xe&&(_e[xe]=Fe),xe++),Fe.dependenciesState>Te&&(Te=Fe.dependenciesState);for(_e.length=xe,Q.newObserving=null,Be=se.length;Be--;)(Fe=se[Be]).diffValue===0&&gr(Fe,Q),Fe.diffValue=0;for(;xe--;){var Fe;(Fe=_e[xe]).diffValue===1&&(Fe.diffValue=0,Qn(Fe,Q))}Te!==Ce.UP_TO_DATE&&(Q.dependenciesState=Te,Q.onBecomeStale())}(h),h.observing.length,qn(P),D}function it(h){var v=h.observing;h.observing=[];for(var O=v.length;O--;)gr(v[O],h);h.dependenciesState=Ce.NOT_TRACKING}function In(h){var v=En(),O=h();return Pt(v),O}function En(){var h=ve.trackingDerivation;return ve.trackingDerivation=null,h}function Pt(h){ve.trackingDerivation=h}function Kn(h){var v=ve.allowStateReads;return ve.allowStateReads=h,v}function qn(h){ve.allowStateReads=h}function Zn(h){if(h.dependenciesState!==Ce.UP_TO_DATE){h.dependenciesState=Ce.UP_TO_DATE;for(var v=h.observing,O=v.length;O--;)v[O].lowestObserverState=Ce.UP_TO_DATE}}var dr=0,ba=1,ai=Object.getOwnPropertyDescriptor(function(){},"name");ai&&ai.configurable;function dn(h,v){var O=function(){return ui(h,v,this,arguments)};return O.isMobxAction=!0,O}function ui(h,v,O,P){var D=ci(h,O,P);try{return v.apply(O,P)}catch(F){throw D.error=F,F}finally{ho(D)}}function ci(h,v,O){var P=lt()&&!!h,D=0;if(P){D=Date.now();var F=O&&O.length||0,Q=new Array(F);if(F>0)for(var se=0;se<F;se++)Q[se]=O[se];Mt({type:"action",name:h,object:v,arguments:Q})}var _e=En();Ct();var Te={prevDerivation:_e,prevAllowStateChanges:hr(!0),prevAllowStateReads:Kn(!0),notifySpy:P,startTime:D,actionId:ba++,parentActionId:dr};return dr=Te.actionId,Te}function ho(h){dr!==h.actionId&&T("invalid action stack. did you forget to finish an action?"),dr=h.parentActionId,h.error!==void 0&&(ve.suppressReactionErrors=!0),yr(h.prevAllowStateChanges),qn(h.prevAllowStateReads),Tt(),Pt(h.prevDerivation),h.notifySpy&&Gt({time:Date.now()-h.startTime}),ve.suppressReactionErrors=!1}function ma(h,v){var O,P=hr(h);try{O=v()}finally{yr(P)}return O}function hr(h){var v=ve.allowStateChanges;return ve.allowStateChanges=h,v}function yr(h){ve.allowStateChanges=h}var hn=function(h){function v(O,P,D,F,Q){D===void 0&&(D="ObservableValue@"+A()),F===void 0&&(F=!0),Q===void 0&&(Q=ye.default);var se=h.call(this,D)||this;return se.enhancer=P,se.name=D,se.equals=Q,se.hasUnreportedChange=!1,se.value=P(O,void 0,D),F&&lt()&&tr({type:"create",name:se.name,newValue:""+se.value}),se}return ke(v,h),v.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},v.prototype.set=function(O){var P=this.value;if((O=this.prepareNewValue(O))!==ve.UNCHANGED){var D=lt();D&&Mt({type:"update",name:this.name,newValue:O,oldValue:P}),this.setNewValue(O),D&&Gt()}},v.prototype.prepareNewValue=function(O){if(De(this),tn(this)){var P=Vt(this,{object:this,type:"update",newValue:O});if(!P)return ve.UNCHANGED;O=P.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?ve.UNCHANGED:O},v.prototype.setNewValue=function(O){var P=this.value;this.value=O,this.reportChanged(),$t(this)&&Rt(this,{type:"update",object:this,newValue:O,oldValue:P})},v.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},v.prototype.intercept=function(O){return or(this,O)},v.prototype.observe=function(O,P){return P&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Bn(this,O)},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.value+"]"},v.prototype.valueOf=function(){return z(this.get())},v}(fe);hn.prototype[I()]=hn.prototype.valueOf;var si=H("ObservableValue",hn),yn=function(){function h(v){this.dependenciesState=Ce.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ce.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+A(),this.value=new xn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=st.NONE,w(v.get,"missing option for computed: get"),this.derivation=v.get,this.name=v.name||"ComputedValue@"+A(),v.set&&(this.setter=dn(this.name+"-setter",v.set)),this.equals=v.equals||(v.compareStructural||v.struct?ye.structural:ye.default),this.scope=v.context,this.requiresReaction=!!v.requiresReaction,this.keepAlive=!!v.keepAlive}return h.prototype.onBecomeStale=function(){(function(v){if(v.lowestObserverState===Ce.UP_TO_DATE){v.lowestObserverState=Ce.POSSIBLY_STALE;for(var O=v.observers,P=O.length;P--;){var D=O[P];D.dependenciesState===Ce.UP_TO_DATE&&(D.dependenciesState=Ce.POSSIBLY_STALE,D.isTracing!==st.NONE&&br(D,v),D.onBecomeStale())}}})(this)},h.prototype.onBecomeUnobserved=function(){},h.prototype.onBecomeObserved=function(){},h.prototype.get=function(){this.isComputing&&T("Cycle detected in computation "+this.name+": "+this.derivation),ve.inBatch!==0||this.observers.length!==0||this.keepAlive?(Rr(this),be(this)&&this.trackAndCompute()&&function(O){if(O.lowestObserverState!==Ce.STALE){O.lowestObserverState=Ce.STALE;for(var P=O.observers,D=P.length;D--;){var F=P[D];F.dependenciesState===Ce.POSSIBLY_STALE?F.dependenciesState=Ce.STALE:F.dependenciesState===Ce.UP_TO_DATE&&(O.lowestObserverState=Ce.UP_TO_DATE)}}}(this)):be(this)&&(this.warnAboutUntrackedRead(),Ct(),this.value=this.computeValue(!1),Tt());var v=this.value;if(Yt(v))throw v.cause;return v},h.prototype.peek=function(){var v=this.computeValue(!1);if(Yt(v))throw v.cause;return v},h.prototype.set=function(v){if(this.setter){w(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,v)}finally{this.isRunningSetter=!1}}else w(!1,!1)},h.prototype.trackAndCompute=function(){lt()&&tr({object:this.scope,type:"compute",name:this.name});var v=this.value,O=this.dependenciesState===Ce.NOT_TRACKING,P=this.computeValue(!0),D=O||Yt(v)||Yt(P)||!this.equals(v,P);return D&&(this.value=P),D},h.prototype.computeValue=function(v){var O;if(this.isComputing=!0,ve.computationDepth++,v)O=Re(this,this.derivation,this.scope);else if(ve.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(P){O=new xn(P)}return ve.computationDepth--,this.isComputing=!1,O},h.prototype.suspend=function(){this.keepAlive||(it(this),this.value=void 0)},h.prototype.observe=function(v,O){var P=this,D=!0,F=void 0;return Sn(function(){var Q=P.get();if(!D||O){var se=En();v({type:"update",object:P,newValue:Q,oldValue:F}),Pt(se)}D=!1,F=Q})},h.prototype.warnAboutUntrackedRead=function(){},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},h.prototype.valueOf=function(){return z(this.get())},h}();yn.prototype[I()]=yn.prototype.valueOf;var Ln=H("ComputedValue",yn),vr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Jn=!0,yo=!1,ve=function(){var h=k();return h.__mobxInstanceCount>0&&!h.__mobxGlobals&&(Jn=!1),h.__mobxGlobals&&h.__mobxGlobals.version!==new vr().version&&(Jn=!1),Jn?h.__mobxGlobals?(h.__mobxInstanceCount+=1,h.__mobxGlobals.UNCHANGED||(h.__mobxGlobals.UNCHANGED={}),h.__mobxGlobals):(h.__mobxInstanceCount=1,h.__mobxGlobals=new vr):(setTimeout(function(){yo||T("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new vr)}();function Qn(h,v){var O=h.observers.length;O&&(h.observersIndexes[v.__mapid]=O),h.observers[O]=v,h.lowestObserverState>v.dependenciesState&&(h.lowestObserverState=v.dependenciesState)}function gr(h,v){if(h.observers.length===1)h.observers.length=0,vo(h);else{var O=h.observers,P=h.observersIndexes,D=O.pop();if(D!==v){var F=P[v.__mapid]||0;F?P[D.__mapid]=F:delete P[D.__mapid],O[F]=D}delete P[v.__mapid]}}function vo(h){h.isPendingUnobservation===!1&&(h.isPendingUnobservation=!0,ve.pendingUnobservations.push(h))}function Ct(){ve.inBatch++}function Tt(){if(--ve.inBatch==0){go();for(var h=ve.pendingUnobservations,v=0;v<h.length;v++){var O=h[v];O.isPendingUnobservation=!1,O.observers.length===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof yn&&O.suspend())}ve.pendingUnobservations=[]}}function Rr(h){var v=ve.trackingDerivation;return v!==null?(v.runId!==h.lastAccessedBy&&(h.lastAccessedBy=v.runId,v.newObserving[v.unboundDepsCount++]=h,h.isBeingObserved||(h.isBeingObserved=!0,h.onBecomeObserved())),!0):(h.observers.length===0&&ve.inBatch>0&&vo(h),!1)}function br(h,v){if(console.log("[mobx.trace] '"+h.name+"' is invalidated due to a change in: '"+v.name+"'"),h.isTracing===st.BREAK){var O=[];(function F(Q,se,_e){if(se.length>=1e3)return void se.push("(and many more)");se.push(""+new Array(_e).join("	")+Q.name),Q.dependencies&&Q.dependencies.forEach(function(Te){return F(Te,se,_e+1)})})((P=h,gi(on(P,D))),O,1),new Function(`debugger;
/*
Tracing '`+h.name+`'

You are entering this break point because derivation '`+h.name+"' is being traced and '"+v.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(h instanceof yn?h.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}var P,D}var er=function(){function h(v,O,P,D){v===void 0&&(v="Reaction@"+A()),D===void 0&&(D=!1),this.name=v,this.onInvalidate=O,this.errorHandler=P,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=Ce.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+A(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=st.NONE}return h.prototype.onBecomeStale=function(){this.schedule()},h.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ve.pendingReactions.push(this),go())},h.prototype.isScheduled=function(){return this._isScheduled},h.prototype.runReaction=function(){if(!this.isDisposed){if(Ct(),this._isScheduled=!1,be(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&lt()&&tr({name:this.name,type:"scheduled-reaction"})}catch(v){this.reportExceptionInDerivation(v)}}Tt()}},h.prototype.track=function(v){Ct();var O,P=lt();P&&(O=Date.now(),Mt({name:this.name,type:"reaction"})),this._isRunning=!0;var D=Re(this,v,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&it(this),Yt(D)&&this.reportExceptionInDerivation(D.cause),P&&Gt({time:Date.now()-O}),Tt()},h.prototype.reportExceptionInDerivation=function(v){var O=this;if(this.errorHandler)this.errorHandler(v,this);else{if(ve.disableErrorBoundaries)throw v;var P="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ve.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(P,v),lt()&&tr({type:"error",name:this.name,message:P,error:""+v}),ve.globalReactionErrorHandlers.forEach(function(D){return D(v,O)})}},h.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ct(),it(this),Tt()))},h.prototype.getDisposer=function(){var v=this.dispose.bind(this);return v.$mobx=this,v},h.prototype.toString=function(){return"Reaction["+this.name+"]"},h.prototype.trace=function(v){v===void 0&&(v=!1),function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];var D=!1;typeof O[O.length-1]=="boolean"&&(D=O.pop());var F=Xr(O);if(!F)return T(!1);F.isTracing===st.NONE&&console.log("[mobx.trace] '"+F.name+"' tracing enabled"),F.isTracing=D?st.BREAK:st.LOG}(this,v)},h}(),mr=function(h){return h()};function go(){ve.inBatch>0||ve.isRunningReactions||mr(Ir)}function Ir(){ve.isRunningReactions=!0;for(var h=ve.pendingReactions,v=0;h.length>0;){++v==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+h[0]),h.splice(0));for(var O=h.splice(0),P=0,D=O.length;P<D;P++)O[P].runReaction()}ve.isRunningReactions=!1}var We=H("Reaction",er);function Oa(h){var v=mr;mr=function(O){return h(function(){return v(O)})}}function lt(){return!!ve.spyListeners.length}function tr(h){if(ve.spyListeners.length)for(var v=ve.spyListeners,O=0,P=v.length;O<P;O++)v[O](h)}function Mt(h){tr(we(we({},h),{spyReportStart:!0}))}var _a={spyReportEnd:!0};function Gt(h){tr(h?we(we({},h),{spyReportEnd:!0}):_a)}function bo(h){return ve.spyListeners.push(h),X(function(){ve.spyListeners=ve.spyListeners.filter(function(v){return v!==h})})}function wa(){T(!1)}function li(h){return function(v,O,P){if(P){if(P.value)return{value:dn(h,P.value),enumerable:!1,configurable:!0,writable:!0};var D=P.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return dn(h,D.call(this))}}}return fi(h).apply(this,arguments)}}function fi(h){return function(v,O,P){Object.defineProperty(v,O,{configurable:!0,enumerable:!1,get:function(){},set:function(D){U(this,O,vn(h,D))}})}}var vn=function(h,v,O,P){return arguments.length===1&&typeof h=="function"?dn(h.name||"<unnamed action>",h):arguments.length===2&&typeof v=="function"?dn(h,v):arguments.length===1&&typeof h=="string"?li(h):P!==!0?li(v).apply(null,arguments):void(h[v]=dn(h.name||v,O.value))};function pi(h,v){return ui(typeof h=="string"?h:h.name||"<unnamed action>",typeof h=="function"?h:v,this,void 0)}function di(h){return typeof h=="function"&&h.isMobxAction===!0}function Lr(h,v,O){U(h,v,dn(v,O.bind(h)))}function Sn(h,v){v===void 0&&(v=x);var O,P=v&&v.name||h.name||"Autorun@"+A();if(!v.scheduler&&!v.delay)O=new er(P,function(){this.track(Q)},v.onError,v.requiresObservable);else{var D=zr(v),F=!1;O=new er(P,function(){F||(F=!0,D(function(){F=!1,O.isDisposed||O.track(Q)}))},v.onError,v.requiresObservable)}function Q(){h(O)}return O.schedule(),O.getDisposer()}vn.bound=function(h,v,O,P){return P===!0?(Lr(h,v,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return Lr(this,v,O.value||O.initializer.call(this)),this[v]},set:wa}:{enumerable:!1,configurable:!0,set:function(D){Lr(this,v,D)},get:function(){}}};var hi=function(h){return h()};function zr(h){return h.scheduler?h.scheduler:h.delay?function(v){return setTimeout(v,h.delay)}:hi}function yi(h,v,O){O===void 0&&(O=x),typeof O=="boolean"&&(O={fireImmediately:O});var P,D,F,Q=O.name||"Reaction@"+A(),se=vn(Q,O.onError?(P=O.onError,D=v,function(){try{return D.apply(this,arguments)}catch(et){P.call(this,et)}}):v),_e=!O.scheduler&&!O.delay,Te=zr(O),xe=!0,Be=!1,Xe=O.compareStructural?ye.structural:O.equals||ye.default,Fe=new er(Q,function(){xe||_e?Qe():Be||(Be=!0,Te(Qe))},O.onError,O.requiresObservable);function Qe(){if(Be=!1,!Fe.isDisposed){var et=!1;Fe.track(function(){var rt=h(Fe);et=xe||!Xe(F,rt),F=rt}),xe&&O.fireImmediately&&se(F,Fe),xe||et!==!0||se(F,Fe),xe&&(xe=!1)}}return Fe.schedule(),Fe.getDisposer()}function Or(h,v,O){return gn("onBecomeUnobserved",h,v,O)}function gn(h,v,O,P){var D=typeof P=="function"?on(v,O):on(v),F=typeof P=="function"?P:O,Q=D[h];return typeof Q!="function"?T(!1):(D[h]=function(){Q.call(this),F.call(this)},function(){D[h]=Q})}function vi(h){var v=h.enforceActions,O=h.computedRequiresReaction,P=h.computedConfigurable,D=h.disableErrorBoundaries,F=h.arrayBuffer,Q=h.reactionScheduler,se=h.reactionRequiresObservable,_e=h.observableRequiresReaction;if(h.isolateGlobalState===!0&&((ve.pendingReactions.length||ve.inBatch||ve.isRunningReactions)&&T("isolateGlobalState should be called before MobX is running any reactions"),yo=!0,Jn&&(--k().__mobxInstanceCount==0&&(k().__mobxGlobals=void 0),ve=new vr)),v!==void 0){var Te=void 0;switch(v){case!0:case"observed":Te=!0;break;case!1:case"never":Te=!1;break;case"strict":case"always":Te="strict";break;default:T("Invalid value for 'enforceActions': '"+v+"', expected 'never', 'always' or 'observed'")}ve.enforceActions=Te,ve.allowStateChanges=Te!==!0&&Te!=="strict"}O!==void 0&&(ve.computedRequiresReaction=!!O),se!==void 0&&(ve.reactionRequiresObservable=!!se),_e!==void 0&&(ve.observableRequiresReaction=!!_e,ve.allowStateReads=!ve.observableRequiresReaction),P!==void 0&&(ve.computedConfigurable=!!P),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),ve.disableErrorBoundaries=!!D),typeof F=="number"&&Yr(F),Q&&Oa(Q)}function mo(h,v,O,P){var D=(P=ln(P)).defaultDecorator||(P.deep===!1?Vn:en);ut(h),So(h,P.name,D.enhancer),Ct();try{for(var F=Object.getOwnPropertyNames(v),Q=0,se=F.length;Q<se;Q++){var _e=F[Q],Te=Object.getOwnPropertyDescriptor(v,_e),xe=(O&&_e in O?O[_e]:Te.get?pn:D)(h,_e,Te,!0);xe&&Object.defineProperty(h,_e,xe)}}finally{Tt()}return h}function gi(h){var v,O,P={name:h.name};return h.observing&&h.observing.length>0&&(P.dependencies=(v=h.observing,O=[],v.forEach(function(D){O.indexOf(D)===-1&&O.push(D)}),O).map(gi)),P}var bi=0;function Oo(){this.message="FLOW_CANCELLED"}function xa(h){arguments.length!==1&&T("Flow expects one 1 argument and cannot be used as decorator");var v=h.name||"<unnamed flow>";return function(){var O,P=this,D=arguments,F=++bi,Q=vn(v+" - runid: "+F+" - init",h).apply(P,D),se=void 0,_e=new Promise(function(Te,xe){var Be=0;function Xe(et){var rt;se=void 0;try{rt=vn(v+" - runid: "+F+" - yield "+Be++,Q.next).call(Q,et)}catch(yt){return xe(yt)}Qe(rt)}function Fe(et){var rt;se=void 0;try{rt=vn(v+" - runid: "+F+" - yield "+Be++,Q.throw).call(Q,et)}catch(yt){return xe(yt)}Qe(rt)}function Qe(et){if(!et||typeof et.then!="function")return et.done?Te(et.value):(se=Promise.resolve(et.value)).then(Xe,Fe);et.then(Qe,xe)}O=xe,Xe(void 0)});return _e.cancel=vn(v+" - runid: "+F+" - cancel",function(){try{se&&_o(se);var Te=Q.return(void 0),xe=Promise.resolve(Te.value);xe.then(G,G),_o(xe),O(new Oo)}catch(Be){O(Be)}}),_e}}function _o(h){typeof h.cancel=="function"&&h.cancel()}function wo(h,v){if(h==null)return!1;if(v!==void 0){if(Kt(h)===!1||!h.$mobx.values[v])return!1;var O=on(h,v);return Ln(O)}return Ln(h)}function Ea(h){return arguments.length>1?T(!1):wo(h)}function mi(h,v){return typeof v!="string"?T(!1):wo(h,v)}function Sa(h,v){if(h==null)return!1;if(v!==void 0){if(Kt(h)){var O=h.$mobx;return O.values&&!!O.values[v]}return!1}return Kt(h)||!!h.$mobx||pe(h)||We(h)||Ln(h)}function nr(h){return arguments.length!==1&&T(!1),Sa(h)}function jn(h){return Kt(h)?h.$mobx.getKeys():zt(h)||wt(h)?C(h.keys()):Lt(h)?h.map(function(v,O){return O}):T(!1)}function Oi(h){return Kt(h)?jn(h).map(function(v){return h[v]}):zt(h)?jn(h).map(function(v){return h.get(v)}):wt(h)?C(h.values()):Lt(h)?h.slice():T(!1)}function zn(h){return Kt(h)?jn(h).map(function(v){return[v,h[v]]}):zt(h)?jn(h).map(function(v){return[v,h.get(v)]}):wt(h)?C(h.entries()):Lt(h)?h.map(function(v,O){return[O,v]}):T(!1)}function _i(h,v,O,P){return typeof O=="function"?function(D,F,Q,se){return Sr(D,F).observe(Q,se)}(h,v,O,P):function(D,F,Q){return Sr(D).observe(F,Q)}(h,v,O)}Oo.prototype=Object.create(Error.prototype);var rr={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Pn(h,v,O,P){return P.detectCycles&&h.set(v,O),O}function Br(h,v){var O;return typeof v=="boolean"&&(v={detectCycles:v}),v||(v=rr),v.detectCycles=v.detectCycles===void 0?v.recurseEverything===!0:v.detectCycles===!0,v.detectCycles&&(O=new Map),function P(D,F,Q){if(!F.recurseEverything&&!nr(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(si(D))return P(D.get(),F,Q);if(nr(D)&&jn(D),F.detectCycles===!0&&D!==null&&Q.has(D))return Q.get(D);if(Lt(D)||Array.isArray(D)){var se=Pn(Q,D,[],F),_e=D.map(function(yt){return P(yt,F,Q)});se.length=_e.length;for(var Te=0,xe=_e.length;Te<xe;Te++)se[Te]=_e[Te];return se}if(wt(D)||Object.getPrototypeOf(D)===Set.prototype){if(F.exportMapsAsObjects===!1){var Be=Pn(Q,D,new Set,F);return D.forEach(function(yt){Be.add(P(yt,F,Q))}),Be}var Xe=Pn(Q,D,[],F);return D.forEach(function(yt){Xe.push(P(yt,F,Q))}),Xe}if(zt(D)||Object.getPrototypeOf(D)===Map.prototype){if(F.exportMapsAsObjects===!1){var Fe=Pn(Q,D,new Map,F);return D.forEach(function(yt,Hn){Fe.set(Hn,P(yt,F,Q))}),Fe}var Qe=Pn(Q,D,{},F);return D.forEach(function(yt,Hn){Qe[Hn]=P(yt,F,Q)}),Qe}var et=Pn(Q,D,{},F);for(var rt in D)et[rt]=P(D[rt],F,Q);return et}(h,v,O)}function Xr(h){switch(h.length){case 0:return ve.trackingDerivation;case 1:return on(h[0]);case 2:return on(h[0],h[1])}}function Wt(h,v){v===void 0&&(v=void 0),Ct();try{return h.apply(v)}finally{Tt()}}function bn(h,v,O){return arguments.length===1||v&&typeof v=="object"?wi(h,v):xo(h,v,O||{})}function xo(h,v,O){var P;typeof O.timeout=="number"&&(P=setTimeout(function(){if(!F.$mobx.isDisposed){F();var Q=new Error("WHEN_TIMEOUT");if(!O.onError)throw Q;O.onError(Q)}},O.timeout)),O.name=O.name||"When@"+A();var D=dn(O.name+"-effect",v),F=Sn(function(Q){h()&&(Q.dispose(),P&&clearTimeout(P),D())},O);return F}function wi(h,v){var O,P=new Promise(function(D,F){var Q=xo(h,D,we(we({},v),{onError:F}));O=function(){Q(),F("WHEN_CANCELLED")}});return P.cancel=O,P}function tn(h){return h.interceptors!==void 0&&h.interceptors.length>0}function or(h,v){var O=h.interceptors||(h.interceptors=[]);return O.push(v),X(function(){var P=O.indexOf(v);P!==-1&&O.splice(P,1)})}function Vt(h,v){var O=En();try{var P=h.interceptors;if(P)for(var D=0,F=P.length;D<F&&(w(!(v=P[D](v))||v.type,"Intercept handlers should return nothing or a change object"),v);D++);return v}finally{Pt(O)}}function $t(h){return h.changeListeners!==void 0&&h.changeListeners.length>0}function Bn(h,v){var O=h.changeListeners||(h.changeListeners=[]);return O.push(v),X(function(){var P=O.indexOf(v);P!==-1&&O.splice(P,1)})}function Rt(h,v){var O=En(),P=h.changeListeners;if(P){for(var D=0,F=(P=P.slice()).length;D<F;D++)P[D](v);Pt(O)}}var nn,_r,ir,wr,xi=(nn=!1,_r={},Object.defineProperty(_r,"0",{set:function(){nn=!0}}),Object.create(_r)[0]=1,nn===!1),Hr=0,Eo=function(){};ir=Eo,wr=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(ir.prototype,wr):ir.prototype.__proto__!==void 0?ir.prototype.__proto__=wr:ir.prototype=wr,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(h){Object.defineProperty(Eo.prototype,h,{configurable:!0,writable:!0,value:Array.prototype[h]})});var Fr=function(){function h(v,O,P,D){this.array=P,this.owned=D,this.values=[],this.lastKnownLength=0,this.atom=new fe(v||"ObservableArray@"+A()),this.enhancer=function(F,Q){return O(F,Q,v+"[..]")}}return h.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},h.prototype.dehanceValues=function(v){return this.dehancer!==void 0&&v.length>0?v.map(this.dehancer):v},h.prototype.intercept=function(v){return or(this,v)},h.prototype.observe=function(v,O){return O===void 0&&(O=!1),O&&v({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Bn(this,v)},h.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},h.prototype.setArrayLength=function(v){if(typeof v!="number"||v<0)throw new Error("[mobx.array] Out of range: "+v);var O=this.values.length;if(v!==O)if(v>O){for(var P=new Array(v-O),D=0;D<v-O;D++)P[D]=void 0;this.spliceWithArray(O,0,P)}else this.spliceWithArray(v,O-v)},h.prototype.updateArrayLength=function(v,O){if(v!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=O,O>0&&v+O+1>Hr&&Yr(v+O+1)},h.prototype.spliceWithArray=function(v,O,P){var D=this;De(this.atom);var F=this.values.length;if(v===void 0?v=0:v>F?v=F:v<0&&(v=Math.max(0,F+v)),O=arguments.length===1?F-v:O==null?0:Math.max(0,Math.min(O,F-v)),P===void 0&&(P=b),tn(this)){var Q=Vt(this,{object:this.array,type:"splice",index:v,removedCount:O,added:P});if(!Q)return b;O=Q.removedCount,P=Q.added}var se=(P=P.length===0?P:P.map(function(Te){return D.enhancer(Te,void 0)})).length-O;this.updateArrayLength(F,se);var _e=this.spliceItemsIntoValues(v,O,P);return O===0&&P.length===0||this.notifyArraySplice(v,P,_e),this.dehanceValues(_e)},h.prototype.spliceItemsIntoValues=function(v,O,P){var D;if(P.length<1e4)return(D=this.values).splice.apply(D,Ge([v,O],P));var F=this.values.slice(v,v+O);return this.values=this.values.slice(0,v).concat(P,this.values.slice(v+O)),F},h.prototype.notifyArrayChildUpdate=function(v,O,P){var D=!this.owned&&lt(),F=$t(this),Q=F||D?{object:this.array,type:"update",index:v,newValue:O,oldValue:P}:null;D&&Mt(we(we({},Q),{name:this.atom.name})),this.atom.reportChanged(),F&&Rt(this,Q),D&&Gt()},h.prototype.notifyArraySplice=function(v,O,P){var D=!this.owned&&lt(),F=$t(this),Q=F||D?{object:this.array,type:"splice",index:v,removed:P,added:O,removedCount:P.length,addedCount:O.length}:null;D&&Mt(we(we({},Q),{name:this.atom.name})),this.atom.reportChanged(),F&&Rt(this,Q),D&&Gt()},h}(),It=function(h){function v(O,P,D,F){D===void 0&&(D="ObservableArray@"+A()),F===void 0&&(F=!1);var Q=h.call(this)||this,se=new Fr(D,P,Q,F);if(R(Q,"$mobx",se),O&&O.length){var _e=hr(!0);Q.spliceWithArray(0,0,O),yr(_e)}return xi&&Object.defineProperty(se.array,"0",Ur),Q}return ke(v,h),v.prototype.intercept=function(O){return this.$mobx.intercept(O)},v.prototype.observe=function(O,P){return P===void 0&&(P=!1),this.$mobx.observe(O,P)},v.prototype.clear=function(){return this.splice(0)},v.prototype.concat=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),O.map(function(D){return Lt(D)?D.peek():D}))},v.prototype.replace=function(O){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,O)},v.prototype.toJS=function(){return this.slice()},v.prototype.toJSON=function(){return this.toJS()},v.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},v.prototype.find=function(O,P,D){D===void 0&&(D=0);var F=this.findIndex.apply(this,arguments);return F===-1?void 0:this.get(F)},v.prototype.findIndex=function(O,P,D){D===void 0&&(D=0);for(var F=this.peek(),Q=F.length,se=D;se<Q;se++)if(O.call(P,F[se],se,this))return se;return-1},v.prototype.splice=function(O,P){for(var D=[],F=2;F<arguments.length;F++)D[F-2]=arguments[F];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(O);case 2:return this.$mobx.spliceWithArray(O,P)}return this.$mobx.spliceWithArray(O,P,D)},v.prototype.spliceWithArray=function(O,P,D){return this.$mobx.spliceWithArray(O,P,D)},v.prototype.push=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];var D=this.$mobx;return D.spliceWithArray(D.values.length,0,O),D.values.length},v.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},v.prototype.shift=function(){return this.splice(0,1)[0]},v.prototype.unshift=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];var D=this.$mobx;return D.spliceWithArray(0,0,O),D.values.length},v.prototype.reverse=function(){var O=this.slice();return O.reverse.apply(O,arguments)},v.prototype.sort=function(O){var P=this.slice();return P.sort.apply(P,arguments)},v.prototype.remove=function(O){var P=this.$mobx.dehanceValues(this.$mobx.values).indexOf(O);return P>-1&&(this.splice(P,1),!0)},v.prototype.move=function(O,P){function D(se){if(se<0)throw new Error("[mobx.array] Index out of bounds: "+se+" is negative");var _e=this.$mobx.values.length;if(se>=_e)throw new Error("[mobx.array] Index out of bounds: "+se+" is not smaller than "+_e)}if(D.call(this,O),D.call(this,P),O!==P){var F,Q=this.$mobx.values;F=O<P?Ge(Q.slice(0,O),Q.slice(O+1,P+1),[Q[O]],Q.slice(P+1)):Ge(Q.slice(0,P),[Q[O]],Q.slice(P,O),Q.slice(O+1)),this.replace(F)}},v.prototype.get=function(O){var P=this.$mobx;if(P){if(O<P.values.length)return P.atom.reportObserved(),P.dehanceValue(P.values[O]);console.warn("[mobx.array] Attempt to read an array index ("+O+") that is out of bounds ("+P.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},v.prototype.set=function(O,P){var D=this.$mobx,F=D.values;if(O<F.length){De(D.atom);var Q=F[O];if(tn(D)){var se=Vt(D,{type:"update",object:this,index:O,newValue:P});if(!se)return;P=se.newValue}(P=D.enhancer(P,Q))!==Q&&(F[O]=P,D.notifyArrayChildUpdate(O,P,Q))}else{if(O!==F.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+F.length);D.spliceWithArray(O,0,[P])}},v}(Eo);ee(It.prototype,function(){this.$mobx.atom.reportObserved();var h=this,v=0;return re({next:function(){return v<h.length?{value:h[v++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(It.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(h){this.$mobx.setArrayLength(h)}}),U(It.prototype,ae(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(h){var v=Array.prototype[h];w(typeof v=="function","Base function not defined on Array prototype: '"+h+"'"),U(It.prototype,h,function(){return v.apply(this.peek(),arguments)})}),["every","filter","forEach","map","some"].forEach(function(h){w(typeof Array.prototype[h]=="function","Base function not defined on Array prototype: '"+h+"'"),U(It.prototype,h,function(v,O){var P=this,D=this.$mobx;return D.atom.reportObserved(),D.dehanceValues(D.values)[h](function(F,Q){return v.call(O,F,Q,P)},O)})}),["reduce","reduceRight"].forEach(function(h){U(It.prototype,h,function(){var v=this,O=this.$mobx;O.atom.reportObserved();var P=arguments[0];return arguments[0]=function(D,F,Q){return F=O.dehanceValue(F),P(D,F,Q,v)},O.values[h].apply(O.values,arguments)})}),function(h,v){for(var O=0;O<v.length;O++)U(h,v[O],h[v[O]])}(It.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Ur=Ei(0);function Ei(h){return{enumerable:!1,configurable:!1,get:function(){return this.get(h)},set:function(v){this.set(h,v)}}}function ja(h){Object.defineProperty(It.prototype,""+h,Ei(h))}function Yr(h){for(var v=Hr;v<h;v++)ja(v);Hr=h}Yr(1e3);var Pa=H("ObservableArrayAdministration",Fr);function Lt(h){return J(h)&&Pa(h.$mobx)}var Gr={},xr=function(){function h(v,O,P){if(O===void 0&&(O=gt),P===void 0&&(P="ObservableMap@"+A()),this.enhancer=O,this.name=P,this.$mobx=Gr,this._keysAtom=ce(this.name+".keys()"),typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(v)}return h.prototype._has=function(v){return this._data.has(v)},h.prototype.has=function(v){var O=this;if(!ve.trackingDerivation)return this._has(v);var P=this._hasMap.get(v);if(!P){var D=P=new hn(this._has(v),sn,this.name+"."+Wr(v)+"?",!1);this._hasMap.set(v,D),Or(D,function(){return O._hasMap.delete(v)})}return P.get()},h.prototype.set=function(v,O){var P=this._has(v);if(tn(this)){var D=Vt(this,{type:P?"update":"add",object:this,newValue:O,name:v});if(!D)return this;O=D.newValue}return P?this._updateValue(v,O):this._addValue(v,O),this},h.prototype.delete=function(v){var O=this;if(De(this._keysAtom),tn(this)&&!(F=Vt(this,{type:"delete",object:this,name:v})))return!1;if(this._has(v)){var P=lt(),D=$t(this),F=D||P?{type:"delete",object:this,oldValue:this._data.get(v).value,name:v}:null;return P&&Mt(we(we({},F),{name:this.name,key:v})),Wt(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(v,!1),O._data.get(v).setNewValue(void 0),O._data.delete(v)}),D&&Rt(this,F),P&&Gt(),!0}return!1},h.prototype._updateHasMapEntry=function(v,O){var P=this._hasMap.get(v);P&&P.setNewValue(O)},h.prototype._updateValue=function(v,O){var P=this._data.get(v);if((O=P.prepareNewValue(O))!==ve.UNCHANGED){var D=lt(),F=$t(this),Q=F||D?{type:"update",object:this,oldValue:P.value,name:v,newValue:O}:null;D&&Mt(we(we({},Q),{name:this.name,key:v})),P.setNewValue(O),F&&Rt(this,Q),D&&Gt()}},h.prototype._addValue=function(v,O){var P=this;De(this._keysAtom),Wt(function(){var se=new hn(O,P.enhancer,P.name+"."+Wr(v),!1);P._data.set(v,se),O=se.value,P._updateHasMapEntry(v,!0),P._keysAtom.reportChanged()});var D=lt(),F=$t(this),Q=F||D?{type:"add",object:this,name:v,newValue:O}:null;D&&Mt(we(we({},Q),{name:this.name,key:v})),F&&Rt(this,Q),D&&Gt()},h.prototype.get=function(v){return this.has(v)?this.dehanceValue(this._data.get(v).get()):this.dehanceValue(void 0)},h.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},h.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},h.prototype.values=function(){var v=this,O=this.keys();return re({next:function(){var P=O.next(),D=P.done,F=P.value;return{done:D,value:D?void 0:v.get(F)}}})},h.prototype.entries=function(){var v=this,O=this.keys();return re({next:function(){var P=O.next(),D=P.done,F=P.value;return{done:D,value:D?void 0:[F,v.get(F)]}}})},h.prototype.forEach=function(v,O){var P=this;this._keysAtom.reportObserved(),this._data.forEach(function(D,F){return v.call(O,P.get(F),F,P)})},h.prototype.merge=function(v){var O=this;return zt(v)&&(v=v.toJS()),Wt(function(){var P=hr(!0);try{W(v)?Object.keys(v).forEach(function(D){return O.set(D,v[D])}):Array.isArray(v)?v.forEach(function(D){var F=He(D,2),Q=F[0],se=F[1];return O.set(Q,se)}):Y(v)?v.constructor!==Map?T("Cannot initialize from classes that inherit from Map: "+v.constructor.name):v.forEach(function(D,F){return O.set(F,D)}):v!=null&&T("Cannot initialize map from "+v)}finally{yr(P)}}),this},h.prototype.clear=function(){var v=this;Wt(function(){In(function(){v._data.forEach(function(O,P){return v.delete(P)})})})},h.prototype.replace=function(v){var O=this;return Wt(function(){var P=function(xe){if(Y(xe)||zt(xe))return xe;if(Array.isArray(xe))return new Map(xe);if(W(xe)){var Be=new Map;for(var Xe in xe)Be.set(Xe,xe[Xe]);return Be}return T("Cannot convert to map from '"+xe+"'")}(v),D=new Map,F=!1;if(L(O._data.keys(),function(xe){if(!P.has(xe))if(O.delete(xe))F=!0;else{var Be=O._data.get(xe);D.set(xe,Be)}}),L(P.entries(),function(xe){var Be=He(xe,2),Xe=Be[0],Fe=Be[1],Qe=O._data.has(Xe);if(O.set(Xe,Fe),O._data.has(Xe)){var et=O._data.get(Xe);D.set(Xe,et),Qe||(F=!0)}}),!F)if(O._data.size!==D.size)O._keysAtom.reportChanged();else for(var Q=O._data.keys(),se=D.keys(),_e=Q.next(),Te=se.next();!_e.done;){if(_e.value!==Te.value){O._keysAtom.reportChanged();break}_e=Q.next(),Te=se.next()}O._data=D}),this},Object.defineProperty(h.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.toPOJO=function(){var v=this,O={};return this.forEach(function(P,D){return O[typeof D=="symbol"?D:Wr(D)]=v.get(D)}),O},h.prototype.toJS=function(){return new Map(this)},h.prototype.toJSON=function(){return this.toPOJO()},h.prototype.toString=function(){var v=this;return this.name+"[{ "+C(this.keys()).map(function(O){return Wr(O)+": "+v.get(O)}).join(", ")+" }]"},h.prototype.observe=function(v,O){return Bn(this,v)},h.prototype.intercept=function(v){return or(this,v)},h}();function Wr(h){return h&&h.toString?h.toString():new String(h).toString()}ee(xr.prototype,function(){return this.entries()}),R(xr.prototype,ae(),"Map");var zt=H("ObservableMap",xr),Aa={},Vr=function(){function h(v,O,P){if(O===void 0&&(O=gt),P===void 0&&(P="ObservableSet@"+A()),this.name=P,this.$mobx=Aa,this._data=new Set,this._atom=ce(this.name),typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,F){return O(D,F,P)},v&&this.replace(v)}return h.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},h.prototype.clear=function(){var v=this;Wt(function(){In(function(){v._data.forEach(function(O){v.delete(O)})})})},h.prototype.forEach=function(v,O){var P=this;this._atom.reportObserved(),this._data.forEach(function(D){v.call(O,D,D,P)})},Object.defineProperty(h.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.add=function(v){var O=this;if(De(this._atom),tn(this)&&!(F=Vt(this,{type:"add",object:this,newValue:v})))return this;if(!this.has(v)){Wt(function(){O._data.add(O.enhancer(v,void 0)),O._atom.reportChanged()});var P=lt(),D=$t(this),F=D||P?{type:"add",object:this,newValue:v}:null;D&&Rt(this,F)}return this},h.prototype.delete=function(v){var O=this;if(tn(this)&&!(F=Vt(this,{type:"delete",object:this,oldValue:v})))return!1;if(this.has(v)){var P=lt(),D=$t(this),F=D||P?{type:"delete",object:this,oldValue:v}:null;return Wt(function(){O._atom.reportChanged(),O._data.delete(v)}),D&&Rt(this,F),!0}return!1},h.prototype.has=function(v){return this._atom.reportObserved(),this._data.has(this.dehanceValue(v))},h.prototype.entries=function(){var v=0,O=C(this.keys()),P=C(this.values());return re({next:function(){var D=v;return v+=1,D<P.length?{value:[O[D],P[D]],done:!1}:{done:!0}}})},h.prototype.keys=function(){return this.values()},h.prototype.values=function(){this._atom.reportObserved();var v,O=this,P=0;return this._data.values!==void 0?v=C(this._data.values()):(v=[],this._data.forEach(function(D){return v.push(D)})),re({next:function(){return P<v.length?{value:O.dehanceValue(v[P++]),done:!1}:{done:!0}}})},h.prototype.replace=function(v){var O=this;return wt(v)&&(v=v.toJS()),Wt(function(){var P=hr(!0);try{Array.isArray(v)||M(v)?(O.clear(),v.forEach(function(D){return O.add(D)})):v!=null&&T("Cannot initialize set from "+v)}finally{yr(P)}}),this},h.prototype.observe=function(v,O){return Bn(this,v)},h.prototype.intercept=function(v){return or(this,v)},h.prototype.toJS=function(){return new Set(this)},h.prototype.toString=function(){return this.name+"[ "+C(this.keys()).join(", ")+" ]"},h}();ee(Vr.prototype,function(){return this.values()}),R(Vr.prototype,ae(),"Set");var wt=H("ObservableSet",Vr),Er=function(){function h(v,O,P){this.target=v,this.name=O,this.defaultEnhancer=P,this.values={}}return h.prototype.read=function(v,O){if(this.target===v||(this.illegalAccess(v,O),this.values[O]))return this.values[O].get()},h.prototype.write=function(v,O,P){var D=this.target;D!==v&&this.illegalAccess(v,O);var F=this.values[O];if(F instanceof yn)F.set(P);else{if(tn(this)){if(!(_e=Vt(this,{type:"update",object:D,name:O,newValue:P})))return;P=_e.newValue}if((P=F.prepareNewValue(P))!==ve.UNCHANGED){var Q=$t(this),se=lt(),_e=Q||se?{type:"update",object:D,oldValue:F.value,name:O,newValue:P}:null;se&&Mt(we(we({},_e),{name:this.name,key:O})),F.setNewValue(P),Q&&Rt(this,_e),se&&Gt()}}},h.prototype.remove=function(v){if(this.values[v]){var O=this.target;if(tn(this)&&!(Q=Vt(this,{object:O,name:v,type:"remove"})))return;try{Ct();var P=$t(this),D=lt(),F=this.values[v].get();this.keys&&this.keys.remove(v),delete this.values[v],delete this.target[v];var Q=P||D?{type:"remove",object:O,oldValue:F,name:v}:null;D&&Mt(we(we({},Q),{name:this.name,key:v})),P&&Rt(this,Q),D&&Gt()}finally{Tt()}}},h.prototype.illegalAccess=function(v,O){console.warn("Property '"+O+"' of '"+v+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},h.prototype.observe=function(v,O){return Bn(this,v)},h.prototype.intercept=function(v){return or(this,v)},h.prototype.getKeys=function(){var v=this;return this.keys===void 0&&(this.keys=new It(Object.keys(this.values).filter(function(O){return v.values[O]instanceof hn}),sn,"keys("+this.name+")",!0)),this.keys.slice()},h}();function So(h,v,O){v===void 0&&(v=""),O===void 0&&(O=gt);var P=h.$mobx;return P||(W(h)||(v=(h.constructor.name||"ObservableObject")+"@"+A()),v||(v="ObservableObject@"+A()),R(h,"$mobx",P=new Er(h,v,O)),P)}function ka(h,v,O,P){var D=So(h);if(tn(D)){var F=Vt(D,{object:h,name:v,type:"add",newValue:O});if(!F)return;O=F.newValue}O=(D.values[v]=new hn(O,P,D.name+"."+v,!1)).value,Object.defineProperty(h,v,function(Q){return Si[Q]||(Si[Q]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,Q)},set:function(se){this.$mobx.write(this,Q,se)}})}(v)),D.keys&&D.keys.push(v),function(Q,se,_e,Te){var xe=$t(Q),Be=lt(),Xe=xe||Be?{type:"add",object:se,name:_e,newValue:Te}:null;Be&&Mt(we(we({},Xe),{name:Q.name,key:_e})),xe&&Rt(Q,Xe),Be&&Gt()}(D,h,v,O)}var Si=Object.create(null),ji=Object.create(null);function rn(h){var v=h.$mobx;return v||(ut(h),h.$mobx)}var Bt=H("ObservableObjectAdministration",Er);function Kt(h){return!!J(h)&&(ut(h),Bt(h.$mobx))}function on(h,v){if(typeof h=="object"&&h!==null){if(Lt(h))return v!==void 0&&T(!1),h.$mobx.atom;if(wt(h))return h.$mobx;if(zt(h)){var O=h;return v===void 0?O._keysAtom:((P=O._data.get(v)||O._hasMap.get(v))||T(!1),P)}var P;if(ut(h),v&&!h.$mobx&&h[v],Kt(h))return v?((P=h.$mobx.values[v])||T(!1),P):T(!1);if(pe(h)||Ln(h)||We(h))return h}else if(typeof h=="function"&&We(h.$mobx))return h.$mobx;return T(!1)}function Sr(h,v){return h||T("Expecting some object"),v!==void 0?Sr(on(h,v)):pe(h)||Ln(h)||We(h)||zt(h)||wt(h)?h:(ut(h),h.$mobx?h.$mobx:void T(!1))}function ar(h,v){return(v!==void 0?on(h,v):Kt(h)||zt(h)||wt(h)?Sr(h):on(h)).name}var Pi=Object.prototype.toString;function jo(h,v,O){return O===void 0&&(O=-1),function P(D,F,Q,se,_e){if(D===F)return D!==0||1/D==1/F;if(D==null||F==null)return!1;if(D!=D)return F!=F;var Te=typeof D;if(Te!=="function"&&Te!=="object"&&typeof F!="object")return!1;D=Ai(D),F=Ai(F);var xe=Pi.call(D);if(xe!==Pi.call(F))return!1;switch(xe){case"[object RegExp]":case"[object String]":return""+D==""+F;case"[object Number]":return+D!=+D?+F!=+F:+D==0?1/+D==1/F:+D==+F;case"[object Date]":case"[object Boolean]":return+D==+F;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(F)}var Be=xe==="[object Array]";if(!Be){if(typeof D!="object"||typeof F!="object")return!1;var Xe=D.constructor,Fe=F.constructor;if(Xe!==Fe&&!(typeof Xe=="function"&&Xe instanceof Xe&&typeof Fe=="function"&&Fe instanceof Fe)&&"constructor"in D&&"constructor"in F)return!1}if(Q===0)return!1;Q<0&&(Q=-1),_e=_e||[];for(var Qe=(se=se||[]).length;Qe--;)if(se[Qe]===D)return _e[Qe]===F;if(se.push(D),_e.push(F),Be){if((Qe=D.length)!==F.length)return!1;for(;Qe--;)if(!P(D[Qe],F[Qe],Q-1,se,_e))return!1}else{var et=Object.keys(D),rt=void 0;if(Qe=et.length,Object.keys(F).length!==Qe)return!1;for(;Qe--;)if(rt=et[Qe],!ki(F,rt)||!P(D[rt],F[rt],Q-1,se,_e))return!1}return se.pop(),_e.pop(),!0}(h,v,O)}function Ai(h){return Lt(h)?h.peek():Y(h)||zt(h)||M(h)||wt(h)?C(h.entries()):h}function ki(h,v){return Object.prototype.hasOwnProperty.call(h,v)}var Xn="$mobx";typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:bo,extras:{getDebugName:ar},$mobx:Xn})}).call(this,u(86),u(104))},function(l,p,u){var d=u(34),y=u(66),b=u(56),x=u(51),E=u(91),k=x.set,A=x.getterFor("Array Iterator");l.exports=E(Array,"Array",function(T,w){k(this,{type:"Array Iterator",target:d(T),index:0,kind:w})},function(){var T=A(this),w=T.target,X=T.kind,G=T.index++;return!w||G>=w.length?(T.target=void 0,{value:void 0,done:!0}):X=="keys"?{value:G,done:!1}:X=="values"?{value:w[G],done:!1}:{value:[G,w[G]],done:!1}},"values"),b.Arguments=b.Array,y("keys"),y("values"),y("entries")},function(l,p,u){var d=u(15),y=u(23),b=u(45),x=u(68),E=u(28),k=u(89),A=u(16),T=u(27),w=u(80),X=u(24),G=u(53),J=u(25),W=u(31),U=u(34),R=u(72),H=u(33),Y=u(57),M=u(46),C=u(54),I=u(58),z=u(117),L=u(92),Z=u(47),ee=u(29),re=u(75),ae=u(39),ge=u(43),fe=u(67),pe=u(74),ce=u(55),le=u(69),ye=u(21),de=u(128),ke=u(129),we=u(77),He=u(51),Ge=u(60).forEach,ze=pe("hidden"),Ut=ye("toPrimitive"),cn=He.set,ut=He.getterFor("Symbol"),Ue=Object.prototype,ht=y.Symbol,gt=b("JSON","stringify"),sn=Z.f,jt=ee.f,Wn=z.f,ln=re.f,_t=fe("symbols"),en=fe("op-symbols"),fn=fe("string-to-symbol-registry"),Vn=fe("symbol-to-string-registry"),Cr=fe("wks"),Cn=y.QObject,qe=!Cn||!Cn.prototype||!Cn.prototype.findChild,Dt=E&&A(function(){return M(jt({},"a",{get:function(){return jt(this,"a",{value:7}).a}})).a!=7})?function(be,Pe,De){var Re=sn(Ue,Pe);Re&&delete Ue[Pe],jt(be,Pe,De),Re&&be!==Ue&&jt(Ue,Pe,Re)}:jt,Ce=function(be,Pe){var De=_t[be]=M(ht.prototype);return cn(De,{type:"Symbol",tag:be,description:Pe}),E||(De.description=Pe),De},st=function(be,Pe,De){be===Ue&&st(en,Pe,De),J(be);var Re=R(Pe);return J(De),T(_t,Re)?(De.enumerable?(T(be,ze)&&be[ze][Re]&&(be[ze][Re]=!1),De=M(De,{enumerable:Y(0,!1)})):(T(be,ze)||jt(be,ze,Y(1,{})),be[ze][Re]=!0),Dt(be,Re,De)):jt(be,Re,De)},pn=function(be,Pe){J(be);var De=U(Pe),Re=C(De).concat(Yt(De));return Ge(Re,function(it){E&&!Rn.call(De,it)||st(be,it,De[it])}),be},Rn=function(be){var Pe=R(be),De=ln.call(this,Pe);return!(this===Ue&&T(_t,Pe)&&!T(en,Pe))&&(!(De||!T(this,Pe)||!T(_t,Pe)||T(this,ze)&&this[ze][Pe])||De)},$n=function(be,Pe){var De=U(be),Re=R(Pe);if(De!==Ue||!T(_t,Re)||T(en,Re)){var it=sn(De,Re);return!it||!T(_t,Re)||T(De,ze)&&De[ze][Re]||(it.enumerable=!0),it}},xn=function(be){var Pe=Wn(U(be)),De=[];return Ge(Pe,function(Re){T(_t,Re)||T(ce,Re)||De.push(Re)}),De},Yt=function(be){var Pe=be===Ue,De=Wn(Pe?en:U(be)),Re=[];return Ge(De,function(it){!T(_t,it)||Pe&&!T(Ue,it)||Re.push(_t[it])}),Re};k||(ge((ht=function(){if(this instanceof ht)throw TypeError("Symbol is not a constructor");var be=arguments.length&&arguments[0]!==void 0?H(arguments[0]):void 0,Pe=le(be),De=function(Re){this===Ue&&De.call(en,Re),T(this,ze)&&T(this[ze],Pe)&&(this[ze][Pe]=!1),Dt(this,Pe,Y(1,Re))};return E&&qe&&Dt(Ue,Pe,{configurable:!0,set:De}),Ce(Pe,be)}).prototype,"toString",function(){return ut(this).tag}),ge(ht,"withoutSetter",function(be){return Ce(le(be),be)}),re.f=Rn,ee.f=st,Z.f=$n,I.f=z.f=xn,L.f=Yt,de.f=function(be){return Ce(ye(be),be)},E&&(jt(ht.prototype,"description",{configurable:!0,get:function(){return ut(this).description}}),x||ge(Ue,"propertyIsEnumerable",Rn,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:ht}),Ge(C(Cr),function(be){ke(be)}),d({target:"Symbol",stat:!0,forced:!k},{for:function(be){var Pe=H(be);if(T(fn,Pe))return fn[Pe];var De=ht(Pe);return fn[Pe]=De,Vn[De]=Pe,De},keyFor:function(be){if(!G(be))throw TypeError(be+" is not a symbol");if(T(Vn,be))return Vn[be]},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),d({target:"Object",stat:!0,forced:!k,sham:!E},{create:function(be,Pe){return Pe===void 0?M(be):pn(M(be),Pe)},defineProperty:st,defineProperties:pn,getOwnPropertyDescriptor:$n}),d({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:xn,getOwnPropertySymbols:Yt}),d({target:"Object",stat:!0,forced:A(function(){L.f(1)})},{getOwnPropertySymbols:function(be){return L.f(W(be))}}),gt&&d({target:"JSON",stat:!0,forced:!k||A(function(){var be=ht();return gt([be])!="[null]"||gt({a:be})!="{}"||gt(Object(be))!="{}"})},{stringify:function(be,Pe,De){for(var Re,it=[be],In=1;arguments.length>In;)it.push(arguments[In++]);if(Re=Pe,(X(Pe)||be!==void 0)&&!G(be))return w(Pe)||(Pe=function(En,Pt){if(typeof Re=="function"&&(Pt=Re.call(this,En,Pt)),!G(Pt))return Pt}),it[1]=Pe,gt.apply(null,it)}}),ht.prototype[Ut]||ae(ht.prototype,Ut,ht.prototype.valueOf),we(ht,"Symbol"),ce[ze]=!0},function(l,p,u){var d=u(96),y=u(43),b=u(153);d||y(Object.prototype,"toString",b,{unsafe:!0})},function(l,p,u){var d=u(23),y=u(127),b=u(1),x=u(39),E=u(21),k=E("iterator"),A=E("toStringTag"),T=b.values;for(var w in y){var X=d[w],G=X&&X.prototype;if(G){if(G[k]!==T)try{x(G,k,T)}catch{G[k]=T}if(G[A]||x(G,A,w),y[w]){for(var J in b)if(G[J]!==b[J])try{x(G,J,b[J])}catch{G[J]=b[J]}}}}},function(l,p,u){var d=u(126).charAt,y=u(33),b=u(51),x=u(91),E=b.set,k=b.getterFor("String Iterator");x(String,"String",function(A){E(this,{type:"String Iterator",string:y(A),index:0})},function(){var A,T=k(this),w=T.string,X=T.index;return X>=w.length?{value:void 0,done:!0}:(A=d(w,X),T.index+=A.length,{value:A,done:!1})})},function(l,p,u){var d=u(15),y=u(28),b=u(23),x=u(27),E=u(24),k=u(29).f,A=u(112),T=b.Symbol;if(y&&typeof T=="function"&&(!("description"in T.prototype)||T().description!==void 0)){var w={},X=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),H=this instanceof X?new T(R):R===void 0?T():T(R);return R===""&&(w[H]=!0),H};A(X,T);var G=X.prototype=T.prototype;G.constructor=X;var J=G.toString,W=String(T("test"))=="Symbol(test)",U=/^Symbol\((.*)\)[^)]+$/;k(G,"description",{configurable:!0,get:function(){var R=E(this)?this.valueOf():this,H=J.call(R);if(x(w,R))return"";var Y=W?H.slice(7,-1):H.replace(U,"$1");return Y===""?void 0:Y}}),d({global:!0,forced:!0},{Symbol:X})}},function(l,p,u){u(129)("iterator")},function(l,p,u){var d=u(23),y=u(127),b=u(154),x=u(39);for(var E in y){var k=d[E],A=k&&k.prototype;if(A&&A.forEach!==b)try{x(A,"forEach",b)}catch{A.forEach=b}}},function(l,p,u){u(15)({target:"Object",stat:!0},{setPrototypeOf:u(94)})},function(l,p,u){var d=u(15),y=u(16),b=u(31),x=u(76),E=u(115);d({target:"Object",stat:!0,forced:y(function(){x(1)}),sham:!E},{getPrototypeOf:function(k){return x(b(k))}})},function(l,p,u){var d=u(15),y=u(45),b=u(59),x=u(25),E=u(24),k=u(46),A=u(172),T=u(16),w=y("Reflect","construct"),X=T(function(){function W(){}return!(w(function(){},[],W)instanceof W)}),G=!T(function(){w(function(){})}),J=X||G;d({target:"Reflect",stat:!0,forced:J,sham:J},{construct:function(W,U){b(W),x(U);var R=arguments.length<3?W:b(arguments[2]);if(G&&!X)return w(W,U,R);if(W==R){switch(U.length){case 0:return new W;case 1:return new W(U[0]);case 2:return new W(U[0],U[1]);case 3:return new W(U[0],U[1],U[2]);case 4:return new W(U[0],U[1],U[2],U[3])}var H=[null];return H.push.apply(H,U),new(A.apply(W,H))}var Y=R.prototype,M=k(E(Y)?Y:Object.prototype),C=Function.apply.call(W,M,U);return E(C)?C:M}})},function(l,p,u){var d=u(15),y=u(31),b=u(54);d({target:"Object",stat:!0,forced:u(16)(function(){b(1)})},{keys:function(x){return b(y(x))}})},function(l,p,u){var d=u(15),y=u(16),b=u(34),x=u(47).f,E=u(28),k=y(function(){x(1)});d({target:"Object",stat:!0,forced:!E||k,sham:!E},{getOwnPropertyDescriptor:function(A,T){return x(b(A),T)}})},function(l,p,u){var d=u(15),y=u(24),b=u(80),x=u(73),E=u(32),k=u(34),A=u(62),T=u(21),w=u(61)("slice"),X=T("species"),G=[].slice,J=Math.max;d({target:"Array",proto:!0,forced:!w},{slice:function(W,U){var R,H,Y,M=k(this),C=E(M.length),I=x(W,C),z=x(U===void 0?C:U,C);if(b(M)&&(typeof(R=M.constructor)!="function"||R!==Array&&!b(R.prototype)?y(R)&&(R=R[X])===null&&(R=void 0):R=void 0,R===Array||R===void 0))return G.call(M,I,z);for(H=new(R===void 0?Array:R)(J(z-I,0)),Y=0;I<z;I++,Y++)I in M&&A(H,Y,M[I]);return H.length=Y,H}})},function(l,p,u){var d=u(23),y=u(47).f,b=u(39),x=u(43),E=u(88),k=u(112),A=u(93);l.exports=function(T,w){var X,G,J,W,U,R=T.target,H=T.global,Y=T.stat;if(X=H?d:Y?d[R]||E(R,{}):(d[R]||{}).prototype)for(G in w){if(W=w[G],J=T.noTargetGet?(U=y(X,G))&&U.value:X[G],!A(H?G:R+(Y?".":"#")+G,T.forced)&&J!==void 0){if(typeof W==typeof J)continue;k(W,J)}(T.sham||J&&J.sham)&&b(W,"sham",!0),x(X,G,W,T)}}},function(l,p){l.exports=function(u){try{return!!u()}catch{return!0}}},function(l,p,u){var d=u(28),y=u(29).f,b=Function.prototype,x=b.toString,E=/^\s*function ([^ (]*)/;d&&!("name"in b)&&y(b,"name",{configurable:!0,get:function(){try{return x.call(this).match(E)[1]}catch{return""}}})},function(l,p,u){var d=u(15),y=u(157);d({target:"Array",stat:!0,forced:!u(124)(function(b){Array.from(b)})},{from:y})},function(l,p,u){var d=u(15),y=u(60).filter;d({target:"Array",proto:!0,forced:!u(61)("filter")},{filter:function(b){return y(this,b,arguments.length>1?arguments[1]:void 0)}})},function(l,p,u){var d=u(15),y=u(28),b=u(113),x=u(34),E=u(47),k=u(62);d({target:"Object",stat:!0,sham:!y},{getOwnPropertyDescriptors:function(A){for(var T,w,X=x(A),G=E.f,J=b(X),W={},U=0;J.length>U;)(w=G(X,T=J[U++]))!==void 0&&k(W,T,w);return W}})},function(l,p,u){var d=u(23),y=u(67),b=u(27),x=u(69),E=u(89),k=u(105),A=y("wks"),T=d.Symbol,w=k?T:T&&T.withoutSetter||x;l.exports=function(X){return b(A,X)&&(E||typeof A[X]=="string")||(E&&b(T,X)?A[X]=T[X]:A[X]=w("Symbol."+X)),A[X]}},function(l,p,u){var d=u(85),y=typeof self=="object"&&self&&self.Object===Object&&self,b=d.a||y||Function("return this")();p.a=b},function(l,p,u){(function(d){var y=function(b){return b&&b.Math==Math&&b};l.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,u(86))},function(l,p){l.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},function(l,p,u){var d=u(24);l.exports=function(y){if(!d(y))throw TypeError(String(y)+" is not an object");return y}},,function(l,p,u){var d=u(31),y={}.hasOwnProperty;l.exports=Object.hasOwn||function(b,x){return y.call(d(b),x)}},function(l,p,u){var d=u(16);l.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(l,p,u){var d=u(28),y=u(106),b=u(25),x=u(72),E=Object.defineProperty;p.f=d?E:function(k,A,T){if(b(k),A=x(A),b(T),y)try{return E(k,A,T)}catch{}if("get"in T||"set"in T)throw TypeError("Accessors not supported");return"value"in T&&(k[A]=T.value),k}},function(l,p,u){var d=u(15),y=u(16),b=u(80),x=u(24),E=u(31),k=u(32),A=u(62),T=u(97),w=u(61),X=u(21),G=u(70),J=X("isConcatSpreadable"),W=G>=51||!y(function(){var H=[];return H[J]=!1,H.concat()[0]!==H}),U=w("concat"),R=function(H){if(!x(H))return!1;var Y=H[J];return Y!==void 0?!!Y:b(H)};d({target:"Array",proto:!0,forced:!W||!U},{concat:function(H){var Y,M,C,I,z,L=E(this),Z=T(L,0),ee=0;for(Y=-1,C=arguments.length;Y<C;Y++)if(R(z=Y===-1?L:arguments[Y])){if(ee+(I=k(z.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(M=0;M<I;M++,ee++)M in z&&A(Z,ee,z[M])}else{if(ee>=9007199254740991)throw TypeError("Maximum allowed index exceeded");A(Z,ee++,z)}return Z.length=ee,Z}})},function(l,p,u){var d=u(38);l.exports=function(y){return Object(d(y))}},function(l,p,u){var d=u(50),y=Math.min;l.exports=function(b){return b>0?y(d(b),9007199254740991):0}},function(l,p,u){var d=u(53);l.exports=function(y){if(d(y))throw TypeError("Cannot convert a Symbol value to a string");return String(y)}},function(l,p,u){var d=u(65),y=u(38);l.exports=function(b){return d(y(b))}},function(l,p,u){var d=u(15),y=u(60).map;d({target:"Array",proto:!0,forced:!u(61)("map")},{map:function(b){return y(this,b,arguments.length>1?arguments[1]:void 0)}})},function(l,p,u){var d=u(15),y=u(173);d({target:"Object",stat:!0,forced:Object.assign!==y},{assign:y})},function(l,p,u){var d=u(15),y=u(24),b=u(25),x=u(177),E=u(47),k=u(76);d({target:"Reflect",stat:!0},{get:function A(T,w){var X,G,J=arguments.length<3?T:arguments[2];return b(T)===J?T[w]:(X=E.f(T,w))?x(X)?X.value:X.get===void 0?void 0:X.get.call(J):y(G=k(T))?A(G,w,J):void 0}})},function(l,p){l.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},function(l,p,u){var d=u(28),y=u(29),b=u(57);l.exports=d?function(x,E,k){return y.f(x,E,b(1,k))}:function(x,E,k){return x[E]=k,x}},function(l,p,u){var d=u(15),y=u(83);d({target:"RegExp",proto:!0,forced:/./.exec!==y},{exec:y})},function(l,p,u){var d=u(15),y=u(181),b=u(66);d({target:"Array",proto:!0},{fill:y}),b("fill")},function(l,p,u){(function(d){var y=u(85),b=m&&!m.nodeType&&m,x=b&&typeof d=="object"&&d&&!d.nodeType&&d,E=x&&x.exports===b&&y.a.process,k=function(){try{var A=x&&x.require&&x.require("util").types;return A||E&&E.binding&&E.binding("util")}catch{}}();p.a=k}).call(this,u(99)(l))},function(l,p,u){var d=u(23),y=u(39),b=u(27),x=u(88),E=u(111),k=u(51),A=k.get,T=k.enforce,w=String(String).split("String");(l.exports=function(X,G,J,W){var U,R=!!W&&!!W.unsafe,H=!!W&&!!W.enumerable,Y=!!W&&!!W.noTargetGet;typeof J=="function"&&(typeof G!="string"||b(J,"name")||y(J,"name",G),(U=T(J)).source||(U.source=w.join(typeof G=="string"?G:""))),X!==d?(R?!Y&&X[G]&&(H=!0):delete X[G],H?X[G]=J:y(X,G,J)):H?X[G]=J:x(G,J)})(Function.prototype,"toString",function(){return typeof this=="function"&&A(this).source||E(this)})},function(l,p,u){var d=u(15),y=u(180).entries;d({target:"Object",stat:!0},{entries:function(b){return y(b)}})},function(l,p,u){var d=u(23),y=function(b){return typeof b=="function"?b:void 0};l.exports=function(b,x){return arguments.length<2?y(d[b]):d[b]&&d[b][x]}},function(l,p,u){var d,y=u(25),b=u(142),x=u(90),E=u(55),k=u(144),A=u(107),T=u(74),w=T("IE_PROTO"),X=function(){},G=function(U){return"<script>"+U+"<\/script>"},J=function(U){U.write(G("")),U.close();var R=U.parentWindow.Object;return U=null,R},W=function(){try{d=new ActiveXObject("htmlfile")}catch{}var U,R;W=typeof document<"u"?document.domain&&d?J(d):((R=A("iframe")).style.display="none",k.appendChild(R),R.src=String("javascript:"),(U=R.contentWindow.document).open(),U.write(G("document.F=Object")),U.close(),U.F):J(d);for(var H=x.length;H--;)delete W.prototype[x[H]];return W()};E[w]=!0,l.exports=Object.create||function(U,R){var H;return U!==null?(X.prototype=y(U),H=new X,X.prototype=null,H[w]=U):H=W(),R===void 0?H:b(H,R)}},function(l,p,u){var d=u(28),y=u(75),b=u(57),x=u(34),E=u(72),k=u(27),A=u(106),T=Object.getOwnPropertyDescriptor;p.f=d?T:function(w,X){if(w=x(w),X=E(X),A)try{return T(w,X)}catch{}if(k(w,X))return b(!y.f.call(w,X),w[X])}},function(l,p,u){(function(d){var y=u(22),b=u(138),x=m&&!m.nodeType&&m,E=x&&typeof d=="object"&&d&&!d.nodeType&&d,k=E&&E.exports===x?y.a.Buffer:void 0,A=(k?k.isBuffer:void 0)||b.a;p.a=A}).call(this,u(99)(l))},function(l,p){var u={}.toString;l.exports=function(d){return u.call(d).slice(8,-1)}},function(l,p){var u=Math.ceil,d=Math.floor;l.exports=function(y){return isNaN(y=+y)?0:(y>0?d:u)(y)}},function(l,p,u){var d,y,b,x=u(145),E=u(23),k=u(24),A=u(39),T=u(27),w=u(87),X=u(74),G=u(55),J=E.WeakMap;if(x||w.state){var W=w.state||(w.state=new J),U=W.get,R=W.has,H=W.set;d=function(M,C){if(R.call(W,M))throw new TypeError("Object already initialized");return C.facade=M,H.call(W,M,C),C},y=function(M){return U.call(W,M)||{}},b=function(M){return R.call(W,M)}}else{var Y=X("state");G[Y]=!0,d=function(M,C){if(T(M,Y))throw new TypeError("Object already initialized");return C.facade=M,A(M,Y,C),C},y=function(M){return T(M,Y)?M[Y]:{}},b=function(M){return T(M,Y)}}l.exports={set:d,get:y,has:b,enforce:function(M){return b(M)?y(M):d(M,{})},getterFor:function(M){return function(C){var I;if(!k(C)||(I=y(C)).type!==M)throw TypeError("Incompatible receiver, "+M+" required");return I}}}},function(l,p,u){var d=u(100),y=u(132),b=u(25),x=u(38),E=u(170),k=u(101),A=u(32),T=u(33),w=u(102),X=u(83),G=u(133),J=u(16),W=G.UNSUPPORTED_Y,U=[].push,R=Math.min;d("split",function(H,Y,M){var C;return C="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(I,z){var L=T(x(this)),Z=z===void 0?4294967295:z>>>0;if(Z===0)return[];if(I===void 0)return[L];if(!y(I))return Y.call(L,I,Z);for(var ee,re,ae,ge=[],fe=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.unicode?"u":"")+(I.sticky?"y":""),pe=0,ce=new RegExp(I.source,fe+"g");(ee=X.call(ce,L))&&!((re=ce.lastIndex)>pe&&(ge.push(L.slice(pe,ee.index)),ee.length>1&&ee.index<L.length&&U.apply(ge,ee.slice(1)),ae=ee[0].length,pe=re,ge.length>=Z));)ce.lastIndex===ee.index&&ce.lastIndex++;return pe===L.length?!ae&&ce.test("")||ge.push(""):ge.push(L.slice(pe)),ge.length>Z?ge.slice(0,Z):ge}:"0".split(void 0,0).length?function(I,z){return I===void 0&&z===0?[]:Y.call(this,I,z)}:Y,[function(I,z){var L=x(this),Z=I==null?void 0:I[H];return Z!==void 0?Z.call(I,L,z):C.call(T(L),I,z)},function(I,z){var L=b(this),Z=T(I),ee=M(C,L,Z,z,C!==Y);if(ee.done)return ee.value;var re=E(L,RegExp),ae=L.unicode,ge=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(W?"g":"y"),fe=new re(W?"^(?:"+L.source+")":L,ge),pe=z===void 0?4294967295:z>>>0;if(pe===0)return[];if(Z.length===0)return w(fe,Z)===null?[Z]:[];for(var ce=0,le=0,ye=[];le<Z.length;){fe.lastIndex=W?0:le;var de,ke=w(fe,W?Z.slice(le):Z);if(ke===null||(de=R(A(fe.lastIndex+(W?le:0)),Z.length))===ce)le=k(Z,le,ae);else{if(ye.push(Z.slice(ce,le)),ye.length===pe)return ye;for(var we=1;we<=ke.length-1;we++)if(ye.push(ke[we]),ye.length===pe)return ye;le=ce=de}}return ye.push(Z.slice(ce)),ye}]},!!J(function(){var H=/(?:)/,Y=H.exec;H.exec=function(){return Y.apply(this,arguments)};var M="ab".split(H);return M.length!==2||M[0]!=="a"||M[1]!=="b"}),W)},function(l,p,u){var d=u(45),y=u(105);l.exports=y?function(b){return typeof b=="symbol"}:function(b){var x=d("Symbol");return typeof x=="function"&&Object(b)instanceof x}},function(l,p,u){var d=u(109),y=u(90);l.exports=Object.keys||function(b){return d(b,y)}},function(l,p){l.exports={}},function(l,p){l.exports={}},function(l,p){l.exports=function(u,d){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:d}}},function(l,p,u){var d=u(109),y=u(90).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(b){return d(b,y)}},function(l,p){l.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},function(l,p,u){var d=u(79),y=u(65),b=u(31),x=u(32),E=u(97),k=[].push,A=function(T){var w=T==1,X=T==2,G=T==3,J=T==4,W=T==6,U=T==7,R=T==5||W;return function(H,Y,M,C){for(var I,z,L=b(H),Z=y(L),ee=d(Y,M,3),re=x(Z.length),ae=0,ge=C||E,fe=w?ge(H,re):X||U?ge(H,0):void 0;re>ae;ae++)if((R||ae in Z)&&(z=ee(I=Z[ae],ae,L),T))if(w)fe[ae]=z;else if(z)switch(T){case 3:return!0;case 5:return I;case 6:return ae;case 2:k.call(fe,I)}else switch(T){case 4:return!1;case 7:k.call(fe,I)}return W?-1:G||J?J:fe}};l.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(l,p,u){var d=u(16),y=u(21),b=u(70),x=y("species");l.exports=function(E){return b>=51||!d(function(){var k=[];return(k.constructor={})[x]=function(){return{foo:1}},k[E](Boolean).foo!==1})}},function(l,p,u){var d=u(72),y=u(29),b=u(57);l.exports=function(x,E,k){var A=d(E);A in x?y.f(x,A,b(0,k)):x[A]=k}},function(l,p,u){var d=u(28),y=u(23),b=u(93),x=u(43),E=u(27),k=u(49),A=u(125),T=u(53),w=u(108),X=u(16),G=u(46),J=u(58).f,W=u(47).f,U=u(29).f,R=u(134).trim,H=y.Number,Y=H.prototype,M=k(G(Y))=="Number",C=function(ee){if(T(ee))throw TypeError("Cannot convert a Symbol value to a number");var re,ae,ge,fe,pe,ce,le,ye,de=w(ee,"number");if(typeof de=="string"&&de.length>2){if((re=(de=R(de)).charCodeAt(0))===43||re===45){if((ae=de.charCodeAt(2))===88||ae===120)return NaN}else if(re===48){switch(de.charCodeAt(1)){case 66:case 98:ge=2,fe=49;break;case 79:case 111:ge=8,fe=55;break;default:return+de}for(ce=(pe=de.slice(2)).length,le=0;le<ce;le++)if((ye=pe.charCodeAt(le))<48||ye>fe)return NaN;return parseInt(pe,ge)}}return+de};if(b("Number",!H(" 0o1")||!H("0b1")||H("+0x1"))){for(var I,z=function(ee){var re=arguments.length<1?0:ee,ae=this;return ae instanceof z&&(M?X(function(){Y.valueOf.call(ae)}):k(ae)!="Number")?A(new H(C(re)),ae,z):C(re)},L=d?J(H):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Z=0;L.length>Z;Z++)E(H,I=L[Z])&&!E(z,I)&&U(z,I,W(H,I));z.prototype=Y,Y.constructor=z,x(y,"Number",z)}},function(l,p,u){u(15)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(l,p,u){var d=u(16),y=u(49),b="".split;l.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return y(x)=="String"?b.call(x,""):Object(x)}:Object},function(l,p,u){var d=u(21),y=u(46),b=u(29),x=d("unscopables"),E=Array.prototype;E[x]==null&&b.f(E,x,{configurable:!0,value:y(null)}),l.exports=function(k){E[x][k]=!0}},function(l,p,u){var d=u(68),y=u(87);(l.exports=function(b,x){return y[b]||(y[b]=x!==void 0?x:{})})("versions",[]).push({version:"3.17.2",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(l,p){l.exports=!1},function(l,p){var u=0,d=Math.random();l.exports=function(y){return"Symbol("+String(y===void 0?"":y)+")_"+(++u+d).toString(36)}},function(l,p,u){var d,y,b=u(23),x=u(71),E=b.process,k=b.Deno,A=E&&E.versions||k&&k.version,T=A&&A.v8;T?y=(d=T.split("."))[0]<4?1:d[0]+d[1]:x&&(!(d=x.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=x.match(/Chrome\/(\d+)/))&&(y=d[1]),l.exports=y&&+y},function(l,p,u){var d=u(45);l.exports=d("navigator","userAgent")||""},function(l,p,u){var d=u(108),y=u(53);l.exports=function(b){var x=d(b,"string");return y(x)?x:String(x)}},function(l,p,u){var d=u(50),y=Math.max,b=Math.min;l.exports=function(x,E){var k=d(x);return k<0?y(k+E,0):b(k,E)}},function(l,p,u){var d=u(67),y=u(69),b=d("keys");l.exports=function(x){return b[x]||(b[x]=y(x))}},function(l,p,u){var d={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,b=y&&!d.call({1:2},1);p.f=b?function(x){var E=y(this,x);return!!E&&E.enumerable}:d},function(l,p,u){var d=u(27),y=u(31),b=u(74),x=u(115),E=b("IE_PROTO"),k=Object.prototype;l.exports=x?Object.getPrototypeOf:function(A){return A=y(A),d(A,E)?A[E]:typeof A.constructor=="function"&&A instanceof A.constructor?A.constructor.prototype:A instanceof Object?k:null}},function(l,p,u){var d=u(29).f,y=u(27),b=u(21)("toStringTag");l.exports=function(x,E,k){x&&!y(x=k?x:x.prototype,b)&&d(x,b,{configurable:!0,value:E})}},function(l,p,u){var d=u(148),y=u(150);l.exports=d("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},y)},function(l,p,u){var d=u(59);l.exports=function(y,b,x){if(d(y),b===void 0)return y;switch(x){case 0:return function(){return y.call(b)};case 1:return function(E){return y.call(b,E)};case 2:return function(E,k){return y.call(b,E,k)};case 3:return function(E,k,A){return y.call(b,E,k,A)}}return function(){return y.apply(b,arguments)}}},function(l,p,u){var d=u(49);l.exports=Array.isArray||function(y){return d(y)=="Array"}},function(l,p,u){var d=u(15),y=u(73),b=u(50),x=u(32),E=u(31),k=u(97),A=u(62),T=u(61)("splice"),w=Math.max,X=Math.min;d({target:"Array",proto:!0,forced:!T},{splice:function(G,J){var W,U,R,H,Y,M,C=E(this),I=x(C.length),z=y(G,I),L=arguments.length;if(L===0?W=U=0:L===1?(W=0,U=I-z):(W=L-2,U=X(w(b(J),0),I-z)),I+W-U>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(R=k(C,U),H=0;H<U;H++)(Y=z+H)in C&&A(R,H,C[Y]);if(R.length=U,W<U){for(H=z;H<I-U;H++)M=H+W,(Y=H+U)in C?C[M]=C[Y]:delete C[M];for(H=I;H>I-U+W;H--)delete C[H-1]}else if(W>U)for(H=I-U;H>z;H--)M=H+W-1,(Y=H+U-1)in C?C[M]=C[Y]:delete C[M];for(H=0;H<W;H++)C[H+z]=arguments[H+2];return C.length=I-U+W,R}})},function(l,p,u){var d=u(15),y=u(65),b=u(34),x=u(98),E=[].join,k=y!=Object,A=x("join",",");d({target:"Array",proto:!0,forced:k||!A},{join:function(T){return E.call(b(this),T===void 0?",":T)}})},function(l,p,u){var d,y,b=u(33),x=u(167),E=u(133),k=u(67),A=u(46),T=u(51).get,w=u(168),X=u(169),G=RegExp.prototype.exec,J=k("native-string-replace",String.prototype.replace),W=G,U=(d=/a/,y=/b*/g,G.call(d,"a"),G.call(y,"a"),d.lastIndex!==0||y.lastIndex!==0),R=E.UNSUPPORTED_Y||E.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(U||H||R||w||X)&&(W=function(Y){var M,C,I,z,L,Z,ee,re=this,ae=T(re),ge=b(Y),fe=ae.raw;if(fe)return fe.lastIndex=re.lastIndex,M=W.call(fe,ge),re.lastIndex=fe.lastIndex,M;var pe=ae.groups,ce=R&&re.sticky,le=x.call(re),ye=re.source,de=0,ke=ge;if(ce&&((le=le.replace("y","")).indexOf("g")===-1&&(le+="g"),ke=ge.slice(re.lastIndex),re.lastIndex>0&&(!re.multiline||re.multiline&&ge.charAt(re.lastIndex-1)!==`
`)&&(ye="(?: "+ye+")",ke=" "+ke,de++),C=new RegExp("^(?:"+ye+")",le)),H&&(C=new RegExp("^"+ye+"$(?!\\s)",le)),U&&(I=re.lastIndex),z=G.call(ce?C:re,ke),ce?z?(z.input=z.input.slice(de),z[0]=z[0].slice(de),z.index=re.lastIndex,re.lastIndex+=z[0].length):re.lastIndex=0:U&&z&&(re.lastIndex=re.global?z.index+z[0].length:I),H&&z&&z.length>1&&J.call(z[0],C,function(){for(L=1;L<arguments.length-2;L++)arguments[L]===void 0&&(z[L]=void 0)}),z&&pe)for(z.groups=Z=A(null),L=0;L<pe.length;L++)Z[(ee=pe[L])[0]]=z[ee[1]];return z}),l.exports=W},function(l,p,u){var d=u(15),y=u(174);d({target:"String",proto:!0,forced:u(175)("anchor")},{anchor:function(b){return y(this,"a","name",b)}})},function(l,p,u){(function(d){var y=typeof d=="object"&&d&&d.Object===Object&&d;p.a=y}).call(this,u(86))},function(l,p){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}l.exports=u},function(l,p,u){var d=u(23),y=u(88),b=d["__core-js_shared__"]||y("__core-js_shared__",{});l.exports=b},function(l,p,u){var d=u(23);l.exports=function(y,b){try{Object.defineProperty(d,y,{value:b,configurable:!0,writable:!0})}catch{d[y]=b}return b}},function(l,p,u){var d=u(70),y=u(16);l.exports=!!Object.getOwnPropertySymbols&&!y(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(l,p){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(l,p,u){var d=u(15),y=u(146),b=u(76),x=u(94),E=u(77),k=u(39),A=u(43),T=u(21),w=u(68),X=u(56),G=u(114),J=G.IteratorPrototype,W=G.BUGGY_SAFARI_ITERATORS,U=T("iterator"),R=function(){return this};l.exports=function(H,Y,M,C,I,z,L){y(M,Y,C);var Z,ee,re,ae=function(de){if(de===I&&le)return le;if(!W&&de in pe)return pe[de];switch(de){case"keys":case"values":case"entries":return function(){return new M(this,de)}}return function(){return new M(this)}},ge=Y+" Iterator",fe=!1,pe=H.prototype,ce=pe[U]||pe["@@iterator"]||I&&pe[I],le=!W&&ce||ae(I),ye=Y=="Array"&&pe.entries||ce;if(ye&&(Z=b(ye.call(new H)),J!==Object.prototype&&Z.next&&(w||b(Z)===J||(x?x(Z,J):typeof Z[U]!="function"&&k(Z,U,R)),E(Z,ge,!0,!0),w&&(X[ge]=R))),I=="values"&&ce&&ce.name!=="values"&&(fe=!0,le=function(){return ce.call(this)}),w&&!L||pe[U]===le||k(pe,U,le),X[Y]=le,I)if(ee={values:ae("values"),keys:z?le:ae("keys"),entries:ae("entries")},L)for(re in ee)(W||fe||!(re in pe))&&A(pe,re,ee[re]);else d({target:Y,proto:!0,forced:W||fe},ee);return ee}},function(l,p){p.f=Object.getOwnPropertySymbols},function(l,p,u){var d=u(16),y=/#|\.prototype\./,b=function(T,w){var X=E[x(T)];return X==A||X!=k&&(typeof w=="function"?d(w):!!w)},x=b.normalize=function(T){return String(T).replace(y,".").toLowerCase()},E=b.data={},k=b.NATIVE="N",A=b.POLYFILL="P";l.exports=b},function(l,p,u){var d=u(25),y=u(147);l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b,x=!1,E={};try{(b=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),x=E instanceof Array}catch{}return function(k,A){return d(k),y(A),x?b.call(k,A):k.__proto__=A,k}}():void 0)},function(l,p,u){var d=u(121),y=u(56),b=u(21)("iterator");l.exports=function(x){if(x!=null)return x[b]||x["@@iterator"]||y[d(x)]}},function(l,p,u){var d={};d[u(21)("toStringTag")]="z",l.exports=String(d)==="[object z]"},function(l,p,u){var d=u(155);l.exports=function(y,b){return new(d(y))(b===0?0:b)}},function(l,p,u){var d=u(16);l.exports=function(y,b){var x=[][y];return!!x&&d(function(){x.call(null,b||function(){throw 1},1)})}},function(l,p){l.exports=function(u){if(!u.webpackPolyfill){var d=Object.create(u);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(l,p,u){u(40);var d=u(43),y=u(83),b=u(16),x=u(21),E=u(39),k=x("species"),A=RegExp.prototype;l.exports=function(T,w,X,G){var J=x(T),W=!b(function(){var Y={};return Y[J]=function(){return 7},""[T](Y)!=7}),U=W&&!b(function(){var Y=!1,M=/a/;return T==="split"&&((M={}).constructor={},M.constructor[k]=function(){return M},M.flags="",M[J]=/./[J]),M.exec=function(){return Y=!0,null},M[J](""),!Y});if(!W||!U||X){var R=/./[J],H=w(J,""[T],function(Y,M,C,I,z){var L=M.exec;return L===y||L===A.exec?W&&!z?{done:!0,value:R.call(M,C,I)}:{done:!0,value:Y.call(C,M,I)}:{done:!1}});d(String.prototype,T,H[0]),d(A,J,H[1])}G&&E(A[J],"sham",!0)}},function(l,p,u){var d=u(126).charAt;l.exports=function(y,b,x){return b+(x?d(y,b).length:1)}},function(l,p,u){var d=u(49),y=u(83);l.exports=function(b,x){var E=b.exec;if(typeof E=="function"){var k=E.call(b,x);if(typeof k!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return k}if(d(b)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return y.call(b,x)}},function(l,p,u){u(15)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(l,p){var u,d,y=l.exports={};function b(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function E(U){if(u===setTimeout)return setTimeout(U,0);if((u===b||!u)&&setTimeout)return u=setTimeout,setTimeout(U,0);try{return u(U,0)}catch{try{return u.call(null,U,0)}catch{return u.call(this,U,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:b}catch{u=b}try{d=typeof clearTimeout=="function"?clearTimeout:x}catch{d=x}})();var k,A=[],T=!1,w=-1;function X(){T&&k&&(T=!1,k.length?A=k.concat(A):w=-1,A.length&&G())}function G(){if(!T){var U=E(X);T=!0;for(var R=A.length;R;){for(k=A,A=[];++w<R;)k&&k[w].run();w=-1,R=A.length}k=null,T=!1,function(H){if(d===clearTimeout)return clearTimeout(H);if((d===x||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(H);try{d(H)}catch{try{return d.call(null,H)}catch{return d.call(this,H)}}}(U)}}function J(U,R){this.fun=U,this.array=R}function W(){}y.nextTick=function(U){var R=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)R[H-1]=arguments[H];A.push(new J(U,R)),A.length!==1||T||E(G)},J.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=W,y.addListener=W,y.once=W,y.off=W,y.removeListener=W,y.removeAllListeners=W,y.emit=W,y.prependListener=W,y.prependOnceListener=W,y.listeners=function(U){return[]},y.binding=function(U){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(U){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(l,p,u){var d=u(89);l.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(l,p,u){var d=u(28),y=u(16),b=u(107);l.exports=!d&&!y(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(l,p,u){var d=u(23),y=u(24),b=d.document,x=y(b)&&y(b.createElement);l.exports=function(E){return x?b.createElement(E):{}}},function(l,p,u){var d=u(24),y=u(53),b=u(143),x=u(21)("toPrimitive");l.exports=function(E,k){if(!d(E)||y(E))return E;var A,T=E[x];if(T!==void 0){if(k===void 0&&(k="default"),A=T.call(E,k),!d(A)||y(A))return A;throw TypeError("Can't convert object to primitive value")}return k===void 0&&(k="number"),b(E,k)}},function(l,p,u){var d=u(27),y=u(34),b=u(110).indexOf,x=u(55);l.exports=function(E,k){var A,T=y(E),w=0,X=[];for(A in T)!d(x,A)&&d(T,A)&&X.push(A);for(;k.length>w;)d(T,A=k[w++])&&(~b(X,A)||X.push(A));return X}},function(l,p,u){var d=u(34),y=u(32),b=u(73),x=function(E){return function(k,A,T){var w,X=d(k),G=y(X.length),J=b(T,G);if(E&&A!=A){for(;G>J;)if((w=X[J++])!=w)return!0}else for(;G>J;J++)if((E||J in X)&&X[J]===A)return E||J||0;return!E&&-1}};l.exports={includes:x(!0),indexOf:x(!1)}},function(l,p,u){var d=u(87),y=Function.toString;typeof d.inspectSource!="function"&&(d.inspectSource=function(b){return y.call(b)}),l.exports=d.inspectSource},function(l,p,u){var d=u(27),y=u(113),b=u(47),x=u(29);l.exports=function(E,k){for(var A=y(k),T=x.f,w=b.f,X=0;X<A.length;X++){var G=A[X];d(E,G)||T(E,G,w(k,G))}}},function(l,p,u){var d=u(45),y=u(58),b=u(92),x=u(25);l.exports=d("Reflect","ownKeys")||function(E){var k=y.f(x(E)),A=b.f;return A?k.concat(A(E)):k}},function(l,p,u){var d,y,b,x=u(16),E=u(76),k=u(39),A=u(27),T=u(21),w=u(68),X=T("iterator"),G=!1;[].keys&&("next"in(b=[].keys())?(y=E(E(b)))!==Object.prototype&&(d=y):G=!0);var J=d==null||x(function(){var W={};return d[X].call(W)!==W});J&&(d={}),w&&!J||A(d,X)||k(d,X,function(){return this}),l.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:G}},function(l,p,u){var d=u(16);l.exports=!d(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},function(l,p,u){var d=u(15),y=u(55),b=u(24),x=u(27),E=u(29).f,k=u(58),A=u(117),T=u(69),w=u(149),X=!1,G=T("meta"),J=0,W=Object.isExtensible||function(){return!0},U=function(H){E(H,G,{value:{objectID:"O"+J++,weakData:{}}})},R=l.exports={enable:function(){R.enable=function(){},X=!0;var H=k.f,Y=[].splice,M={};M[G]=1,H(M).length&&(k.f=function(C){for(var I=H(C),z=0,L=I.length;z<L;z++)if(I[z]===G){Y.call(I,z,1);break}return I},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},fastKey:function(H,Y){if(!b(H))return typeof H=="symbol"?H:(typeof H=="string"?"S":"P")+H;if(!x(H,G)){if(!W(H))return"F";if(!Y)return"E";U(H)}return H[G].objectID},getWeakData:function(H,Y){if(!x(H,G)){if(!W(H))return!0;if(!Y)return!1;U(H)}return H[G].weakData},onFreeze:function(H){return w&&X&&W(H)&&!x(H,G)&&U(H),H}};y[G]=!0},function(l,p,u){var d=u(34),y=u(58).f,b={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(E){return x&&b.call(E)=="[object Window]"?function(k){try{return y(k)}catch{return x.slice()}}(E):y(d(E))}},function(l,p,u){var d=u(25),y=u(119),b=u(32),x=u(79),E=u(120),k=u(95),A=u(122),T=function(w,X){this.stopped=w,this.result=X};l.exports=function(w,X,G){var J,W,U,R,H,Y,M,C=G&&G.that,I=!(!G||!G.AS_ENTRIES),z=!(!G||!G.IS_ITERATOR),L=!(!G||!G.INTERRUPTED),Z=x(X,C,1+I+L),ee=function(ae){return J&&A(J,"normal",ae),new T(!0,ae)},re=function(ae){return I?(d(ae),L?Z(ae[0],ae[1],ee):Z(ae[0],ae[1])):L?Z(ae,ee):Z(ae)};if(z)J=w;else{if(typeof(W=k(w))!="function")throw TypeError("Target is not iterable");if(y(W)){for(U=0,R=b(w.length);R>U;U++)if((H=re(w[U]))&&H instanceof T)return H;return new T(!1)}J=E(w,W)}for(Y=J.next;!(M=Y.call(J)).done;){try{H=re(M.value)}catch(ae){A(J,"throw",ae)}if(typeof H=="object"&&H&&H instanceof T)return H}return new T(!1)}},function(l,p,u){var d=u(21),y=u(56),b=d("iterator"),x=Array.prototype;l.exports=function(E){return E!==void 0&&(y.Array===E||x[b]===E)}},function(l,p,u){var d=u(25),y=u(95);l.exports=function(b,x){var E=arguments.length<2?y(b):x;if(typeof E!="function")throw TypeError(String(b)+" is not iterable");return d(E.call(b))}},function(l,p,u){var d=u(96),y=u(49),b=u(21)("toStringTag"),x=y(function(){return arguments}())=="Arguments";l.exports=d?y:function(E){var k,A,T;return E===void 0?"Undefined":E===null?"Null":typeof(A=function(w,X){try{return w[X]}catch{}}(k=Object(E),b))=="string"?A:x?y(k):(T=y(k))=="Object"&&typeof k.callee=="function"?"Arguments":T}},function(l,p,u){var d=u(25);l.exports=function(y,b,x){var E,k;d(y);try{if((E=y.return)===void 0){if(b==="throw")throw x;return x}E=E.call(y)}catch(A){k=!0,E=A}if(b==="throw")throw x;if(k)throw E;return d(E),x}},function(l,p){l.exports=function(u,d,y){if(!(u instanceof d))throw TypeError("Incorrect "+(y?y+" ":"")+"invocation");return u}},function(l,p,u){var d=u(21)("iterator"),y=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){y=!0}};x[d]=function(){return this},Array.from(x,function(){throw 2})}catch{}l.exports=function(E,k){if(!k&&!y)return!1;var A=!1;try{var T={};T[d]=function(){return{next:function(){return{done:A=!0}}}},E(T)}catch{}return A}},function(l,p,u){var d=u(24),y=u(94);l.exports=function(b,x,E){var k,A;return y&&typeof(k=x.constructor)=="function"&&k!==E&&d(A=k.prototype)&&A!==E.prototype&&y(b,A),b}},function(l,p,u){var d=u(50),y=u(33),b=u(38),x=function(E){return function(k,A){var T,w,X=y(b(k)),G=d(A),J=X.length;return G<0||G>=J?E?"":void 0:(T=X.charCodeAt(G))<55296||T>56319||G+1===J||(w=X.charCodeAt(G+1))<56320||w>57343?E?X.charAt(G):T:E?X.slice(G,G+2):w-56320+(T-55296<<10)+65536}};l.exports={codeAt:x(!1),charAt:x(!0)}},function(l,p){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(l,p,u){var d=u(21);p.f=d},function(l,p,u){var d=u(156),y=u(27),b=u(128),x=u(29).f;l.exports=function(E){var k=d.Symbol||(d.Symbol={});y(k,E)||x(k,E,{value:b.f(E)})}},function(l,p,u){var d=u(15),y=u(110).includes,b=u(66);d({target:"Array",proto:!0},{includes:function(x){return y(this,x,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(l,p,u){var d=u(15),y=u(165),b=u(38),x=u(33);d({target:"String",proto:!0,forced:!u(166)("includes")},{includes:function(E){return!!~x(b(this)).indexOf(x(y(E)),arguments.length>1?arguments[1]:void 0)}})},function(l,p,u){var d=u(24),y=u(49),b=u(21)("match");l.exports=function(x){var E;return d(x)&&((E=x[b])!==void 0?!!E:y(x)=="RegExp")}},function(l,p,u){var d=u(16),y=u(23).RegExp;p.UNSUPPORTED_Y=d(function(){var b=y("a","y");return b.lastIndex=2,b.exec("abcd")!=null}),p.BROKEN_CARET=d(function(){var b=y("^r","gy");return b.lastIndex=2,b.exec("str")!=null})},function(l,p,u){var d=u(38),y=u(33),b="["+u(135)+"]",x=RegExp("^"+b+b+"*"),E=RegExp(b+b+"*$"),k=function(A){return function(T){var w=y(d(T));return 1&A&&(w=w.replace(x,"")),2&A&&(w=w.replace(E,"")),w}};l.exports={start:k(1),end:k(2),trim:k(3)}},function(l,p){l.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(l,p,u){var d=u(100),y=u(25),b=u(32),x=u(33),E=u(38),k=u(101),A=u(102);d("match",function(T,w,X){return[function(G){var J=E(this),W=G==null?void 0:G[T];return W!==void 0?W.call(G,J):new RegExp(G)[T](x(J))},function(G){var J=y(this),W=x(G),U=X(w,J,W);if(U.done)return U.value;if(!J.global)return A(J,W);var R=J.unicode;J.lastIndex=0;for(var H,Y=[],M=0;(H=A(J,W))!==null;){var C=x(H[0]);Y[M]=C,C===""&&(J.lastIndex=k(W,b(J.lastIndex),R)),M++}return M===0?null:Y}]})},function(l,p,u){var d=u(100),y=u(16),b=u(25),x=u(50),E=u(32),k=u(33),A=u(38),T=u(101),w=u(171),X=u(102),G=u(21)("replace"),J=Math.max,W=Math.min,U="a".replace(/./,"$0")==="$0",R=!!/./[G]&&/./[G]("a","$0")==="";d("replace",function(H,Y,M){var C=R?"$":"$0";return[function(I,z){var L=A(this),Z=I==null?void 0:I[G];return Z!==void 0?Z.call(I,L,z):Y.call(k(L),I,z)},function(I,z){var L=b(this),Z=k(I);if(typeof z=="string"&&z.indexOf(C)===-1&&z.indexOf("$<")===-1){var ee=M(Y,L,Z,z);if(ee.done)return ee.value}var re=typeof z=="function";re||(z=k(z));var ae=L.global;if(ae){var ge=L.unicode;L.lastIndex=0}for(var fe=[];;){var pe=X(L,Z);if(pe===null||(fe.push(pe),!ae))break;k(pe[0])===""&&(L.lastIndex=T(Z,E(L.lastIndex),ge))}for(var ce,le="",ye=0,de=0;de<fe.length;de++){pe=fe[de];for(var ke=k(pe[0]),we=J(W(x(pe.index),Z.length),0),He=[],Ge=1;Ge<pe.length;Ge++)He.push((ce=pe[Ge])===void 0?ce:String(ce));var ze=pe.groups;if(re){var Ut=[ke].concat(He,we,Z);ze!==void 0&&Ut.push(ze);var cn=k(z.apply(void 0,Ut))}else cn=w(ke,Z,we,He,ze,z);we>=ye&&(le+=Z.slice(ye,we)+cn,ye=we+ke.length)}return le+Z.slice(ye)}]},!!y(function(){var H=/./;return H.exec=function(){var Y=[];return Y.groups={a:"7"},Y},"".replace(H,"$<a>")!=="7"})||!U||R)},function(l,p,u){p.a=function(){return!1}},function(l,p,u){(function(d){var y=u(22),b=m&&!m.nodeType&&m,x=b&&typeof d=="object"&&d&&!d.nodeType&&d,E=x&&x.exports===b?y.a.Buffer:void 0,k=E?E.allocUnsafe:void 0;p.a=function(A,T){if(T)return A.slice();var w=A.length,X=k?k(w):new A.constructor(w);return A.copy(X),X}}).call(this,u(99)(l))},function(l,p,u){(function(d){u.d(p,"a",function(){return R});var y=u(0);function b(M){throw new Error("[mobx-utils] "+M)}function x(M,C){C===void 0&&(C="Illegal state"),M||b(C)}var E=function(M){return M&&M!==Object.prototype&&Object.getOwnPropertyNames(M).concat(E(Object.getPrototypeOf(M))||[])},k=function(M){return function(C){var I=E(C);return I.filter(function(z,L){return I.indexOf(z)===L})}(M).filter(function(C){return C!=="constructor"&&!~C.indexOf("__")})};function A(M){switch(this.state){case"pending":return M.pending&&M.pending(this.value);case"rejected":return M.rejected&&M.rejected(this.value);case"fulfilled":return M.fulfilled?M.fulfilled(this.value):this.value}}function T(M,C){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof M=="function"||typeof M=="object"&&M&&typeof M.then=="function","Please pass a promise or function to fromPromise"),M.isPromiseBasedObservable===!0)return M;typeof M=="function"&&(M=new Promise(M));var I=M;M.then(Object(y.i)("observableFromPromise-resolve",function(L){I.value=L,I.state="fulfilled"}),Object(y.i)("observableFromPromise-reject",function(L){I.value=L,I.state="rejected"})),I.isPromiseBasedObservable=!0,I.case=A;var z=C&&C.state==="fulfilled"?C.value:void 0;return Object(y.o)(I,{value:z,state:"pending"},{},{deep:!1}),I}(function(M){M.reject=Object(y.i)("fromPromise.reject",function(C){var I=M(Promise.reject(C));return I.state="rejected",I.value=C,I}),M.resolve=Object(y.i)("fromPromise.resolve",function(C){C===void 0&&(C=void 0);var I=M(Promise.resolve(C));return I.state="fulfilled",I.value=C,I})})(T||(T={}));var w=function(M,C,I,z){var L,Z=arguments.length,ee=Z<3?C:z===null?z=Object.getOwnPropertyDescriptor(C,I):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(M,C,I,z);else for(var re=M.length-1;re>=0;re--)(L=M[re])&&(ee=(Z<3?L(ee):Z>3?L(C,I,ee):L(C,I))||ee);return Z>3&&ee&&Object.defineProperty(C,I,ee),ee};(function(){function M(C,I){var z=this;Object(y.E)(function(){z.current=I,z.subscription=C.subscribe(z)})}M.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},M.prototype.next=function(C){this.current=C},M.prototype.complete=function(){this.dispose()},M.prototype.error=function(C){this.current=C,this.dispose()},w([y.A.ref],M.prototype,"current",void 0),w([y.i.bound],M.prototype,"next",null),w([y.i.bound],M.prototype,"complete",null),w([y.i.bound],M.prototype,"error",null)})();var X=function(){return(X=Object.assign||function(M){for(var C,I=1,z=arguments.length;I<z;I++)for(var L in C=arguments[I])Object.prototype.hasOwnProperty.call(C,L)&&(M[L]=C[L]);return M}).apply(this,arguments)},G=function(M,C,I,z){var L,Z=arguments.length,ee=Z<3?C:z===null?z=Object.getOwnPropertyDescriptor(C,I):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(M,C,I,z);else for(var re=M.length-1;re>=0;re--)(L=M[re])&&(ee=(Z<3?L(ee):Z>3?L(C,I,ee):L(C,I))||ee);return Z>3&&ee&&Object.defineProperty(C,I,ee),ee},J=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function M(C){var I=this;this.model=C,this.localValues=y.A.map({}),this.localComputedValues=y.A.map({}),this.isPropertyDirty=function(z){return I.localValues.has(z)},x(Object(y.y)(C),"createViewModel expects an observable object"),k(C).forEach(function(z){if(z!==y.a&&z!=="__mobxDidRunLazyInitializers"){if(x(J.indexOf(z)===-1,"The propertyname "+z+" is reserved and cannot be used with viewModels"),Object(y.u)(C,z)){var L=Object(y.f)(C,z).derivation;I.localComputedValues.set(z,Object(y.k)(L.bind(I)))}var Z=Object.getOwnPropertyDescriptor(C,z),ee=Z?{enumerable:Z.enumerable}:{};Object.defineProperty(I,z,X(X({},ee),{configurable:!0,get:function(){return Object(y.u)(C,z)?I.localComputedValues.get(z).get():I.isPropertyDirty(z)?I.localValues.get(z):I.model[z]},set:Object(y.i)(function(re){re!==I.model[z]?I.localValues.set(z,re):I.localValues.delete(z)})}))}})}Object.defineProperty(M.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),M.prototype.submit=function(){var C=this;Object(y.z)(this.localValues).forEach(function(I){var z=C.localValues.get(I),L=C.model[I];Object(y.w)(L)?L.replace(z):Object(y.x)(L)?(L.clear(),L.merge(z)):Object(y.t)(z)||(C.model[I]=z)}),this.localValues.clear()},M.prototype.reset=function(){this.localValues.clear()},M.prototype.resetProperty=function(C){this.localValues.delete(C)},G([y.k],M.prototype,"isDirty",null),G([y.k],M.prototype,"changedValues",null),G([y.i.bound],M.prototype,"submit",null),G([y.i.bound],M.prototype,"reset",null),G([y.i.bound],M.prototype,"resetProperty",null)})();function W(M){if(!M)return"ROOT";for(var C=[];M.parent;)C.push(M.path),M=M.parent;return C.reverse().join("/")}function U(M){return Object(y.y)(M)||Object(y.w)(M)||Object(y.x)(M)}function R(M,C){var I=new WeakMap;function z(ee){var re=I.get(ee.object);(function(ae,ge){switch(ae.type){case"add":L(ae.newValue,ge,ae.name);break;case"update":Z(ae.oldValue),L(ae.newValue,ge,ae.name||""+ae.index);break;case"remove":case"delete":Z(ae.oldValue);break;case"splice":ae.removed.map(Z),ae.added.forEach(function(ce,le){return L(ce,ge,""+(ae.index+le))});for(var fe=ae.index+ae.addedCount;fe<ae.object.length;fe++)if(U(ae.object[fe])){var pe=I.get(ae.object[fe]);pe&&(pe.path=""+fe)}}})(ee,re),C(ee,W(re),M)}function L(ee,re,ae){if(U(ee)){var ge=I.get(ee);if(ge){if(ge.parent!==re||ge.path!==ae)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+W(re)+"/"+ae+"', but it already exists at '"+W(ge.parent)+"/"+ge.path+"'")}else{var fe={parent:re,path:ae,dispose:Object(y.B)(ee,z)};I.set(ee,fe),Object(y.n)(ee).forEach(function(pe){var ce=pe[0];return L(pe[1],fe,ce)})}}}function Z(ee){if(U(ee)){var re=I.get(ee);if(!re)return;I.delete(ee),re.dispose(),Object(y.J)(ee).forEach(Z)}}return L(M,void 0,""),function(){Z(M)}}var H,Y=(H=function(M,C){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,z){I.__proto__=z}||function(I,z){for(var L in z)z.hasOwnProperty(L)&&(I[L]=z[L])})(M,C)},function(M,C){function I(){this.constructor=M}H(M,C),M.prototype=C===null?Object.create(C):(I.prototype=C.prototype,new I)});(function(M){function C(I,z,L){var Z=L===void 0?{}:L,ee=Z.name,re=ee===void 0?"ogm"+(1e3*Math.random()|0):ee,ae=Z.keyToName,ge=ae===void 0?function(ce){return""+ce}:ae,fe=M.call(this)||this;fe._keyToName=ge,fe._groupBy=z,fe._ogmInfoKey=Symbol("ogmInfo"+re),fe._base=I;for(var pe=0;pe<I.length;pe++)fe._addItem(I[pe]);return fe._disposeBaseObserver=Object(y.B)(fe._base,function(ce){if(ce.type==="splice")Object(y.H)(function(){for(var le=0,ye=ce.removed;le<ye.length;le++){var de=ye[le];fe._removeItem(de)}for(var ke=0,we=ce.added;ke<we.length;ke++){var He=we[ke];fe._addItem(He)}});else{if(ce.type!=="update")throw new Error("illegal state");Object(y.H)(function(){fe._removeItem(ce.oldValue),fe._addItem(ce.newValue)})}}),fe}Y(C,M),C.prototype.clear=function(){throw new Error("not supported")},C.prototype.delete=function(I){throw new Error("not supported")},C.prototype.set=function(I,z){throw new Error("not supported")},C.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var z=this._base[I];z[this._ogmInfoKey].reaction(),delete z[this._ogmInfoKey]}},C.prototype._getGroupArr=function(I){var z=M.prototype.get.call(this,I);return z===void 0&&(z=Object(y.A)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),M.prototype.set.call(this,I,z)),z},C.prototype._removeFromGroupArr=function(I,z){var L=M.prototype.get.call(this,I);L.length===1?M.prototype.delete.call(this,I):(z===L.length-1||(L[z]=L[L.length-1],L[z][this._ogmInfoKey].groupArrIndex=z),L.length--)},C.prototype._addItem=function(I){var z=this,L=this._groupBy(I),Z=this._getGroupArr(L),ee={groupByValue:L,groupArrIndex:Z.length,reaction:Object(y.D)(function(){return z._groupBy(I)},function(re,ae){var ge=I[z._ogmInfoKey];z._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var fe=z._getGroupArr(re),pe=fe.length;fe.push(I),ge.groupByValue=re,ge.groupArrIndex=pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ee}),Z.push(I)},C.prototype._removeItem=function(I){var z=I[this._ogmInfoKey];this._removeFromGroupArr(z.groupByValue,z.groupArrIndex),z.reaction(),delete I[this._ogmInfoKey]}})(y.b),function(){function M(C,I){this.base=C,this.args=I,this.closestIdx=0,this.isDisposed=!1;for(var z=this.closest=this.root=C,L=0;L<this.args.length-1&&(z=z.get(I[L]));L++)this.closest=z;this.closestIdx=L}return M.prototype.exists=function(){this.assertNotDisposed();var C=this.args.length;return this.closestIdx>=C-1&&this.closest.has(this.args[C-1])},M.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},M.prototype.set=function(C){this.assertNotDisposed();for(var I=this.args.length,z=this.closest,L=this.closestIdx;L<I-1;L++){var Z=new Map;z.set(this.args[L],Z),z=Z}this.closestIdx=I-1,this.closest=z,z.set(this.args[I-1],C)},M.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var C=this.args.length;this.closest.delete(this.args[C-1]);for(var I=this.root,z=[I],L=0;L<C-1;L++)I=I.get(this.args[L]),z.push(I);for(L=z.length-1;L>0;L--)z[L].size===0&&z[L-1].delete(this.args[L-1]);this.isDisposed=!0},M.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},M}(),Promise.resolve(),typeof queueMicrotask<"u"||d!==void 0&&d.nextTick}).call(this,u(104))},function(l,p,u){var d;(function(y,b,x){if(y){for(var E,k={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},X=1;X<20;++X)k[111+X]="f"+X;for(X=0;X<=9;++X)k[X+96]=X.toString();H.prototype.bind=function(Y,M,C){return Y=Y instanceof Array?Y:[Y],this._bindMultiple.call(this,Y,M,C),this},H.prototype.unbind=function(Y,M){return this.bind.call(this,Y,function(){},M)},H.prototype.trigger=function(Y,M){return this._directMap[Y+":"+M]&&this._directMap[Y+":"+M]({},Y),this},H.prototype.reset=function(){return this._callbacks={},this._directMap={},this},H.prototype.stopCallback=function(Y,M){if((" "+M.className+" ").indexOf(" mousetrap ")>-1||function I(z,L){return z!==null&&z!==b&&(z===L||I(z.parentNode,L))}(M,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var C=Y.composedPath()[0];C!==Y.target&&(M=C)}return M.tagName=="INPUT"||M.tagName=="SELECT"||M.tagName=="TEXTAREA"||M.isContentEditable},H.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},H.addKeycodes=function(Y){for(var M in Y)Y.hasOwnProperty(M)&&(k[M]=Y[M]);E=null},H.init=function(){var Y=H(b);for(var M in Y)M.charAt(0)!=="_"&&(H[M]=function(C){return function(){return Y[C].apply(Y,arguments)}}(M))},H.init(),y.Mousetrap=H,l.exports&&(l.exports=H),(d=function(){return H}.call(p,u,p,l))===void 0||(l.exports=d)}function G(Y,M,C){Y.addEventListener?Y.addEventListener(M,C,!1):Y.attachEvent("on"+M,C)}function J(Y){if(Y.type=="keypress"){var M=String.fromCharCode(Y.which);return Y.shiftKey||(M=M.toLowerCase()),M}return k[Y.which]?k[Y.which]:A[Y.which]?A[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function W(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function U(Y,M,C){return C||(C=function(){if(!E)for(var I in E={},k)I>95&&I<112||k.hasOwnProperty(I)&&(E[k[I]]=I);return E}()[Y]?"keydown":"keypress"),C=="keypress"&&M.length&&(C="keydown"),C}function R(Y,M){var C,I,z,L=[];for(C=function(Z){return Z==="+"?["+"]:(Z=Z.replace(/\+{2}/g,"+plus")).split("+")}(Y),z=0;z<C.length;++z)I=C[z],w[I]&&(I=w[I]),M&&M!="keypress"&&T[I]&&(I=T[I],L.push("shift")),W(I)&&L.push(I);return{key:I,modifiers:L,action:M=U(I,L,M)}}function H(Y){var M=this;if(Y=Y||b,!(M instanceof H))return new H(Y);M.target=Y,M._callbacks={},M._directMap={};var C,I={},z=!1,L=!1,Z=!1;function ee(ce){ce=ce||{};var le,ye=!1;for(le in I)ce[le]?ye=!0:I[le]=0;ye||(Z=!1)}function re(ce,le,ye,de,ke,we){var He,Ge,ze,Ut,cn=[],ut=ye.type;if(!M._callbacks[ce])return[];for(ut=="keyup"&&W(ce)&&(le=[ce]),He=0;He<M._callbacks[ce].length;++He)if(Ge=M._callbacks[ce][He],(de||!Ge.seq||I[Ge.seq]==Ge.level)&&ut==Ge.action&&(ut=="keypress"&&!ye.metaKey&&!ye.ctrlKey||(ze=le,Ut=Ge.modifiers,ze.sort().join(",")===Ut.sort().join(",")))){var Ue=!de&&Ge.combo==ke,ht=de&&Ge.seq==de&&Ge.level==we;(Ue||ht)&&M._callbacks[ce].splice(He,1),cn.push(Ge)}return cn}function ae(ce,le,ye,de){M.stopCallback(le,le.target||le.srcElement,ye,de)||ce(le,ye)===!1&&(function(ke){ke.preventDefault?ke.preventDefault():ke.returnValue=!1}(le),function(ke){ke.stopPropagation?ke.stopPropagation():ke.cancelBubble=!0}(le))}function ge(ce){typeof ce.which!="number"&&(ce.which=ce.keyCode);var le=J(ce);le&&(ce.type!="keyup"||z!==le?M.handleKey(le,function(ye){var de=[];return ye.shiftKey&&de.push("shift"),ye.altKey&&de.push("alt"),ye.ctrlKey&&de.push("ctrl"),ye.metaKey&&de.push("meta"),de}(ce),ce):z=!1)}function fe(ce,le,ye,de){function ke(ze){return function(){Z=ze,++I[ce],clearTimeout(C),C=setTimeout(ee,1e3)}}function we(ze){ae(ye,ze,ce),de!=="keyup"&&(z=J(ze)),setTimeout(ee,10)}I[ce]=0;for(var He=0;He<le.length;++He){var Ge=He+1===le.length?we:ke(de||R(le[He+1]).action);pe(le[He],Ge,de,ce,He)}}function pe(ce,le,ye,de,ke){M._directMap[ce+":"+ye]=le;var we,He=(ce=ce.replace(/\s+/g," ")).split(" ");He.length>1?fe(ce,He,le,ye):(we=R(ce,ye),M._callbacks[we.key]=M._callbacks[we.key]||[],re(we.key,we.modifiers,{type:we.action},de,ce,ke),M._callbacks[we.key][de?"unshift":"push"]({callback:le,modifiers:we.modifiers,action:we.action,seq:de,level:ke,combo:ce}))}M._handleKey=function(ce,le,ye){var de,ke=re(ce,le,ye),we={},He=0,Ge=!1;for(de=0;de<ke.length;++de)ke[de].seq&&(He=Math.max(He,ke[de].level));for(de=0;de<ke.length;++de)if(ke[de].seq){if(ke[de].level!=He)continue;Ge=!0,we[ke[de].seq]=1,ae(ke[de].callback,ye,ke[de].combo,ke[de].seq)}else Ge||ae(ke[de].callback,ye,ke[de].combo);var ze=ye.type=="keypress"&&L;ye.type!=Z||W(ce)||ze||ee(we),L=Ge&&ye.type=="keydown"},M._bindMultiple=function(ce,le,ye){for(var de=0;de<ce.length;++de)pe(ce[de],le,ye)},G(Y,"keypress",ge),G(Y,"keydown",ge),G(Y,"keyup",ge)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(l,p,u){var d=u(28),y=u(29),b=u(25),x=u(54);l.exports=d?Object.defineProperties:function(E,k){b(E);for(var A,T=x(k),w=T.length,X=0;w>X;)y.f(E,A=T[X++],k[A]);return E}},function(l,p,u){var d=u(24);l.exports=function(y,b){var x,E;if(b==="string"&&typeof(x=y.toString)=="function"&&!d(E=x.call(y))||typeof(x=y.valueOf)=="function"&&!d(E=x.call(y))||b!=="string"&&typeof(x=y.toString)=="function"&&!d(E=x.call(y)))return E;throw TypeError("Can't convert object to primitive value")}},function(l,p,u){var d=u(45);l.exports=d("document","documentElement")},function(l,p,u){var d=u(23),y=u(111),b=d.WeakMap;l.exports=typeof b=="function"&&/native code/.test(y(b))},function(l,p,u){var d=u(114).IteratorPrototype,y=u(46),b=u(57),x=u(77),E=u(56),k=function(){return this};l.exports=function(A,T,w){var X=T+" Iterator";return A.prototype=y(d,{next:b(1,w)}),x(A,X,!1,!0),E[X]=k,A}},function(l,p,u){var d=u(24);l.exports=function(y){if(!d(y)&&y!==null)throw TypeError("Can't set "+String(y)+" as a prototype");return y}},function(l,p,u){var d=u(15),y=u(23),b=u(93),x=u(43),E=u(116),k=u(118),A=u(123),T=u(24),w=u(16),X=u(124),G=u(77),J=u(125);l.exports=function(W,U,R){var H=W.indexOf("Map")!==-1,Y=W.indexOf("Weak")!==-1,M=H?"set":"add",C=y[W],I=C&&C.prototype,z=C,L={},Z=function(pe){var ce=I[pe];x(I,pe,pe=="add"?function(le){return ce.call(this,le===0?0:le),this}:pe=="delete"?function(le){return!(Y&&!T(le))&&ce.call(this,le===0?0:le)}:pe=="get"?function(le){return Y&&!T(le)?void 0:ce.call(this,le===0?0:le)}:pe=="has"?function(le){return!(Y&&!T(le))&&ce.call(this,le===0?0:le)}:function(le,ye){return ce.call(this,le===0?0:le,ye),this})};if(b(W,typeof C!="function"||!(Y||I.forEach&&!w(function(){new C().entries().next()}))))z=R.getConstructor(U,W,H,M),E.enable();else if(b(W,!0)){var ee=new z,re=ee[M](Y?{}:-0,1)!=ee,ae=w(function(){ee.has(1)}),ge=X(function(pe){new C(pe)}),fe=!Y&&w(function(){for(var pe=new C,ce=5;ce--;)pe[M](ce,ce);return!pe.has(-0)});ge||((z=U(function(pe,ce){A(pe,z,W);var le=J(new C,pe,z);return ce!=null&&k(ce,le[M],{that:le,AS_ENTRIES:H}),le})).prototype=I,I.constructor=z),(ae||fe)&&(Z("delete"),Z("has"),H&&Z("get")),(fe||re)&&Z(M),Y&&I.clear&&delete I.clear}return L[W]=z,d({global:!0,forced:z!=C},L),G(z,W),Y||R.setStrong(z,W,H),z}},function(l,p,u){var d=u(16);l.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(l,p,u){var d=u(29).f,y=u(46),b=u(151),x=u(79),E=u(123),k=u(118),A=u(91),T=u(152),w=u(28),X=u(116).fastKey,G=u(51),J=G.set,W=G.getterFor;l.exports={getConstructor:function(U,R,H,Y){var M=U(function(L,Z){E(L,M,R),J(L,{type:R,index:y(null),first:void 0,last:void 0,size:0}),w||(L.size=0),Z!=null&&k(Z,L[Y],{that:L,AS_ENTRIES:H})}),C=W(R),I=function(L,Z,ee){var re,ae,ge=C(L),fe=z(L,Z);return fe?fe.value=ee:(ge.last=fe={index:ae=X(Z,!0),key:Z,value:ee,previous:re=ge.last,next:void 0,removed:!1},ge.first||(ge.first=fe),re&&(re.next=fe),w?ge.size++:L.size++,ae!=="F"&&(ge.index[ae]=fe)),L},z=function(L,Z){var ee,re=C(L),ae=X(Z);if(ae!=="F")return re.index[ae];for(ee=re.first;ee;ee=ee.next)if(ee.key==Z)return ee};return b(M.prototype,{clear:function(){for(var L=C(this),Z=L.index,ee=L.first;ee;)ee.removed=!0,ee.previous&&(ee.previous=ee.previous.next=void 0),delete Z[ee.index],ee=ee.next;L.first=L.last=void 0,w?L.size=0:this.size=0},delete:function(L){var Z=C(this),ee=z(this,L);if(ee){var re=ee.next,ae=ee.previous;delete Z.index[ee.index],ee.removed=!0,ae&&(ae.next=re),re&&(re.previous=ae),Z.first==ee&&(Z.first=re),Z.last==ee&&(Z.last=ae),w?Z.size--:this.size--}return!!ee},forEach:function(L){for(var Z,ee=C(this),re=x(L,arguments.length>1?arguments[1]:void 0,3);Z=Z?Z.next:ee.first;)for(re(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(L){return!!z(this,L)}}),b(M.prototype,H?{get:function(L){var Z=z(this,L);return Z&&Z.value},set:function(L,Z){return I(this,L===0?0:L,Z)}}:{add:function(L){return I(this,L=L===0?0:L,L)}}),w&&d(M.prototype,"size",{get:function(){return C(this).size}}),M},setStrong:function(U,R,H){var Y=R+" Iterator",M=W(R),C=W(Y);A(U,R,function(I,z){J(this,{type:Y,target:I,state:M(I),kind:z,last:void 0})},function(){for(var I=C(this),z=I.kind,L=I.last;L&&L.removed;)L=L.previous;return I.target&&(I.last=L=L?L.next:I.state.first)?z=="keys"?{value:L.key,done:!1}:z=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:(I.target=void 0,{value:void 0,done:!0})},H?"entries":"values",!H,!0),T(R)}}},function(l,p,u){var d=u(43);l.exports=function(y,b,x){for(var E in b)d(y,E,b[E],x);return y}},function(l,p,u){var d=u(45),y=u(29),b=u(21),x=u(28),E=b("species");l.exports=function(k){var A=d(k),T=y.f;x&&A&&!A[E]&&T(A,E,{configurable:!0,get:function(){return this}})}},function(l,p,u){var d=u(96),y=u(121);l.exports=d?{}.toString:function(){return"[object "+y(this)+"]"}},function(l,p,u){var d=u(60).forEach,y=u(98)("forEach");l.exports=y?[].forEach:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}},function(l,p,u){var d=u(24),y=u(80),b=u(21)("species");l.exports=function(x){var E;return y(x)&&(typeof(E=x.constructor)!="function"||E!==Array&&!y(E.prototype)?d(E)&&(E=E[b])===null&&(E=void 0):E=void 0),E===void 0?Array:E}},function(l,p,u){var d=u(23);l.exports=d},function(l,p,u){var d=u(79),y=u(31),b=u(158),x=u(119),E=u(32),k=u(62),A=u(120),T=u(95);l.exports=function(w){var X,G,J,W,U,R,H=y(w),Y=typeof this=="function"?this:Array,M=arguments.length,C=M>1?arguments[1]:void 0,I=C!==void 0,z=T(H),L=0;if(I&&(C=d(C,M>2?arguments[2]:void 0,2)),z==null||Y==Array&&x(z))for(G=new Y(X=E(H.length));X>L;L++)R=I?C(H[L],L):H[L],k(G,L,R);else for(U=(W=A(H,z)).next,G=new Y;!(J=U.call(W)).done;L++)R=I?b(W,C,[J.value,L],!0):J.value,k(G,L,R);return G.length=L,G}},function(l,p,u){var d=u(25),y=u(122);l.exports=function(b,x,E,k){try{return k?x(d(E)[0],E[1]):x(E)}catch(A){y(b,"throw",A)}}},function(l,p,u){var d=u(15),y=u(59),b=u(31),x=u(32),E=u(33),k=u(16),A=u(160),T=u(98),w=u(161),X=u(162),G=u(70),J=u(163),W=[],U=W.sort,R=k(function(){W.sort(void 0)}),H=k(function(){W.sort(null)}),Y=T("sort"),M=!k(function(){if(G)return G<70;if(!(w&&w>3)){if(X)return!0;if(J)return J<603;var C,I,z,L,Z="";for(C=65;C<76;C++){switch(I=String.fromCharCode(C),C){case 66:case 69:case 70:case 72:z=3;break;case 68:case 71:z=4;break;default:z=2}for(L=0;L<47;L++)W.push({k:I+L,v:z})}for(W.sort(function(ee,re){return re.v-ee.v}),L=0;L<W.length;L++)I=W[L].k.charAt(0),Z.charAt(Z.length-1)!==I&&(Z+=I);return Z!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:R||!H||!Y||!M},{sort:function(C){C!==void 0&&y(C);var I=b(this);if(M)return C===void 0?U.call(I):U.call(I,C);var z,L,Z=[],ee=x(I.length);for(L=0;L<ee;L++)L in I&&Z.push(I[L]);for(z=(Z=A(Z,function(re){return function(ae,ge){return ge===void 0?-1:ae===void 0?1:re!==void 0?+re(ae,ge)||0:E(ae)>E(ge)?1:-1}}(C))).length,L=0;L<z;)I[L]=Z[L++];for(;L<ee;)delete I[L++];return I}})},function(l,p){var u=Math.floor,d=function(x,E){var k=x.length,A=u(k/2);return k<8?y(x,E):b(d(x.slice(0,A),E),d(x.slice(A),E),E)},y=function(x,E){for(var k,A,T=x.length,w=1;w<T;){for(A=w,k=x[w];A&&E(x[A-1],k)>0;)x[A]=x[--A];A!==w++&&(x[A]=k)}return x},b=function(x,E,k){for(var A=x.length,T=E.length,w=0,X=0,G=[];w<A||X<T;)w<A&&X<T?G.push(k(x[w],E[X])<=0?x[w++]:E[X++]):G.push(w<A?x[w++]:E[X++]);return G};l.exports=d},function(l,p,u){var d=u(71).match(/firefox\/(\d+)/i);l.exports=!!d&&+d[1]},function(l,p,u){var d=u(71);l.exports=/MSIE|Trident/.test(d)},function(l,p,u){var d=u(71).match(/AppleWebKit\/(\d+)\./);l.exports=!!d&&+d[1]},function(l,p,u){var d=u(15),y=u(60).find,b=u(66),x=!0;"find"in[]&&Array(1).find(function(){x=!1}),d({target:"Array",proto:!0,forced:x},{find:function(E){return y(this,E,arguments.length>1?arguments[1]:void 0)}}),b("find")},function(l,p,u){var d=u(132);l.exports=function(y){if(d(y))throw TypeError("The method doesn't accept regular expressions");return y}},function(l,p,u){var d=u(21)("match");l.exports=function(y){var b=/./;try{"/./"[y](b)}catch{try{return b[d]=!1,"/./"[y](b)}catch{}}return!1}},function(l,p,u){var d=u(25);l.exports=function(){var y=d(this),b="";return y.global&&(b+="g"),y.ignoreCase&&(b+="i"),y.multiline&&(b+="m"),y.dotAll&&(b+="s"),y.unicode&&(b+="u"),y.sticky&&(b+="y"),b}},function(l,p,u){var d=u(16),y=u(23).RegExp;l.exports=d(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(l,p,u){var d=u(16),y=u(23).RegExp;l.exports=d(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(l,p,u){var d=u(25),y=u(59),b=u(21)("species");l.exports=function(x,E){var k,A=d(x).constructor;return A===void 0||(k=d(A)[b])==null?E:y(k)}},function(l,p,u){var d=u(31),y=Math.floor,b="".replace,x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;l.exports=function(k,A,T,w,X,G){var J=T+k.length,W=w.length,U=E;return X!==void 0&&(X=d(X),U=x),b.call(G,U,function(R,H){var Y;switch(H.charAt(0)){case"$":return"$";case"&":return k;case"`":return A.slice(0,T);case"'":return A.slice(J);case"<":Y=X[H.slice(1,-1)];break;default:var M=+H;if(M===0)return R;if(M>W){var C=y(M/10);return C===0?R:C<=W?w[C-1]===void 0?H.charAt(1):w[C-1]+H.charAt(1):R}Y=w[M-1]}return Y===void 0?"":Y})}},function(l,p,u){var d=u(59),y=u(24),b=[].slice,x={},E=function(k,A,T){if(!(A in x)){for(var w=[],X=0;X<A;X++)w[X]="a["+X+"]";x[A]=Function("C,a","return new C("+w.join(",")+")")}return x[A](k,T)};l.exports=Function.bind||function(k){var A=d(this),T=b.call(arguments,1),w=function(){var X=T.concat(b.call(arguments));return this instanceof w?E(A,X.length,X):A.apply(k,X)};return y(A.prototype)&&(w.prototype=A.prototype),w}},function(l,p,u){var d=u(28),y=u(16),b=u(54),x=u(92),E=u(75),k=u(31),A=u(65),T=Object.assign,w=Object.defineProperty;l.exports=!T||y(function(){if(d&&T({b:1},T(w({},"a",{enumerable:!0,get:function(){w(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var X={},G={},J=Symbol();return X[J]=7,"abcdefghijklmnopqrst".split("").forEach(function(W){G[W]=W}),T({},X)[J]!=7||b(T({},G)).join("")!="abcdefghijklmnopqrst"})?function(X,G){for(var J=k(X),W=arguments.length,U=1,R=x.f,H=E.f;W>U;)for(var Y,M=A(arguments[U++]),C=R?b(M).concat(R(M)):b(M),I=C.length,z=0;I>z;)Y=C[z++],d&&!H.call(M,Y)||(J[Y]=M[Y]);return J}:T},function(l,p,u){var d=u(38),y=u(33),b=/"/g;l.exports=function(x,E,k,A){var T=y(d(x)),w="<"+E;return k!==""&&(w+=" "+k+'="'+y(A).replace(b,"&quot;")+'"'),w+">"+T+"</"+E+">"}},function(l,p,u){var d=u(16);l.exports=function(y){return d(function(){var b=""[y]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(l,p,u){var d=u(15),y=Math.hypot,b=Math.abs,x=Math.sqrt;d({target:"Math",stat:!0,forced:!!y&&y(1/0,NaN)!==1/0},{hypot:function(E,k){for(var A,T,w=0,X=0,G=arguments.length,J=0;X<G;)J<(A=b(arguments[X++]))?(w=w*(T=J/A)*T+1,J=A):w+=A>0?(T=A/J)*T:A;return J===1/0?1/0:J*x(w)}})},function(l,p,u){var d=u(27);l.exports=function(y){return y!==void 0&&(d(y,"value")||d(y,"writable"))}},function(l,p,u){u(15)({target:"String",proto:!0},{repeat:u(179)})},function(l,p,u){var d=u(50),y=u(33),b=u(38);l.exports=function(x){var E=y(b(this)),k="",A=d(x);if(A<0||A==1/0)throw RangeError("Wrong number of repetitions");for(;A>0;(A>>>=1)&&(E+=E))1&A&&(k+=E);return k}},function(l,p,u){var d=u(28),y=u(54),b=u(34),x=u(75).f,E=function(k){return function(A){for(var T,w=b(A),X=y(w),G=X.length,J=0,W=[];G>J;)T=X[J++],d&&!x.call(w,T)||W.push(k?[T,w[T]]:w[T]);return W}};l.exports={entries:E(!0),values:E(!1)}},function(l,p,u){var d=u(31),y=u(73),b=u(32);l.exports=function(x){for(var E=d(this),k=b(E.length),A=arguments.length,T=y(A>1?arguments[1]:void 0,k),w=A>2?arguments[2]:void 0,X=w===void 0?k:y(w,k);X>T;)E[T++]=x;return E}},function(l,p,u){var d=u(15),y=u(134).trim;d({target:"String",proto:!0,forced:u(183)("trim")},{trim:function(){return y(this)}})},function(l,p,u){var d=u(16),y=u(135);l.exports=function(b){return d(function(){return!!y[b]()||"​᠎"[b]()!="​᠎"||y[b].name!==b})}},function(l,p,u){u.r(p),u.d(p,"observer",function(){return _n}),u.d(p,"LogicFlow",function(){return wc}),u.d(p,"h",function(){return R}),u.d(p,"LogicFlowUtil",function(){return d}),u.d(p,"BaseNode",function(){return Un}),u.d(p,"RectNode",function(){return qu}),u.d(p,"CircleNode",function(){return Ju}),u.d(p,"PolygonNode",function(){return ec}),u.d(p,"DiamondNode",function(){return nc}),u.d(p,"EllipseNode",function(){return rc}),u.d(p,"TextNode",function(){return ic}),u.d(p,"HtmlNode",function(){return uc}),u.d(p,"BaseEdge",function(){return Vo}),u.d(p,"LineEdge",function(){return dc}),u.d(p,"PolylineEdge",function(){return hc}),u.d(p,"BezierEdge",function(){return yc}),u.d(p,"Arrow",function(){return Rh}),u.d(p,"BaseEdgeModel",function(){return iu}),u.d(p,"BezierEdgeModel",function(){return Su}),u.d(p,"LineEdgeModel",function(){return cu}),u.d(p,"PolylineEdgeModel",function(){return su}),u.d(p,"BaseNodeModel",function(){return Fn}),u.d(p,"CircleNodeModel",function(){return Pu}),u.d(p,"DiamondNodeModel",function(){return Du}),u.d(p,"EllipseNodeModel",function(){return Nu}),u.d(p,"PolygonNodeModel",function(){return Iu}),u.d(p,"RectNodeModel",function(){return zu}),u.d(p,"TextNodeModel",function(){return Hu}),u.d(p,"HtmlNodeModel",function(){return Uu}),u.d(p,"EditConfigModel",function(){return Es}),u.d(p,"GraphModel",function(){return _f}),u.d(p,"SnaplineModel",function(){return zd}),u.d(p,"Keyboard",function(){return Dy}),u.d(p,"get",function(){return fp}),u.d(p,"defaults",function(){return dp});var d={};u.r(d),u.d(d,"createUuid",function(){return to}),u.d(d,"refreshGraphId",function(){return Mb}),u.d(d,"createDrag",function(){return Io}),u.d(d,"StepDrag",function(){return Lo});var y,b,x,E,k,A,T,w=u(0),X={},G=[],J=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function W(t,e){for(var n in e)t[n]=e[n];return t}function U(t){var e=t.parentNode;e&&e.removeChild(t)}function R(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?y.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return H(t,a,r,i,null)}function H(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++x};return b.vnode!=null&&b.vnode(o),o}function Y(){return{current:null}}function M(t){return t.children}function C(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function z(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return z(t)}}function L(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!Z.__r++||A!==b.debounceRendering)&&((A=b.debounceRendering)||k)(Z)}function Z(){for(var t;Z.__r=E.length;)t=E.sort(function(e,n){return e.__v.__b-n.__v.__b}),E=[],t.some(function(e){var n,r,i,o,a,c;e.__d&&(a=(o=(n=e).__v).__e,(c=n.__P)&&(r=[],(i=W({},o)).__v=o.__v+1,ye(c,o,i,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??I(o),o.__h),de(r,o),o.__e!=a&&z(o)))})}function ee(t,e,n,r,i,o,a,c,s,f){var g,S,j,N,B,$,V,K=r&&r.__k||G,q=K.length;for(n.__k=[],g=0;g<e.length;g++)if((N=n.__k[g]=(N=e[g])==null||typeof N=="boolean"?null:typeof N=="string"||typeof N=="number"||typeof N=="bigint"?H(null,N,null,null,N):Array.isArray(N)?H(M,{children:N},null,null,null):N.__b>0?H(N.type,N.props,N.key,null,N.__v):N)!=null){if(N.__=n,N.__b=n.__b+1,(j=K[g])===null||j&&N.key==j.key&&N.type===j.type)K[g]=void 0;else for(S=0;S<q;S++){if((j=K[S])&&N.key==j.key&&N.type===j.type){K[S]=void 0;break}j=null}ye(t,N,j=j||X,i,o,a,c,s,f),B=N.__e,(S=N.ref)&&j.ref!=S&&(V||(V=[]),j.ref&&V.push(j.ref,null,N),V.push(S,N.__c||B,N)),B!=null?($==null&&($=B),typeof N.type=="function"&&N.__k!=null&&N.__k===j.__k?N.__d=s=re(N,s,t):s=ge(t,N,j,K,B,s),f||n.type!=="option"?typeof n.type=="function"&&(n.__d=s):t.value=""):s&&j.__e==s&&s.parentNode!=t&&(s=I(j))}for(n.__e=$,g=q;g--;)K[g]!=null&&(typeof n.type=="function"&&K[g].__e!=null&&K[g].__e==n.__d&&(n.__d=I(r,g+1)),He(K[g],K[g]));if(V)for(g=0;g<V.length;g++)we(V[g],V[++g],V[++g])}function re(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?re(i,e,n):ge(n,i,i,t.__k,i.__e,e));return e}function ae(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){ae(n,e)}):e.push(t)),e}function ge(t,e,n,r,i,o){var a,c,s;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(c=o,s=0;(c=c.nextSibling)&&s<r.length;s+=2)if(c==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function fe(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||J.test(e)?n:n+"px"}function pe(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||fe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||fe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?le:ce,o):t.removeEventListener(e,o?le:ce,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function ce(t){this.l[t.type+!1](b.event?b.event(t):t)}function le(t){this.l[t.type+!0](b.event?b.event(t):t)}function ye(t,e,n,r,i,o,a,c,s){var f,g,S,j,N,B,$,V,K,q,te,ie=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,c=e.__e=n.__e,e.__h=null,o=[c]),(f=b.__b)&&f(e);try{e:if(typeof ie=="function"){if(V=e.props,K=(f=ie.contextType)&&r[f.__c],q=f?K?K.props.value:f.__:r,n.__c?$=(g=e.__c=n.__c).__=g.__E:("prototype"in ie&&ie.prototype.render?e.__c=g=new ie(V,q):(e.__c=g=new C(V,q),g.constructor=ie,g.render=Ge),K&&K.sub(g),g.props=V,g.state||(g.state={}),g.context=q,g.__n=r,S=g.__d=!0,g.__h=[]),g.__s==null&&(g.__s=g.state),ie.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=W({},g.__s)),W(g.__s,ie.getDerivedStateFromProps(V,g.__s))),j=g.props,N=g.state,S)ie.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(ie.getDerivedStateFromProps==null&&V!==j&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(V,q),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(V,g.__s,q)===!1||e.__v===n.__v){g.props=V,g.state=g.__s,e.__v!==n.__v&&(g.__d=!1),g.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(oe){oe&&(oe.__=e)}),g.__h.length&&a.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(V,g.__s,q),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(j,N,B)})}g.context=q,g.props=V,g.state=g.__s,(f=b.__r)&&f(e),g.__d=!1,g.__v=e,g.__P=t,f=g.render(g.props,g.state,g.context),g.state=g.__s,g.getChildContext!=null&&(r=W(W({},r),g.getChildContext())),S||g.getSnapshotBeforeUpdate==null||(B=g.getSnapshotBeforeUpdate(j,N)),te=f!=null&&f.type===M&&f.key==null?f.props.children:f,ee(t,Array.isArray(te)?te:[te],e,n,r,i,o,a,c,s),g.base=e.__e,e.__h=null,g.__h.length&&a.push(g),$&&(g.__E=g.__=null),g.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ke(n.__e,e,n,r,i,o,a,s);(f=b.diffed)&&f(e)}catch(oe){e.__v=null,(s||o!=null)&&(e.__e=c,e.__h=!!s,o[o.indexOf(c)]=null),b.__e(oe,e,n)}}function de(t,e){b.__c&&b.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){b.__e(r,n.__v)}})}function ke(t,e,n,r,i,o,a,c){var s,f,g,S=n.props,j=e.props,N=e.type,B=0;if(N==="svg"&&(i=!0),o!=null){for(;B<o.length;B++)if((s=o[B])&&(s===t||(N?s.localName==N:s.nodeType==3))){t=s,o[B]=null;break}}if(t==null){if(N===null)return document.createTextNode(j);t=i?document.createElementNS("http://www.w3.org/2000/svg",N):document.createElement(N,j.is&&j),o=null,c=!1}if(N===null)S===j||c&&t.data===j||(t.data=j);else{if(o=o&&y.call(t.childNodes),f=(S=n.props||X).dangerouslySetInnerHTML,g=j.dangerouslySetInnerHTML,!c){if(o!=null)for(S={},B=0;B<t.attributes.length;B++)S[t.attributes[B].name]=t.attributes[B].value;(g||f)&&(g&&(f&&g.__html==f.__html||g.__html===t.innerHTML)||(t.innerHTML=g&&g.__html||""))}if(function($,V,K,q,te){var ie;for(ie in K)ie==="children"||ie==="key"||ie in V||pe($,ie,null,K[ie],q);for(ie in V)te&&typeof V[ie]!="function"||ie==="children"||ie==="key"||ie==="value"||ie==="checked"||K[ie]===V[ie]||pe($,ie,V[ie],K[ie],q)}(t,j,S,i,c),g)e.__k=[];else if(B=e.props.children,ee(t,Array.isArray(B)?B:[B],e,n,r,i&&N!=="foreignObject",o,a,o?o[0]:n.__k&&I(n,0),c),o!=null)for(B=o.length;B--;)o[B]!=null&&U(o[B]);c||("value"in j&&(B=j.value)!==void 0&&(B!==t.value||N==="progress"&&!B)&&pe(t,"value",B,S.value,!1),"checked"in j&&(B=j.checked)!==void 0&&B!==t.checked&&pe(t,"checked",B,S.checked,!1))}return t}function we(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){b.__e(r,n)}}function He(t,e,n){var r,i;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||we(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){b.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&He(r[i],e,typeof t.type!="function");n||t.__e==null||U(t.__e),t.__e=t.__d=void 0}function Ge(t,e,n){return this.constructor(t,n)}function ze(t,e,n){var r,i,o;b.__&&b.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],ye(e,t=(!r&&n||e).__k=R(M,null,[t]),i||X,X,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?y.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),de(o,t)}function Ut(t,e){ze(t,e,Ut)}function cn(t,e,n){var r,i,o,a=W({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];return arguments.length>2&&(a.children=arguments.length>3?y.call(arguments,2):n),H(t.type,a,r||t.key,i||t.ref,null)}y=G.slice,b={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t}},x=0,C.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=W({},this.state),typeof t=="function"&&(t=t(W({},n),this.props)),t&&W(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),L(this))},C.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),L(this))},C.prototype.render=M,E=[],k=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Z.__r=0,T=0;var ut,Ue,ht,gt=0,sn=[],jt=b.__b,Wn=b.__r,ln=b.diffed,_t=b.__c,en=b.unmount;function fn(t,e){b.__h&&b.__h(Ue,t,gt||e),gt=0;var n=Ue.__H||(Ue.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Vn(t){return gt=1,Cr($n,t)}function Cr(t,e,n){var r=fn(ut++,2);return r.t=t,r.__c||(r.__=[n?n(e):$n(void 0,e),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=Ue),r.__}function Cn(t,e){var n=fn(ut++,4);!b.__s&&Rn(n.__H,e)&&(n.__=t,n.__H=e,Ue.__h.push(n))}function qe(t,e){var n=fn(ut++,7);return Rn(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Dt(){sn.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(st),t.__H.__h.forEach(pn),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}),sn=[]}b.__b=function(t){Ue=null,jt&&jt(t)},b.__r=function(t){Wn&&Wn(t),ut=0;var e=(Ue=t.__c).__H;e&&(e.__h.forEach(st),e.__h.forEach(pn),e.__h=[])},b.diffed=function(t){ln&&ln(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(sn.push(e)!==1&&ht===b.requestAnimationFrame||((ht=b.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Ce&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Ce&&(r=requestAnimationFrame(i))})(Dt)),Ue=void 0},b.__c=function(t,e){e.some(function(n){try{n.__h.forEach(st),n.__h=n.__h.filter(function(r){return!r.__||pn(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],b.__e(r,n.__v)}}),_t&&_t(t,e)},b.unmount=function(t){en&&en(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(st)}catch(n){b.__e(n,e.__v)}};var Ce=typeof requestAnimationFrame=="function";function st(t){var e=Ue;typeof t.__c=="function"&&t.__c(),Ue=e}function pn(t){var e=Ue;t.__c=t.__(),Ue=e}function Rn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function $n(t,e){return typeof e=="function"?e(t):e}function xn(t,e){for(var n in e)t[n]=e[n];return t}function Yt(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function be(t){this.props=t}(be.prototype=new C).isPureReactComponent=!0,be.prototype.shouldComponentUpdate=function(t,e){return Yt(this.props,t)||Yt(this.state,e)};var Pe=b.__b;b.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Pe&&Pe(t)};var De=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Re(t){function e(n,r){var i=xn({},n);return delete i.ref,t(i,(r=n.ref||r)&&(typeof r!="object"||"current"in r)?r:null)}return e.$$typeof=De,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var it=function(t,e){return t==null?null:ae(ae(t).map(e))},In={map:it,forEach:it,count:function(t){return t?ae(t).length:0},only:function(t){var e=ae(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ae},En=b.__e;b.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}En(t,e,n)};var Pt=b.unmount;function Kn(){this.__u=0,this.t=null,this.__b=null}function qn(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function Zn(){this.u=null,this.o=null}b.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Pt&&Pt(t)},(Kn.prototype=new C).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=qn(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(c):c())};n.__R=a;var c=function(){if(!--r.__u){if(r.state.__e){var f=r.state.__e;r.__v.__k[0]=function S(j,N,B){return j&&(j.__v=null,j.__k=j.__k&&j.__k.map(function($){return S($,N,B)}),j.__c&&j.__c.__P===N&&(j.__e&&B.insertBefore(j.__e,j.__d),j.__c.__e=!0,j.__c.__P=B)),j}(f,f.__c.__P,f.__c.__O)}var g;for(r.setState({__e:r.__b=null});g=r.t.pop();)g.forceUpdate()}},s=e.__h===!0;r.__u++||s||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},Kn.prototype.componentWillUnmount=function(){this.t=[]},Kn.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,c,s){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(f){typeof f.__c=="function"&&f.__c()}),a.__c.__H=null),(a=xn({},a)).__c!=null&&(a.__c.__P===s&&(a.__c.__P=c),a.__c=null),a.__k=a.__k&&a.__k.map(function(f){return o(f,c,s)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&R(M,null,t.fallback);return i&&(i.__h=null),[R(M,null,e.__e?null:t.children),i]};var dr=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function ba(t){return this.getChildContext=function(){return t.context},t.children}function ai(t){var e=this,n=t.i;e.componentWillUnmount=function(){ze(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),ze(R(ba,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(Zn.prototype=new C).__e=function(t){var e=this,n=qn(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),dr(e,t,r)):i()};n?n(o):o()}},Zn.prototype.render=function(t){this.u=null,this.o=new Map;var e=ae(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Zn.prototype.componentDidUpdate=Zn.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){dr(t,n,e)})};var dn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ui=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ci=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};C.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(C.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var ho=b.event;function ma(){}function hr(){return this.cancelBubble}function yr(){return this.defaultPrevented}b.event=function(t){return ho&&(t=ho(t)),t.persist=ma,t.isPropagationStopped=hr,t.isDefaultPrevented=yr,t.nativeEvent=t};var hn,si={configurable:!0,get:function(){return this.class}},yn=b.vnode;b.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!ci(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():ui.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=ae(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=ae(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(si.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",si)),t.$$typeof=dn,yn&&yn(t)};var Ln=b.__r;b.__r=function(t){Ln&&Ln(t),hn=t.__c};function vr(t){return!!t&&t.$$typeof===dn}function Jn(t){return t&&(t.base||t.nodeType===1&&t)||null}var yo=function(t,e){return t(e)},ve={useState:Vn,useReducer:Cr,useEffect:function(t,e){var n=fn(ut++,3);!b.__s&&Rn(n.__H,e)&&(n.__=t,n.__H=e,Ue.__H.__h.push(n))},useLayoutEffect:Cn,useRef:function(t){return gt=5,qe(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){gt=6,Cn(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))},useMemo:qe,useCallback:function(t,e){return gt=8,qe(function(){return t},e)},useContext:function(t){var e=Ue.context[t.__c],n=fn(ut++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Ue)),e.props.value):t.__},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)},version:"17.0.2",Children:In,render:function(t,e,n){return e.__k==null&&(e.textContent=""),ze(t,e),typeof n=="function"&&n(),t?t.__c:null},hydrate:function(t,e,n){return Ut(t,e),typeof n=="function"&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(ze(null,t),!0)},createPortal:function(t,e){return R(ai,{__v:t,i:e})},createElement:R,createContext:function(t,e){var n={__c:e="__cC"+T++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(L)},this.sub=function(a){i.push(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),c&&c.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(t){return R.bind(null,t)},cloneElement:function(t){return vr(t)?cn.apply(null,arguments):t},createRef:Y,Fragment:M,isValidElement:vr,findDOMNode:Jn,Component:C,PureComponent:be,memo:function(t,e){function n(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!a:Yt(this.props,i)}function r(i){return this.shouldComponentUpdate=n,R(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:Re,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:yo,StrictMode:M,Suspense:Kn,SuspenseList:Zn,lazy:function(t){var e,n,r;function i(o){if(e||(e=t()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw e;return R(n,o)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return hn.__n[t.__c].props.value}}}}};/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Qn(t){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(t,e,n){return e&&vo(t.prototype,e),n&&vo(t,n),t}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function er(t,e){return(er=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function mr(t,e){return!e||typeof e!="object"&&typeof e!="function"?function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t):e}function go(t,e){return t(e={exports:{}},e.exports),e.exports}var Ir,We=go(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,g=n?Symbol.for("react.async_mode"):60111,S=n?Symbol.for("react.concurrent_mode"):60111,j=n?Symbol.for("react.forward_ref"):60112,N=n?Symbol.for("react.suspense"):60113,B=n?Symbol.for("react.memo"):60115,$=n?Symbol.for("react.lazy"):60116;function V(q){if(typeof q=="object"&&q!==null){var te=q.$$typeof;switch(te){case r:switch(q=q.type){case g:case S:case o:case c:case a:return q;default:switch(q=q&&q.$$typeof){case f:case j:case s:return q;default:return te}}case i:return te}}}function K(q){return V(q)===S}e.typeOf=V,e.AsyncMode=g,e.ConcurrentMode=S,e.ContextConsumer=f,e.ContextProvider=s,e.Element=r,e.ForwardRef=j,e.Fragment=o,e.Profiler=c,e.Portal=i,e.StrictMode=a,e.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===o||q===S||q===c||q===a||q===N||typeof q=="object"&&q!==null&&(q.$$typeof===$||q.$$typeof===B||q.$$typeof===s||q.$$typeof===f||q.$$typeof===j)},e.isAsyncMode=function(q){return K(q)||V(q)===g},e.isConcurrentMode=K,e.isContextConsumer=function(q){return V(q)===f},e.isContextProvider=function(q){return V(q)===s},e.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===r},e.isForwardRef=function(q){return V(q)===j},e.isFragment=function(q){return V(q)===o},e.isProfiler=function(q){return V(q)===c},e.isPortal=function(q){return V(q)===i},e.isStrictMode=function(q){return V(q)===a}});(Ir=We)&&Ir.__esModule&&Object.prototype.hasOwnProperty.call(Ir,"default")&&Ir.default,We.typeOf,We.AsyncMode,We.ConcurrentMode,We.ContextConsumer,We.ContextProvider,We.Element,We.ForwardRef,We.Fragment,We.Profiler,We.Portal,We.StrictMode,We.isValidElementType,We.isAsyncMode,We.isConcurrentMode,We.isContextConsumer,We.isContextProvider,We.isElement,We.isForwardRef,We.isFragment,We.isProfiler,We.isPortal,We.isStrictMode;var Oa=go(function(t){t.exports=We}),lt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tr={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Mt={};Mt[Oa.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var _a=Object.defineProperty,Gt=Object.getOwnPropertyNames,bo=Object.getOwnPropertySymbols,wa=Object.getOwnPropertyDescriptor,li=Object.getPrototypeOf,fi=Object.prototype,vn=function t(e,n,r){if(typeof n!="string"){if(fi){var i=li(n);i&&i!==fi&&t(e,i,r)}var o=Gt(n);bo&&(o=o.concat(bo(n)));for(var a=Mt[e.$$typeof]||lt,c=Mt[n.$$typeof]||lt,s=0;s<o.length;++s){var f=o[s];if(!(tr[f]||r&&r[f]||c&&c[f]||a&&a[f])){var g=wa(n,f);try{_a(e,f,g)}catch{}}}return e}return e},pi=function(){function t(){gr(this,t),this.listeners=[]}return Ct(t,[{key:"on",value:function(e){var n=this;return this.listeners.push(e),function(){var r=n.listeners.indexOf(e);r!==-1&&n.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(n){return n(e)})}}]),t}();function di(t){function e(r,i,o,a,c,s){for(var f=arguments.length,g=new Array(f>6?f-6:0),S=6;S<f;S++)g[S-6]=arguments[S];return Object(w.I)(function(){if(a=a||"<<anonymous>>",s=s||o,i[o]==null){if(r){var j=i[o]===null?"null":"undefined";return new Error("The "+c+" `"+s+"` is marked as required in `"+a+"`, but its value is `"+j+"`.")}return null}return t.apply(void 0,[i,o,a,c,s].concat(g))})}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function Lr(t){var e=Qn(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(n,r){return n==="symbol"||r["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&r instanceof Symbol}(e,t)?"symbol":e}function Sn(t,e){return di(function(n,r,i,o,a){return Object(w.I)(function(){if(t&&Lr(n[r])===e.toLowerCase())return null;var c;switch(e){case"Array":c=w.w;break;case"Object":c=w.y;break;case"Map":c=w.x;break;default:throw new Error("Unexpected mobxType: ".concat(e))}var s=n[r];if(!c(s)){var f=function(S){var j=Lr(S);if(j==="object"){if(S instanceof Date)return"date";if(S instanceof RegExp)return"regexp"}return j}(s),g=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+f+"` supplied to `"+i+"`, expected `mobx.Observable"+e+"`"+g+".")}return null})})}function hi(t,e){return di(function(n,r,i,o,a){for(var c=arguments.length,s=new Array(c>5?c-5:0),f=5;f<c;f++)s[f-5]=arguments[f];return Object(w.I)(function(){if(typeof e!="function")return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var g=Sn(t,"Array")(n,r,i);if(g instanceof Error)return g;for(var S=n[r],j=0;j<S.length;j++)if((g=e.apply(void 0,[S,j,i,o,a+"["+j+"]"].concat(s)))instanceof Error)return g;return null})})}Sn(!1,"Array"),hi.bind(null,!1),Sn(!1,"Map"),Sn(!1,"Object"),Sn(!0,"Array"),hi.bind(null,!0);var zr=Sn(!0,"Object"),yi=0,Or={};function gn(t){return Or[t]||(Or[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react ".concat(e," (").concat(yi,")");return yi++,n}(t)),Or[t]}var vi=gn("patchMixins"),mo=gn("patchedDefinition");function gi(t,e){var n=t[vi]=t[vi]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function bi(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var a;return t!=null&&(a=t.apply(this,i)),a}finally{e.locks--,e.locks===0&&e.methods.forEach(function(c){c.apply(n,i)})}}function Oo(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];bi.call.apply(bi,[this,t,e].concat(r))}}function xa(t,e){for(var n=gi(t,e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];for(var a=0;a<i.length;a++){var c=i[a];n.methods.indexOf(c)<0&&n.methods.push(c)}var s=Object.getOwnPropertyDescriptor(t,e);if(!s||!s[mo]){var f=t[e],g=_o(t,e,s?s.enumerable:void 0,n,f);Object.defineProperty(t,e,g)}}function _o(t,e,n,r,i){var o,a=Oo(i,r);return Tt(o={},mo,!0),Tt(o,"get",function(){return a}),Tt(o,"set",function(c){if(this===t)a=Oo(c,r);else{var s=_o(this,e,n,r,c);Object.defineProperty(this,e,s)}}),Tt(o,"configurable",!0),Tt(o,"enumerable",n),o}var wo={mobxStores:zr};Object.seal(wo);var Ea={contextTypes:{get:function(){return wo},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function mi(t,e,n){var r="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");n&&(r+="-with-"+n);var i=function(o){function a(){var c,s;gr(this,a);for(var f=arguments.length,g=new Array(f),S=0;S<f;S++)g[S]=arguments[S];return(s=mr(this,(c=br(a)).call.apply(c,[this].concat(g)))).storeRef=function(j){s.wrappedInstance=j},s}return Rr(a,o),Ct(a,[{key:"render",value:function(){var c={};for(var s in this.props)this.props.hasOwnProperty(s)&&(c[s]=this.props[s]);var f=t(this.context.mobxStores||{},c,this.context)||{};for(var g in f)c[g]=f[g];return function(S){return!(S.prototype&&S.prototype.render)}(e)||(c.ref=this.storeRef),R(e,c)}}]),a}(C);return i.displayName=r,vn(i,e),i.wrappedComponent=e,Object.defineProperties(i,Ea),i}function Sa(t){return function(e,n){return t.forEach(function(r){if(!(r in n)){if(!(r in e))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");n[r]=e[r]}}),n}}function nr(){var t;if(typeof arguments[0]=="function")return t=arguments[0],function(r){var i=mi(t,r);return i.isMobxInjector=!1,(i=nn(i)).isMobxInjector=!0,i};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=Sa(e),function(r){return mi(t,r,e.join("-"))}}var jn=w.a||"$mobx",Oi=gn("isUnmounted"),zn=!1,_i=!1,rr=typeof WeakMap<"u"?new WeakMap:void 0,Pn=new pi,Br=gn("skipRender"),Xr=gn("isForcingUpdate"),Wt=Re(function(t,e){}).$$typeof;function bn(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function xo(t){if(Jn)try{return Jn(t)}catch{return null}return null}function wi(t){var e=xo(t);e&&rr&&rr.set(e,t),Pn.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}var tn=new pi;function or(t,e){if(Vt(t,e))return!0;if(Qn(t)!=="object"||t===null||Qn(e)!=="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(e,n[i])||!Vt(t[n[i]],e[n[i]]))return!1;return!0}function Vt(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function $t(t){var e=this;function n(){var s=this;a=!1;var f=void 0,g=void 0;if(c.track(function(){zn&&(s.__$mobRenderStart=Date.now());try{g=Object(w.d)(!1,o)}catch(S){f=S}zn&&(s.__$mobRenderEnd=Date.now())}),f)throw tn.emit(f),f;return g}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;bn(this,Br,!1),bn(this,Xr,!1);var o=t.bind(this),a=!1,c=new w.c("".concat(r,"#").concat(i,".render()"),function(){if(!a&&(a=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e[Oi]!==!0)){var s=!0;try{bn(e,Xr,!0),e[Br]||C.prototype.forceUpdate.call(e),s=!1}finally{bn(e,Xr,!1),s&&c.dispose()}}});return c.reactComponent=this,n[jn]=c,this.render=n,n.call(this)}var Bn={componentWillUnmount:function(){if(this.render[jn]&&this.render[jn].dispose(),this[Oi]=!0,zn){var t=xo(this);t&&rr&&rr.delete(t),Pn.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){zn&&wi(this)},componentDidUpdate:function(){zn&&wi(this)},shouldComponentUpdate:function(t,e){return this.state!==e||!or(this.props,t)}};function Rt(t,e){var n=gn("reactProp_".concat(e,"_valueHolder")),r=gn("reactProp_".concat(e,"_atomHolder"));function i(){return this[r]||bn(this,r,Object(w.m)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(o){this[Xr]||or(this[n],o)?bn(this,n,o):(bn(this,n,o),bn(this,Br,!0),i.call(this).reportChanged(),bn(this,Br,!1))}})}function nn(t,e){if(typeof t=="string")throw new Error("Store names should be provided as array");if(Array.isArray(t))return _i||(_i=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?nr.apply(null,t)(nn(e)):function(f){return nn(t,f)};var n=t;if(n.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===be&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Wt&&n.$$typeof===Wt){var r=n.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Re(function(){var f=arguments;return ve.createElement(_r,null,function(){return r.apply(void 0,f)})})}if(!(typeof n!="function"||n.prototype&&n.prototype.render||n.isReactClass||C.isPrototypeOf(n))){var i,o,a=nn((o=i=function(f){function g(){return gr(this,g),mr(this,br(g).apply(this,arguments))}return Rr(g,f),Ct(g,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),g}(C),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,o));return vn(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var c=n.prototype||n;(function(f){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(g){(function(S,j){xa(S,j,Bn[j])})(f,g)}),f.shouldComponentUpdate?f.shouldComponentUpdate!==Bn.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):f.shouldComponentUpdate=Bn.shouldComponentUpdate})(c),n.isMobXReactObserver=!0,Rt(c,"props"),Rt(c,"state");var s=c.render;return c.render=function(){return $t.call(this,s)},n}var _r=nn(function(t){var e=t.children,n=t.inject,r=t.render,i=e||r;if(i===void 0)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var o=nr(n)(i);return ve.createElement(o,null)});_r.displayName="Observer";var ir=function(t,e,n,r,i){var o=e==="children"?"render":"children";return typeof t[e]=="function"&&typeof t[o]=="function"?new Error("Invalid prop,do not use children and render in the same time in`"+n):typeof t[e]!="function"&&typeof t[o]!="function"?new Error("Invalid prop `"+i+"` of type `"+Qn(t[e])+"` supplied to `"+n+"`, expected `function`."):void 0};function wr(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function xi(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return n??null}.bind(this))}function Hr(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}_r.propTypes={render:ir,children:ir},wr.__suppressDeprecationWarning=!0,xi.__suppressDeprecationWarning=!0,Hr.__suppressDeprecationWarning=!0;var Eo={children:!0,key:!0,ref:!0},Fr=function(t){function e(n,r){var i;return gr(this,e),(i=mr(this,br(e).call(this,n,r))).state={},It(n,i.state),i}return Rr(e,t),Ct(e,[{key:"render",value:function(){return In.only(this.props.children)}},{key:"getChildContext",value:function(){var n={};return It(this.context.mobxStores,n),It(this.props,n),{mobxStores:n}}}],[{key:"getDerivedStateFromProps",value:function(n,r){if(!n)return null;if(!r)return n;if(Object.keys(n).filter(Ur).length!==Object.keys(r).filter(Ur).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!n.suppressChangedStoreWarning)for(var i in n)Ur(i)&&r[i]!==n[i]&&console.warn("MobX Provider: Provided store '"+i+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return n}}]),e}(C);function It(t,e){if(t)for(var n in t)Ur(n)&&(e[n]=t[n])}function Ur(t){return!Eo[t]&&t!=="suppressChangedStoreWarning"}if(Fr.contextTypes={mobxStores:zr},Fr.childContextTypes={mobxStores:zr.isRequired},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=wr,e.componentWillReceiveProps=xi),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Hr;var c=e.componentDidUpdate;e.componentDidUpdate=function(s,f,g){var S=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;c.call(this,s,f,S)}}}(Fr),gn("disposeOnUnmount"),!C)throw new Error("mobx-react requires React to be available");if(!w.F)throw new Error("mobx-react requires mobx to be available");if(Object(w.l)({reactionScheduler:yo}),(typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__>"u"?"undefined":Qn(__MOBX_DEVTOOLS_GLOBAL_HOOK__))==="object"){var Ei={spy:w.F,extras:{getDebugName:w.r}},ja={renderReporter:Pn,componentByNodeRegistry:rr,componentByNodeRegistery:rr,trackComponents:function(){if(typeof WeakMap>"u")throw new Error("[mobx-react] tracking components is not supported in this browser.");zn||(zn=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(ja,Ei)}u(1),u(78),u(3),u(5),u(4),u(8),u(17),u(35),u(12),u(2),u(19),u(13),u(20),u(6),u(7),u(14),u(18),u(159),u(164),u(81),u(130),u(131);var Yr=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Pa=function(){this.__data__=[],this.size=0},Lt=function(t,e){return t===e||t!=t&&e!=e},Gr=function(t,e){for(var n=t.length;n--;)if(Lt(t[n][0],e))return n;return-1},xr=Array.prototype.splice,Wr=function(t){var e=this.__data__,n=Gr(e,t);return!(n<0)&&(n==e.length-1?e.pop():xr.call(e,n,1),--this.size,!0)},zt=function(t){var e=this.__data__,n=Gr(e,t);return n<0?void 0:e[n][1]},Aa=function(t){return Gr(this.__data__,t)>-1},Vr=function(t,e){var n=this.__data__,r=Gr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function wt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wt.prototype.clear=Pa,wt.prototype.delete=Wr,wt.prototype.get=zt,wt.prototype.has=Aa,wt.prototype.set=Vr;var Er=wt,So=function(){this.__data__=new Er,this.size=0},ka=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Si=function(t){return this.__data__.get(t)},ji=function(t){return this.__data__.has(t)},rn=u(22),Bt=rn.a.Symbol,Kt=Object.prototype,on=Kt.hasOwnProperty,Sr=Kt.toString,ar=Bt?Bt.toStringTag:void 0,Pi=function(t){var e=on.call(t,ar),n=t[ar];try{t[ar]=void 0;var r=!0}catch{}var i=Sr.call(t);return r&&(e?t[ar]=n:delete t[ar]),i},jo=Object.prototype.toString,Ai=function(t){return jo.call(t)},ki=Bt?Bt.toStringTag:void 0,Xn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ki&&ki in Object(t)?Pi(t):Ai(t)},h=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},v,O=function(t){if(!h(t))return!1;var e=Xn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},P=rn.a["__core-js_shared__"],D=(v=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",F=function(t){return!!D&&D in t},Q=Function.prototype.toString,se=function(t){if(t!=null){try{return Q.call(t)}catch{}try{return t+""}catch{}}return""},_e=/^\[object .+?Constructor\]$/,Te=Function.prototype,xe=Object.prototype,Be=Te.toString,Xe=xe.hasOwnProperty,Fe=RegExp("^"+Be.call(Xe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=function(t){return!(!h(t)||F(t))&&(O(t)?Fe:_e).test(se(t))},et=function(t,e){return t==null?void 0:t[e]},rt=function(t,e){var n=et(t,e);return Qe(n)?n:void 0},yt=rt(rn.a,"Map"),Hn=rt(Object,"create"),vv=function(){this.__data__=Hn?Hn(null):{},this.size=0},gv=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bv=Object.prototype.hasOwnProperty,mv=function(t){var e=this.__data__;if(Hn){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return bv.call(e,t)?e[t]:void 0},Ov=Object.prototype.hasOwnProperty,_v=function(t){var e=this.__data__;return Hn?e[t]!==void 0:Ov.call(e,t)},wv=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hn&&e===void 0?"__lodash_hash_undefined__":e,this};function $r(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$r.prototype.clear=vv,$r.prototype.delete=gv,$r.prototype.get=mv,$r.prototype.has=_v,$r.prototype.set=wv;var Lc=$r,xv=function(){this.size=0,this.__data__={hash:new Lc,map:new(yt||Er),string:new Lc}},Ev=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Di=function(t,e){var n=t.__data__;return Ev(e)?n[typeof e=="string"?"string":"hash"]:n.map},Sv=function(t){var e=Di(this,t).delete(t);return this.size-=e?1:0,e},jv=function(t){return Di(this,t).get(t)},Pv=function(t){return Di(this,t).has(t)},Av=function(t,e){var n=Di(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Kr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kr.prototype.clear=xv,Kr.prototype.delete=Sv,Kr.prototype.get=jv,Kr.prototype.has=Pv,Kr.prototype.set=Av;var Ti=Kr,kv=function(t,e){var n=this.__data__;if(n instanceof Er){var r=n.__data__;if(!yt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ti(r)}return n.set(t,e),this.size=n.size,this};function qr(t){var e=this.__data__=new Er(t);this.size=e.size}qr.prototype.clear=So,qr.prototype.delete=ka,qr.prototype.get=Si,qr.prototype.has=ji,qr.prototype.set=kv;var Po=qr,Dv=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Tv=function(t){return this.__data__.has(t)};function Mi(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ti;++e<n;)this.add(t[e])}Mi.prototype.add=Mi.prototype.push=Dv,Mi.prototype.has=Tv;var Mv=Mi,Nv=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Cv=function(t,e){return t.has(e)},zc=function(t,e,n,r,i,o){var a=1&n,c=t.length,s=e.length;if(c!=s&&!(a&&s>c))return!1;var f=o.get(t),g=o.get(e);if(f&&g)return f==e&&g==t;var S=-1,j=!0,N=2&n?new Mv:void 0;for(o.set(t,e),o.set(e,t);++S<c;){var B=t[S],$=e[S];if(r)var V=a?r($,B,S,e,t,o):r(B,$,S,t,e,o);if(V!==void 0){if(V)continue;j=!1;break}if(N){if(!Nv(e,function(K,q){if(!Cv(N,q)&&(B===K||i(B,K,n,r,o)))return N.push(q)})){j=!1;break}}else if(B!==$&&!i(B,$,n,r,o)){j=!1;break}}return o.delete(t),o.delete(e),j},Ni=rn.a.Uint8Array,Rv=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Iv=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Bc=Bt?Bt.prototype:void 0,Da=Bc?Bc.valueOf:void 0,Lv=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Ni(t),new Ni(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Lt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Rv;case"[object Set]":var s=1&r;if(c||(c=Iv),t.size!=e.size&&!s)return!1;var f=a.get(t);if(f)return f==e;r|=2,a.set(t,e);var g=zc(c(t),c(e),r,i,o,a);return a.delete(t),g;case"[object Symbol]":if(Da)return Da.call(t)==Da.call(e)}return!1},Ta=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},qt=Array.isArray,Xc=function(t,e,n){var r=e(t);return qt(t)?r:Ta(r,n(t))},zv=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Hc=function(){return[]},Bv=Object.prototype.propertyIsEnumerable,Fc=Object.getOwnPropertySymbols,Ma=Fc?function(t){return t==null?[]:(t=Object(t),zv(Fc(t),function(e){return Bv.call(t,e)}))}:Hc,Xv=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},ur=function(t){return t!=null&&typeof t=="object"},Uc=function(t){return ur(t)&&Xn(t)=="[object Arguments]"},Yc=Object.prototype,Hv=Yc.hasOwnProperty,Fv=Yc.propertyIsEnumerable,Na=Uc(function(){return arguments}())?Uc:function(t){return ur(t)&&Hv.call(t,"callee")&&!Fv.call(t,"callee")},Ci=u(48),Uv=/^(?:0|[1-9]\d*)$/,Ri=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Uv.test(t))&&t>-1&&t%1==0&&t<e},Ca=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object Boolean]"]=tt["[object DataView]"]=tt["[object Date]"]=tt["[object Error]"]=tt["[object Function]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object WeakMap]"]=!1;var Yv=function(t){return ur(t)&&Ca(t.length)&&!!tt[Xn(t)]},Ra=function(t){return function(e){return t(e)}},Zr=u(42),Gc=Zr.a&&Zr.a.isTypedArray,Wc=Gc?Ra(Gc):Yv,Gv=Object.prototype.hasOwnProperty,Vc=function(t,e){var n=qt(t),r=!n&&Na(t),i=!n&&!r&&Object(Ci.a)(t),o=!n&&!r&&!i&&Wc(t),a=n||r||i||o,c=a?Xv(t.length,String):[],s=c.length;for(var f in t)!e&&!Gv.call(t,f)||a&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Ri(f,s))||c.push(f);return c},Wv=Object.prototype,Ii=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Wv)},$c=function(t,e){return function(n){return t(e(n))}},Vv=$c(Object.keys,Object),$v=Object.prototype.hasOwnProperty,Kv=function(t){if(!Ii(t))return Vv(t);var e=[];for(var n in Object(t))$v.call(t,n)&&n!="constructor"&&e.push(n);return e},Jr=function(t){return t!=null&&Ca(t.length)&&!O(t)},Qr=function(t){return Jr(t)?Vc(t):Kv(t)},Ia=function(t){return Xc(t,Qr,Ma)},qv=Object.prototype.hasOwnProperty,Zv=function(t,e,n,r,i,o){var a=1&n,c=Ia(t),s=c.length;if(s!=Ia(e).length&&!a)return!1;for(var f=s;f--;){var g=c[f];if(!(a?g in e:qv.call(e,g)))return!1}var S=o.get(t),j=o.get(e);if(S&&j)return S==e&&j==t;var N=!0;o.set(t,e),o.set(e,t);for(var B=a;++f<s;){var $=t[g=c[f]],V=e[g];if(r)var K=a?r(V,$,g,e,t,o):r($,V,g,t,e,o);if(!(K===void 0?$===V||i($,V,n,r,o):K)){N=!1;break}B||(B=g=="constructor")}if(N&&!B){var q=t.constructor,te=e.constructor;q==te||!("constructor"in t)||!("constructor"in e)||typeof q=="function"&&q instanceof q&&typeof te=="function"&&te instanceof te||(N=!1)}return o.delete(t),o.delete(e),N},La=rt(rn.a,"DataView"),za=rt(rn.a,"Promise"),Ba=rt(rn.a,"Set"),Xa=rt(rn.a,"WeakMap"),Jv=se(La),Qv=se(yt),eg=se(za),tg=se(Ba),ng=se(Xa),jr=Xn;(La&&jr(new La(new ArrayBuffer(1)))!="[object DataView]"||yt&&jr(new yt)!="[object Map]"||za&&jr(za.resolve())!="[object Promise]"||Ba&&jr(new Ba)!="[object Set]"||Xa&&jr(new Xa)!="[object WeakMap]")&&(jr=function(t){var e=Xn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?se(n):"";if(r)switch(r){case Jv:return"[object DataView]";case Qv:return"[object Map]";case eg:return"[object Promise]";case tg:return"[object Set]";case ng:return"[object WeakMap]"}return e});var Ao=jr,Kc=Object.prototype.hasOwnProperty,rg=function(t,e,n,r,i,o){var a=qt(t),c=qt(e),s=a?"[object Array]":Ao(t),f=c?"[object Array]":Ao(e),g=(s=s=="[object Arguments]"?"[object Object]":s)=="[object Object]",S=(f=f=="[object Arguments]"?"[object Object]":f)=="[object Object]",j=s==f;if(j&&Object(Ci.a)(t)){if(!Object(Ci.a)(e))return!1;a=!0,g=!1}if(j&&!g)return o||(o=new Po),a||Wc(t)?zc(t,e,n,r,i,o):Lv(t,e,s,n,r,i,o);if(!(1&n)){var N=g&&Kc.call(t,"__wrapped__"),B=S&&Kc.call(e,"__wrapped__");if(N||B){var $=N?t.value():t,V=B?e.value():e;return o||(o=new Po),i($,V,n,r,o)}}return!!j&&(o||(o=new Po),Zv(t,e,n,r,i,o))},Ha=function t(e,n,r,i,o){return e===n||(e==null||n==null||!ur(e)&&!ur(n)?e!=e&&n!=n:rg(e,n,r,i,t,o))},og=function(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var c=n[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var s=(c=n[i])[0],f=t[s],g=c[1];if(a&&c[2]){if(f===void 0&&!(s in t))return!1}else{var S=new Po;if(r)var j=r(f,g,s,t,e,S);if(!(j===void 0?Ha(g,f,3,r,S):j))return!1}}return!0},qc=function(t){return t==t&&!h(t)},ig=function(t){for(var e=Qr(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,qc(i)]}return e},Zc=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},ag=function(t){var e=ig(t);return e.length==1&&e[0][2]?Zc(e[0][0],e[0][1]):function(n){return n===t||og(n,t,e)}},Li=function(t){return typeof t=="symbol"||ur(t)&&Xn(t)=="[object Symbol]"},ug=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cg=/^\w*$/,Fa=function(t,e){if(qt(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Li(t))||cg.test(t)||!ug.test(t)||e!=null&&t in Object(e)};function Ua(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ua.Cache||Ti),n}Ua.Cache=Ti;var sg=Ua,lg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fg=/\\(\\)?/g,pg=function(t){var e=sg(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lg,function(n,r,i,o){e.push(i?o.replace(fg,"$1"):r||n)}),e}),Jc=Bt?Bt.prototype:void 0,Qc=Jc?Jc.toString:void 0,dg=function t(e){if(typeof e=="string")return e;if(qt(e))return Yr(e,t)+"";if(Li(e))return Qc?Qc.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},hg=function(t){return t==null?"":dg(t)},zi=function(t,e){return qt(t)?t:Fa(t,e)?[t]:pg(hg(t))},ko=function(t){if(typeof t=="string"||Li(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Ya=function(t,e){for(var n=0,r=(e=zi(e,t)).length;t!=null&&n<r;)t=t[ko(e[n++])];return n&&n==r?t:void 0},es=function(t,e,n){var r=t==null?void 0:Ya(t,e);return r===void 0?n:r},yg=function(t,e){return t!=null&&e in Object(t)},vg=function(t,e,n){for(var r=-1,i=(e=zi(e,t)).length,o=!1;++r<i;){var a=ko(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&Ca(i)&&Ri(a,i)&&(qt(t)||Na(t))},ts=function(t,e){return t!=null&&vg(t,e,yg)},gg=function(t,e){return Fa(t)&&qc(e)?Zc(ko(t),e):function(n){var r=es(n,t);return r===void 0&&r===e?ts(n,t):Ha(e,r,3)}},Ga=function(t){return t},bg=function(t){return function(e){return e==null?void 0:e[t]}},mg=function(t){return function(e){return Ya(e,t)}},Og=function(t){return Fa(t)?bg(ko(t)):mg(t)},_g=function(t){return typeof t=="function"?t:t==null?Ga:typeof t=="object"?qt(t)?gg(t[0],t[1]):ag(t):Og(t)},wg=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),c=a.length;c--;){var s=a[t?c:++i];if(n(o[s],s,o)===!1)break}return e}}(),xg=function(t,e){return function(n,r){if(n==null)return n;if(!Jr(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}(function(t,e){return t&&wg(t,e,Qr)}),Eg=function(t,e){var n=-1,r=Jr(t)?Array(t.length):[];return xg(t,function(i,o,a){r[++n]=e(i,o,a)}),r},Bi=function(t,e){return(qt(t)?Yr:Eg)(t,_g(e))},Xi=function(){try{var t=rt(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ns=function(t,e,n){e=="__proto__"&&Xi?Xi(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Sg=Object.prototype.hasOwnProperty,Hi=function(t,e,n){var r=t[e];Sg.call(t,e)&&Lt(r,n)&&(n!==void 0||e in t)||ns(t,e,n)},Do=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],s=r?r(n[c],t[c],c,n,t):void 0;s===void 0&&(s=t[c]),i?ns(n,c,s):Hi(n,c,s)}return n},jg=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},rs=Math.max,os=function(t,e,n){return e=rs(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=rs(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(a),jg(t,this,c)}},Pg=function(t){return function(){return t}},Ag=Xi?function(t,e){return Xi(t,"toString",{configurable:!0,enumerable:!1,value:Pg(e),writable:!0})}:Ga,kg=Date.now,is=function(t){var e=0,n=0;return function(){var r=kg(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ag),Dg=function(t,e){return is(os(t,e,Ga),t+"")},Tg=function(t,e,n){if(!h(n))return!1;var r=typeof e;return!!(r=="number"?Jr(n)&&Ri(e,n.length):r=="string"&&e in n)&&Lt(n[e],t)},Mg=function(t){return Dg(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Tg(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,o)}return e})},Ng=Object.prototype.hasOwnProperty,ct=Mg(function(t,e){if(Ii(e)||Jr(e))Do(e,Qr(e),t);else for(var n in e)Ng.call(e,n)&&Hi(t,n,e[n])}),Cg=function(t,e,n,r){if(!h(t))return t;for(var i=-1,o=(e=zi(e,t)).length,a=o-1,c=t;c!=null&&++i<o;){var s=ko(e[i]),f=n;if(s==="__proto__"||s==="constructor"||s==="prototype")return t;if(i!=a){var g=c[s];(f=r?r(g,s,c):void 0)===void 0&&(f=h(g)?g:Ri(e[i+1])?[]:{})}Hi(c,s,f),c=c[s]}return t},Rg=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],c=Ya(t,a);n(c,a)&&Cg(o,zi(a,t),c)}return o},Ig=function(t,e){return Rg(t,e,function(n,r){return ts(t,r)})},as=Bt?Bt.isConcatSpreadable:void 0,Lg=function(t){return qt(t)||Na(t)||!!(as&&t&&t[as])},zg=function t(e,n,r,i,o){var a=-1,c=e.length;for(r||(r=Lg),o||(o=[]);++a<c;){var s=e[a];n>0&&r(s)?n>1?t(s,n-1,r,i,o):Ta(o,s):i||(o[o.length]=s)}return o},Bg=function(t){return t!=null&&t.length?zg(t,1):[]},ft,us,cs,ss,ls,fs,ps,ds,hs,ys,vs,gs,bs,ms,Os,_s,ws,An=function(t){return is(os(t,void 0,Bg),t+"")}(function(t,e){return t==null?{}:Ig(t,e)});function At(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var $e,xs,Ie,vt,Ne,ot,Hg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},Wa=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","multipleSelectKey","extraConf"],Es=(us=xt((ft=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),At(this,"stopZoomGraph",us,this),At(this,"stopScrollGraph",cs,this),At(this,"stopMoveGraph",ss,this),At(this,"adjustEdge",ls,this),At(this,"adjustEdgeMiddle",fs,this),At(this,"adjustEdgeStartAndEnd",ps,this),At(this,"adjustNodePosition",ds,this),At(this,"hideAnchors",hs,this),At(this,"hoverOutline",ys,this),At(this,"nodeSelectedOutline",vs,this),At(this,"edgeSelectedOutline",gs,this),At(this,"nodeTextEdit",bs,this),At(this,"edgeTextEdit",ms,this),At(this,"nodeTextDraggable",Os,this),At(this,"edgeTextDraggable",_s,this),At(this,"metaKeyMultipleSelected",ws,this),this.multipleSelectKey="",this.extraConf={},this.defaultConfig={},ct(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);ct(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,a={};if(i===!1&&ct(a,this.defaultConfig),i===!0){var c=An(Hg,Wa);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},ct(a,c)}o===!1&&ct(a,{nodeTextEdit:!1,edgeTextEdit:!1});var s=An(r,Wa);return ct(a,s)}},{key:"getConfig",value:function(){return An(this,Wa)}}])&&Xg(e.prototype,n),t}()).prototype,"stopZoomGraph",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cs=xt(ft.prototype,"stopScrollGraph",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ss=xt(ft.prototype,"stopMoveGraph",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ls=xt(ft.prototype,"adjustEdge",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fs=xt(ft.prototype,"adjustEdgeMiddle",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=xt(ft.prototype,"adjustEdgeStartAndEnd",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ds=xt(ft.prototype,"adjustNodePosition",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hs=xt(ft.prototype,"hideAnchors",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ys=xt(ft.prototype,"hoverOutline",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vs=xt(ft.prototype,"nodeSelectedOutline",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gs=xt(ft.prototype,"edgeSelectedOutline",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bs=xt(ft.prototype,"nodeTextEdit",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ms=xt(ft.prototype,"edgeTextEdit",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Os=xt(ft.prototype,"nodeTextDraggable",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_s=xt(ft.prototype,"edgeTextDraggable",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ws=xt(ft.prototype,"metaKeyMultipleSelected",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xt(ft.prototype,"updateEditConfig",[w.i],Object.getOwnPropertyDescriptor(ft.prototype,"updateEditConfig"),ft.prototype),ft);u(82),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}($e||($e={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(xs||(xs={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Ie||(Ie={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(vt||(vt={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(Ne||(Ne={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ot||(ot={}));var kn,pt,Ss,js,Ps,As,ks,Ds,Ts;function Fi(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ms(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ms(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ms(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(kn||(kn={}));var Ug=(Ss=mn((pt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,Pr(this,"SCALE_X",Ss,this),Pr(this,"SKEW_Y",js,this),Pr(this,"SKEW_X",Ps,this),Pr(this,"SCALE_Y",As,this),Pr(this,"TRANSLATE_X",ks,this),Pr(this,"TRANSLATE_Y",Ds,this),Pr(this,"ZOOM_SIZE",Ts,this),this.eventCenter=void 0,this.eventCenter=r}var e,n;return e=t,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=Fi(r,2),o=i[0],a=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=Fi(r,2),o=i[0],a=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var a=Fi(r,2),c=a[0],s=a[1];return[c+i/this.SCALE_X,s+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,a=r),!(o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Ne.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,a){var c=Fi(this.CanvasPointToHtmlPoint([r,i]),2),s=o/2-c[0],f=a/2-c[1];this.TRANSLATE_X+=s,this.TRANSLATE_Y+=f,this.emitGraphTransform("focusOn")}}])&&Fg(e.prototype,n),t}()).prototype,"SCALE_X",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),js=mn(pt.prototype,"SKEW_Y",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ps=mn(pt.prototype,"SKEW_X",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),As=mn(pt.prototype,"SCALE_Y",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ks=mn(pt.prototype,"TRANSLATE_X",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ds=mn(pt.prototype,"TRANSLATE_Y",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ts=mn(pt.prototype,"ZOOM_SIZE",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),mn(pt.prototype,"zoom",[w.i],Object.getOwnPropertyDescriptor(pt.prototype,"zoom"),pt.prototype),mn(pt.prototype,"resetZoom",[w.i],Object.getOwnPropertyDescriptor(pt.prototype,"resetZoom"),pt.prototype),mn(pt.prototype,"translate",[w.i],Object.getOwnPropertyDescriptor(pt.prototype,"translate"),pt.prototype),mn(pt.prototype,"focusOn",[w.i],Object.getOwnPropertyDescriptor(pt.prototype,"focusOn"),pt.prototype),pt),Yg=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Gg=function(t,e){return t&&Do(e,Qr(e),t)},Wg=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Vg=Object.prototype.hasOwnProperty,$g=function(t){if(!h(t))return Wg(t);var e=Ii(t),n=[];for(var r in t)(r!="constructor"||!e&&Vg.call(t,r))&&n.push(r);return n},Va=function(t){return Jr(t)?Vc(t,!0):$g(t)},Kg=function(t,e){return t&&Do(e,Va(e),t)},qg=u(139),Zg=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Jg=function(t,e){return Do(t,Ma(t),e)},Ns=$c(Object.getPrototypeOf,Object),Cs=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ta(e,Ma(t)),t=Ns(t);return e}:Hc,Qg=function(t,e){return Do(t,Cs(t),e)},eb=function(t){return Xc(t,Va,Cs)},tb=Object.prototype.hasOwnProperty,nb=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&tb.call(t,"index")&&(n.index=t.index,n.input=t.input),n},$a=function(t){var e=new t.constructor(t.byteLength);return new Ni(e).set(new Ni(t)),e},rb=function(t,e){var n=e?$a(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},ob=/\w*$/,ib=function(t){var e=new t.constructor(t.source,ob.exec(t));return e.lastIndex=t.lastIndex,e},Rs=Bt?Bt.prototype:void 0,Is=Rs?Rs.valueOf:void 0,ab=function(t){return Is?Object(Is.call(t)):{}},ub=function(t,e){var n=e?$a(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},cb=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return $a(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return rb(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ub(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ib(t);case"[object Set]":return new r;case"[object Symbol]":return ab(t)}},Ls=Object.create,sb=function(){function t(){}return function(e){if(!h(e))return{};if(Ls)return Ls(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),lb=function(t){return typeof t.constructor!="function"||Ii(t)?{}:sb(Ns(t))},fb=function(t){return ur(t)&&Ao(t)=="[object Map]"},zs=Zr.a&&Zr.a.isMap,pb=zs?Ra(zs):fb,db=function(t){return ur(t)&&Ao(t)=="[object Set]"},Bs=Zr.a&&Zr.a.isSet,hb=Bs?Ra(Bs):db,Ze={};Ze["[object Arguments]"]=Ze["[object Array]"]=Ze["[object ArrayBuffer]"]=Ze["[object DataView]"]=Ze["[object Boolean]"]=Ze["[object Date]"]=Ze["[object Float32Array]"]=Ze["[object Float64Array]"]=Ze["[object Int8Array]"]=Ze["[object Int16Array]"]=Ze["[object Int32Array]"]=Ze["[object Map]"]=Ze["[object Number]"]=Ze["[object Object]"]=Ze["[object RegExp]"]=Ze["[object Set]"]=Ze["[object String]"]=Ze["[object Symbol]"]=Ze["[object Uint8Array]"]=Ze["[object Uint8ClampedArray]"]=Ze["[object Uint16Array]"]=Ze["[object Uint32Array]"]=!0,Ze["[object Error]"]=Ze["[object Function]"]=Ze["[object WeakMap]"]=!1;var yb=function t(e,n,r,i,o,a){var c,s=1&n,f=2&n,g=4&n;if(r&&(c=o?r(e,i,o,a):r(e)),c!==void 0)return c;if(!h(e))return e;var S=qt(e);if(S){if(c=nb(e),!s)return Zg(e,c)}else{var j=Ao(e),N=j=="[object Function]"||j=="[object GeneratorFunction]";if(Object(Ci.a)(e))return Object(qg.a)(e,s);if(j=="[object Object]"||j=="[object Arguments]"||N&&!o){if(c=f||N?{}:lb(e),!s)return f?Qg(e,Kg(c,e)):Jg(e,Gg(c,e))}else{if(!Ze[j])return o?e:{};c=cb(e,j,s)}}a||(a=new Po);var B=a.get(e);if(B)return B;a.set(e,c),hb(e)?e.forEach(function(V){c.add(t(V,n,r,V,e,a))}):pb(e)&&e.forEach(function(V,K){c.set(K,t(V,n,r,K,e,a))});var $=S?void 0:(g?f?eb:Ia:f?Va:Qr)(e);return Yg($||e,function(V,K){$&&(V=e[K=V]),Hi(c,K,t(V,n,r,K,e,a))}),c},Ka=function(t){return yb(t,5)};function Xs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xs(Object(n),!0).forEach(function(r){vb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eo={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},gb=bt(bt({},eo),{},{width:100,height:80,radius:0}),bb=bt(bt({},eo),{},{r:50}),mb=bt(bt({},eo),{},{rx:55,ry:45}),Ob=bt(bt({},eo),{},{rx:50,ry:50}),_b=bt({},eo),wb=bt(bt({},eo),{},{stroke:"#000000",strokeWidth:1,r:4}),qa={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},xb=bt({},qa),Eb=bt(bt({},qa),{},{offset:30}),Sb=bt(bt({},qa),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Hs={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},Xt={rect:gb,circle:bb,diamond:Ob,ellipse:mb,polygon:_b,anchor:wb,text:Hs,nodeText:bt(bt({},Hs),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:xb,polyline:Eb,bezier:Sb,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#373738",strokeWidth:"2px"}};function Fs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fs(Object(n),!0).forEach(function(r){jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ys=function(t){var e=Ka(Xt);return t&&Object.keys(t).forEach(function(n){e[n]=Us(Us({},e[n]),t[n])}),e};function Ui(t,e){return e*Math.round(t/e)||t}function Gs(t,e){return t%e}function Za(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ws(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ws(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ws(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ja,Qa=function(t,e,n){var r=Za(t,2),i=r[0],o=r[1],a=Za(e,2),c=a[0],s=a[1],f=Za(n,2),g=f[0],S=f[1];return i>c&&i<g&&o>s&&o<S},Pb=(u(30),u(40),u(52),u(63),u(136),u(137),u(64),u(9),u(10),u(11),u(36),new Uint8Array(16));function Ab(){if(!Ja&&!(Ja=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ja(Pb)}for(var kb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Db=function(t){return typeof t=="string"&&kb.test(t)},Et=[],eu=0;eu<256;++eu)Et.push((eu+256).toString(16).substr(1));var Tb=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]).toLowerCase();if(!Db(n))throw TypeError("Stringified UUID is invalid");return n},tu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Ab)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Tb(r)},to=function(){return tu()},Mb=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+tu(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+tu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},To=(u(84),u(176),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function Vs(t){return(Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$s(Object(n),!0).forEach(function(r){Nb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ue,qs,Zs,Js,Qs,el,tl,nl,rl,ol,il,al,ul,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,Ol,nu=function(t){return t.anchors},Yi=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(Rb(t,e[r])){var i=Cb(t,e[r]);if(i){n={node:e[r],anchorIndex:i.index,anchor:i.anchor};break}}return n},Cb=function(t,e){for(var n,r=nu(e),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var a=Dn(t.x,t.y,r[o].x,r[o].y);a<i&&(i=a,n={index:o,anchor:Ks(Ks({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Dn=function(t,e,n,r){return Math.hypot(t-n,e-r)},cr=function(t,e){var n=!1,r=Zt(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Rb=function(t,e){var n=!1,r=Zt(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Zt=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},_l=function(t,e,n){var r,i=function(a){var c=a,s=c.x,f=c.y,g=c.width,S=c.height,j=c.radius;return[{x:s-g/2+j,y:f-S/2+j,r:j},{x:s+g/2-j,y:f-S/2+j,r:j},{x:s-g/2+j,y:f+S/2-j,r:j},{x:s+g/2-j,y:f+S/2-j,r:j}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(a){var c=Dn(t.x,t.y,a.x,a.y);c<o&&(o=c,r=a)}),ru(t,e,r)},ru=function(t,e,n){var r,i=n,o=i.x,a=i.y,c=i.r;if(e===ot.HORIZONTAL){var s=o-Math.sqrt(c*c-(t.y-a)*(t.y-a)),f=o+Math.sqrt(c*c-(t.y-a)*(t.y-a));r={x:Math.abs(s-t.x)<Math.abs(f-t.x)?s:f,y:t.y}}else if(e===ot.VERTICAL){var g=a-Math.sqrt(c*c-(t.x-o)*(t.x-o)),S=a+Math.sqrt(c*c-(t.x-o)*(t.x-o)),j=Math.abs(g-t.y)<Math.abs(S-t.y)?g:S;r={x:t.x,y:j}}return r},wl=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,c=n.y+n.height/2-n.radius,s=n.x,f=n.y,g=n.width,S=n.height;return t.y===f+S/2||t.y===f-S/2?r=t.x>i&&t.x<o:t.x!==s+g/2&&t.x!==s-g/2||(r=t.y>a&&t.y<c),r},xl=function(t,e,n){var r,i=n,o=i.x,a=i.y,c=i.rx,s=i.ry;if(e===ot.HORIZONTAL){var f=o-Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(s*s)),g=o+Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(s*s));r={x:Math.abs(f-t.x)<Math.abs(g-t.x)?f:g,y:t.y}}else if(e===ot.VERTICAL){var S=a-Math.sqrt(s*s-(t.x-o)*(t.x-o)*s*s/(c*c)),j=a+Math.sqrt(s*s-(t.x-o)*(t.x-o)*s*s/(c*c)),N=Math.abs(S-t.y)<Math.abs(j-t.y)?S:j;r={x:t.x,y:N}}return r},El=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,a=[],c=0;c<i.length;c++)a.push({start:i[c],end:i[(c+1)%i.length]});return a.forEach(function(s){var f=s.start,g=s.end,S=f,j=g;f.x>g.x&&(S=g,j=f);var N,B=(j.y-S.y)/(j.x-S.x),$=(S.x*j.y-j.x*S.y)/(S.x-j.x);if(B>Number.MAX_SAFE_INTEGER||$>Number.MAX_SAFE_INTEGER?N={x:t.x,y:t.y}:e===ot.HORIZONTAL?N={x:(t.y-$)/B,y:t.y}:e===ot.VERTICAL&&(N={x:t.x,y:B*t.x+$}),To(N,f,g)){var V=Dn(N.x,N.y,t.x,t.y);V<o&&(o=V,r=N)}}),r},Sl=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},jl=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(c){var s=document.createElement("div");s.textContent=c,o.appendChild(s)}):o.textContent=e,document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},Gi=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var a=yu(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},Pl=function(t){return Vs(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},an=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},Ib=1e3,Lb=999,ou=function(){return++Ib};function Al(t){return(Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}function kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kl(Object(n),!0).forEach(function(r){Bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1,hideOutline:!1},Xt.line),iu=(qs=Ae((ue=function(){function t(r,i,o){(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=to(),this.BaseType=vt.EDGE,nt(this,"state",qs,this),this.modelType=Ie.EDGE,this.additionStateData=void 0,this.graphModel=void 0,this.menu=void 0,this.sourceAnchorId=at.sourceAnchorId,this.targetAnchorId=at.targetAnchorId,this.customTextPosition=!1,nt(this,"text",Zs,this),nt(this,"type",Js,this),nt(this,"properties",Qs,this),nt(this,"sourceNodeId",el,this),nt(this,"targetNodeId",tl,this),nt(this,"startPoint",nl,this),nt(this,"endPoint",rl,this),nt(this,"strokeWidth",ol,this),nt(this,"stroke",il,this),nt(this,"strokeDashArray",al,this),nt(this,"outlineColor",ul,this),nt(this,"hideOutline",cl,this),nt(this,"outlineStrokeDashArray",sl,this),nt(this,"strokeOpacity",ll,this),nt(this,"zIndex",fl,this),nt(this,"isSelected",pl,this),nt(this,"isHovered",dl,this),nt(this,"isDragging",hl,this),nt(this,"isHitable",yl,this),nt(this,"hoverStroke",vl,this),nt(this,"selectedStroke",gl,this),nt(this,"points",bl,this),nt(this,"pointsList",ml,this),nt(this,"draggable",Ol,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var e,n;return e=t,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var a=this.createId();a&&(r.id=a)}ct(this,Jb(r)),this.graphModel.overlapMode===kn.INCREASE&&(this.zIndex=r.zIndex||ou())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(r,i){var o,a;return nu(r).forEach(function(c){var s=Jl(c,i);a?s<a&&(a=s,o=c):(a=s,o=c)}),o}},{key:"getEndAnchor",value:function(r){var i,o,a=this;return nu(r).forEach(function(c){var s=Jl(c,a.startPoint);o?s<o&&(o=s,i=c):(o=s,i=c)}),i}},{key:"getProperties",value:function(){return Object(w.G)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,c={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(w.G)(this.properties)};return a&&(c.text={x:i,y:o,value:a}),this.graphModel.overlapMode===kn.INCREASE&&(c.zIndex=this.zIndex),c}},{key:"setProperty",value:function(r,i){this.properties[r]=an(i),this.setAttributes()}},{key:"setProperties",value:function(r){Object.assign(this.properties,an(r)),this.setAttributes()}},{key:"updateData",value:function(r){var i=an(An(r,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),o=this.text,a=o.x,c=o.y,s=o.draggable,f=o.editable;if(i.text&&typeof i.text=="string"){var g={value:i.text,draggable:s,editable:f},S=this.textPosition;i.text=a||c?Object.assign({},g,{x:a,y:c}):Object.assign({},g,S)}else if(Al(i.text)==="object"){var j=Object.assign({},this.text,i.text);i.text=An(j,"x","y","value","draggable","editable")}ct(this,i)}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,a=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||a,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,a=o.x,c=o.y,s=o.value,f=o.draggable,g=o.editable;this.text={value:s,draggable:f,x:a+r,y:c+i,editable:g}}}},{key:"setText",value:function(r){r&&ct(this.text,r)}},{key:"updateText",value:function(r){var i=this.text,o=i.x,a=i.y,c=i.draggable,s=i.editable;this.text={x:o,y:a,draggable:c,editable:s,value:r}}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateStrokeWidth",value:function(r){this.strokeWidth=r}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&ct(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at.zIndex;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){ct(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&zb(e.prototype,n),t}()).prototype,"state",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Zs=Ae(ue.prototype,"text",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.text}}),Js=Ae(ue.prototype,"type",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qs=Ae(ue.prototype,"properties",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),el=Ae(ue.prototype,"sourceNodeId",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.sourceNodeId}}),tl=Ae(ue.prototype,"targetNodeId",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.targetNodeId}}),nl=Ae(ue.prototype,"startPoint",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.startPoint}}),rl=Ae(ue.prototype,"endPoint",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.endPoint}}),ol=Ae(ue.prototype,"strokeWidth",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.strokeWidth}}),il=Ae(ue.prototype,"stroke",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.stroke}}),al=Ae(ue.prototype,"strokeDashArray",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.strokeDashArray}}),ul=Ae(ue.prototype,"outlineColor",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.outlineColor}}),cl=Ae(ue.prototype,"hideOutline",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.hideOutline}}),sl=Ae(ue.prototype,"outlineStrokeDashArray",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.outlineStrokeDashArray}}),ll=Ae(ue.prototype,"strokeOpacity",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.strokeOpacity}}),fl=Ae(ue.prototype,"zIndex",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.zIndex}}),pl=Ae(ue.prototype,"isSelected",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.isSelected}}),dl=Ae(ue.prototype,"isHovered",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.isHovered}}),hl=Ae(ue.prototype,"isDragging",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yl=Ae(ue.prototype,"isHitable",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vl=Ae(ue.prototype,"hoverStroke",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.hoverStroke}}),gl=Ae(ue.prototype,"selectedStroke",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.selectedStroke}}),bl=Ae(ue.prototype,"points",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.points}}),ml=Ae(ue.prototype,"pointsList",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return at.pointsList}}),Ol=Ae(ue.prototype,"draggable",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ae(ue.prototype,"sourceNode",[w.k],Object.getOwnPropertyDescriptor(ue.prototype,"sourceNode"),ue.prototype),Ae(ue.prototype,"targetNode",[w.k],Object.getOwnPropertyDescriptor(ue.prototype,"targetNode"),ue.prototype),Ae(ue.prototype,"textPosition",[w.k],Object.getOwnPropertyDescriptor(ue.prototype,"textPosition"),ue.prototype),Ae(ue.prototype,"setProperty",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setProperty"),ue.prototype),Ae(ue.prototype,"setProperties",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setProperties"),ue.prototype),Ae(ue.prototype,"updateData",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateData"),ue.prototype),Ae(ue.prototype,"formatText",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"formatText"),ue.prototype),Ae(ue.prototype,"resetTextPosition",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"resetTextPosition"),ue.prototype),Ae(ue.prototype,"moveText",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"moveText"),ue.prototype),Ae(ue.prototype,"setText",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setText"),ue.prototype),Ae(ue.prototype,"updateText",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateText"),ue.prototype),Ae(ue.prototype,"setAnchors",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setAnchors"),ue.prototype),Ae(ue.prototype,"setSelected",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setSelected"),ue.prototype),Ae(ue.prototype,"setHovered",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setHovered"),ue.prototype),Ae(ue.prototype,"setHitable",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setHitable"),ue.prototype),Ae(ue.prototype,"setElementState",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setElementState"),ue.prototype),Ae(ue.prototype,"updateStroke",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateStroke"),ue.prototype),Ae(ue.prototype,"updateStrokeWidth",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateStrokeWidth"),ue.prototype),Ae(ue.prototype,"updateStartPoint",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateStartPoint"),ue.prototype),Ae(ue.prototype,"updateEndPoint",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateEndPoint"),ue.prototype),Ae(ue.prototype,"setStyleFromTheme",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setStyleFromTheme"),ue.prototype),Ae(ue.prototype,"setZIndex",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"setZIndex"),ue.prototype),Ae(ue.prototype,"initPoints",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"initPoints"),ue.prototype),Ae(ue.prototype,"updateAttributes",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateAttributes"),ue.prototype),Ae(ue.prototype,"getAdjustStart",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"getAdjustStart"),ue.prototype),Ae(ue.prototype,"getAdjustEnd",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"getAdjustEnd"),ue.prototype),Ae(ue.prototype,"updateAfterAdjustStartAndEnd",[w.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateAfterAdjustStartAndEnd"),ue.prototype),ue),au=iu;function Dl(t){return(Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tl(t,e){return(Tl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Hb(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uu(t);if(e){var i=uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fb(this,n)}}function Fb(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function uu(t){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Le,Ml,cu=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Tl(o,a)})(i,t);var e,n,r=Hb(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"line")).modelType=Ie.LINE_EDGE,c}return e=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Xb(e.prototype,n),i}(au);u(37);function Nl(t){return(Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ub(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Cl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rl(t,e,n){return(Rl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=Mo(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Il(t,e){return(Il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Gb(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mo(t);if(e){var i=Mo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wb(this,n)}}function Wb(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ll(t)}function Ll(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Jt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var su=(Ml=Jt((Le=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Il(o,a)})(i,t);var e,n,r=Gb(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"polyline")).modelType=Ie.POLYLINE_EDGE,c.offset=Xt.polyline.offset,c.draginngPointList=void 0,function(s,f,g,S){g&&Object.defineProperty(s,f,{enumerable:g.enumerable,configurable:g.configurable,writable:g.writable,value:g.initializer?g.initializer.call(S):void 0})}(c,"dbClickPosition",Ml,Ll(c)),c}return e=i,(n=[{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var c=this.dbClickPosition;return{x:c.x,y:c.y}}var s=no(this.points),f=Ub(qb(s),2),g=f[0],S=f[1];return{x:(g.x+S.x)/2,y:(g.y+S.y)/2}}},{key:"getAfterAnchor",value:function(o,a,c){var s,f;return c.forEach(function(g){var S;o===ot.HORIZONTAL?S=Math.abs(a.y-g.y):o===ot.VERTICAL&&(S=Math.abs(a.x-g.x)),(!f||f>S)&&(f=S,s=g)}),s}},{key:"getCorssPoint",value:function(o,a,c){var s;return o===ot.HORIZONTAL?s={x:c.x,y:a.y}:o===ot.VERTICAL&&(s={x:a.x,y:c.y}),s}},{key:"removeCrossPoints",value:function(o,a,c){var s=c.map(function(K){return K});if(o===1){var f=s[o],g=s[a],S=s[o-1];if(Wl(S,f,this.sourceNode)){if(Vl(f,g,this.sourceNode)){var j=$l(f,g,this.sourceNode);j&&(s[o]=j,s.splice(o-1,1),o--,a--)}}else this.sourceNode.anchors.forEach(function(K){(K.x===S.x&&K.x===f.x||K.y===S.y&&K.y===f.y)&&Dn(K.x,K.y,f.x,f.y)<Dn(S.x,S.y,f.x,f.y)&&(s[o-1]=K)})}if(a===c.length-2){var N=s[o],B=s[a],$=s[a+1];if(Wl(B,$,this.targetNode)){if(Vl(N,B,this.targetNode)){var V=$l(N,B,this.targetNode);V&&(s[a]=V,s.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(K){(K.x===$.x&&K.x===B.x||K.y===$.y&&K.y===B.y)&&Dn(K.x,K.y,B.x,B.y)<Dn($.x,$.y,B.x,B.y)&&(s[a+1]=K)})}return s}},{key:"getDragingPoints",value:function(o,a,c,s,f){var g=f.map(function(N){return N}),S=this.getAfterAnchor(o,c,s),j=this.getCorssPoint(o,c,S);return a==="start"?(g.unshift(j),g.unshift(S)):(g.push(j),g.push(S)),g}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(te){return te}),c=o[0],s=o[1],f=o[a.length-2],g=o[a.length-1],S=this.sourceNode,j=this.targetNode,N=S.modelType,B=j.modelType,$=Zi(c,s),V=a[0];switch(N){case Ie.RECT_NODE:S.radius!==0&&(wl(c,S)||(V=_l(c,$,S)));break;case Ie.CIRCLE_NODE:V=ru(c,$,S);break;case Ie.ELLIPSE_NODE:V=xl(c,$,S);break;case Ie.DIAMOND_NODE:case Ie.POLYGON_NODE:V=El(c,$,S)}a[0]=V;var K=Zi(f,g),q=a[a.length-1];switch(B){case Ie.RECT_NODE:j.radius!==0&&(wl(g,j)||(q=_l(g,K,j)));break;case Ie.CIRCLE_NODE:q=ru(g,K,j);break;case Ie.ELLIPSE_NODE:q=xl(g,K,j);break;case Ie.DIAMOND_NODE:case Ie.POLYGON_NODE:q=El(g,K,j)}return a[a.length-1]=q,a}},{key:"getData",value:function(){var o=Rl(Mo(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){return{x:c.x,y:c.y}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Gl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var c=o.start,s=o.end,f=o.startIndex,g=o.endIndex,S=o.direction,j=this.pointsList,N=j;return S===ot.HORIZONTAL?(j[f]={x:c.x,y:c.y+a.y},j[g]={x:s.x,y:s.y+a.y},N=this.pointsList.map(function(B){return B})):S===ot.VERTICAL&&(j[f]={x:c.x+a.x,y:c.y},j[g]={x:s.x+a.x,y:s.y},N=this.pointsList.map(function(B){return B})),this.updatePointsAfterDrage(N),this.draginngPointList=N,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[f]),end:Object.assign({},j[g]),startIndex:f,endIndex:g,direction:S}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var c=o.start,s=o.end,f=o.startIndex,g=o.endIndex,S=o.direction,j=this.pointsList;if(S===ot.HORIZONTAL){j[f]={x:c.x,y:c.y+a.y},j[g]={x:s.x,y:s.y+a.y};var N=this.pointsList.map(function(me){return me});if(f!==0&&g!==this.pointsList.length-1&&(N=this.removeCrossPoints(f,g,N)),f===0){var B={x:c.x,y:c.y+a.y};if(!cr(B,this.sourceNode)){var $=this.sourceNode.anchors;N=this.getDragingPoints(S,"start",B,$,N)}}if(g===this.pointsList.length-1){var V={x:s.x,y:s.y+a.y};if(!cr(V,this.targetNode)){var K=this.targetNode.anchors;N=this.getDragingPoints(S,"end",V,K,N)}}N=hu(N),this.updatePointsAfterDrage(N),this.draginngPointList=N}else if(S===ot.VERTICAL){j[f]={x:c.x+a.x,y:c.y},j[g]={x:s.x+a.x,y:s.y};var q=this.pointsList.map(function(me){return me});if(f!==0&&g!==this.pointsList.length-1&&(q=this.removeCrossPoints(f,g,q)),f===0){var te={x:c.x+a.x,y:c.y};if(!cr(te,this.sourceNode)){var ie=this.sourceNode.anchors;q=this.getDragingPoints(S,"start",te,ie,q)}}if(g===this.pointsList.length-1){var oe={x:s.x+a.x,y:s.y};if(!cr(oe,this.targetNode)){var Oe=this.targetNode.anchors;q=this.getDragingPoints(S,"end",oe,Oe,q)}}q=hu(q),this.updatePointsAfterDrage(q),this.draginngPointList=q}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[f]),end:Object.assign({},j[g]),startIndex:f,endIndex:g,direction:S}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=no(this.points);this.pointsList=o.map(function(s){return s}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var c=o[o.length-1];this.endPoint=Object.assign({},c)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,c=o.endPoint,s=o.sourceNode,f=o.targetNode,g=Gl({x:a.x,y:a.y},{x:c.x,y:c.y},s,f,this.offset||0);this.pointsList=g,this.initPoints()}}])&&Yb(e.prototype,n),i}(au)).prototype,"dbClickPosition",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt(Le.prototype,"initPoints",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"initPoints"),Le.prototype),Jt(Le.prototype,"updatePoints",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"updatePoints"),Le.prototype),Jt(Le.prototype,"updateStartPoint",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"updateStartPoint"),Le.prototype),Jt(Le.prototype,"updateEndPoint",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"updateEndPoint"),Le.prototype),Jt(Le.prototype,"dragAppendStart",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppendStart"),Le.prototype),Jt(Le.prototype,"dragAppendSimple",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppendSimple"),Le.prototype),Jt(Le.prototype,"dragAppend",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppend"),Le.prototype),Jt(Le.prototype,"dragAppendEnd",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppendEnd"),Le.prototype),Jt(Le.prototype,"updatePointsAfterDrage",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"updatePointsAfterDrage"),Le.prototype),Jt(Le.prototype,"getAdjustStart",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"getAdjustStart"),Le.prototype),Jt(Le.prototype,"getAdjustEnd",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"getAdjustEnd"),Le.prototype),Jt(Le.prototype,"updateAfterAdjustStartAndEnd",[w.i],Object.getOwnPropertyDescriptor(Le.prototype,"updateAfterAdjustStartAndEnd"),Le.prototype),Le),No=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((n.y-e.y)/(n.x-e.x)),s=Math.atan(r/i),f=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(a.leftX=e.x+f*Math.sin(c+s),a.leftY=e.y-f*Math.cos(c+s),a.rightX=e.x-f*Math.sin(c-s),a.rightY=e.y+f*Math.cos(c-s)):(a.leftX=e.x-f*Math.sin(c+s),a.leftY=e.y+f*Math.cos(c+s),a.rightX=e.x+f*Math.sin(c-s),a.rightY=e.y-f*Math.cos(c-s)):o==="end"&&(n.x>=e.x?(a.leftX=n.x+f*Math.sin(c-s),a.leftY=n.y-f*Math.cos(c-s),a.rightX=n.x-f*Math.sin(c+s),a.rightY=n.y+f*Math.cos(c+s)):(a.leftX=n.x-f*Math.sin(c-s),a.leftY=n.y+f*Math.cos(c-s),a.rightX=n.x+f*Math.sin(c+s),a.rightY=n.y-f*Math.cos(c+s))),a};function zl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zl(Object(n),!0).forEach(function(r){Vb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $b(t){return function(e){if(Array.isArray(e))return fu(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Xl(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bl(t){return(Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function lu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||Xl(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xl(t,e){if(t){if(typeof t=="string")return fu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(t,e):void 0}}function fu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pu=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Vi=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},$i=function(t,e){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?ot.HORIZONTAL:ot.VERTICAL}(e,t)===ot.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Hl=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Co=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(g){n.push(g.x),r.push(g.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),a=Math.min.apply(Math,r),c=Math.max.apply(Math,r),s=o-i,f=c-a;return e&&(s+=e,f+=e),{centerX:(i+o)/2,centerY:(a+c)/2,maxX:o,maxY:c,minX:i,minY:a,x:(i+o)/2,y:(a+c)/2,height:f,width:s}},Ki=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},qi=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},du=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Fl=function(t,e,n,r,i){return du(t,e)+du(t,n)+function(o,a){var c=0;return a.forEach(function(s){s&&(o.x===s.x&&(c+=-2),o.y===s.y&&(c+=-2))}),c}(t,[e,n,r,i])},Ro=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,c=r.y-n.y,s=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*c),f=(a*(t.y-n.y)-c*(t.x-n.x))/(-a*o+i*c);return s>=0&&s<=1&&f>=0&&f<=1},Ul=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=lu(Ki(n),4),i=r[0],o=r[1],a=r[2],c=r[3];return Ro(t,e,i,o)||Ro(t,e,i,c)||Ro(t,e,o,a)||Ro(t,e,a,c)},Kb=function(t,e,n,r,i,o,a){var c=[],s=[e],f={},g={},S={};g[e.id]=0,S[e.id]=Fl(e,n,e);var j={};t.forEach(function($){j[$.id]=$});for(var N=function(){var $,V,K,q=void 0,te=1/0;if(s.forEach(function(oe){S[oe.id]<te&&(te=S[oe.id],q=oe)}),q===n){var ie=[];return function oe(Oe,me,Ee,Ye,Ke){Ke||(Ke=0),Oe.unshift(me[Ye]),Ee[Ye]&&Ee[Ye]!==Ye&&Ke<=100&&oe(Oe,me,Ee,Ee[Ye],Ke+1)}(ie,j,f,n.id),{v:ie}}V=q,(K=($=s).indexOf(V))>-1&&$.splice(K,1),c.push(q),function(oe,Oe,me,Ee){var Ye=[];return oe.forEach(function(Ke){Ke!==Oe&&(Ke.x!==Oe.x&&Ke.y!==Oe.y||Ul(Ke,Oe,me)||Ul(Ke,Oe,Ee)||Ye.push(Ke))}),pu(Ye)}(t,q,r,i).forEach(function(oe){if(c.indexOf(oe)===-1){s.indexOf(oe)===-1&&s.push(oe);var Oe=S[q.id]+du(q,oe);g[oe.id]&&Oe>=g[oe.id]||(f[oe.id]=q.id,g[oe.id]=Oe,S[oe.id]=g[oe.id]+Fl(oe,n,e,o,a))}})};s.length;){var B=N();if(Bl(B)==="object")return B.v}return[e,n]},Yl=function(t){return Zt(t)},hu=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],i=e[n],o=e[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?e.splice(n,1):n++}return e},Gl=function(t,e,n,r,i){var o,a,c=Yl(n),s=Yl(r),f=Vi(c,i),g=Vi(s,i),S=$i(f,t),j=$i(g,e);if(o=f,a=g,2*Math.abs(o.centerX-a.centerX)<o.width+a.width&&2*Math.abs(o.centerY-a.centerY)<o.height+a.height){var N=Zb(t,e,S,j);return[t,S].concat($b(N),[j,e])}var B=Co([S,j]),$=Hl(f,B),V=Hl(g,B),K=[];K=(K=K.concat(Ki($))).concat(Ki(V));var q={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[B,$,V].forEach(function(ie){K=K.concat(function(oe,Oe){return function(me,Ee){return Ee<me.minX||Ee>me.maxX?[]:[{x:Ee,y:me.minY},{x:Ee,y:me.maxY}]}(oe,Oe.x).concat(function(me,Ee){return Ee<me.minY||Ee>me.maxY?[]:[{x:me.minX,y:Ee},{x:me.maxX,y:Ee}]}(oe,Oe.y))}(ie,q).filter(function(oe){return qi(oe,f)&&qi(oe,g)}))}),[{x:S.x,y:j.y},{x:j.x,y:S.y}].forEach(function(ie){qi(ie,f)&&qi(ie,g)&&K.push(ie)}),K.unshift(S),K.push(j),K=pu(K);var te=Kb(K,S,j,c,s,t,e);return te.unshift(t),te.push(e),te.length>2&&(te=hu(te)),pu(te)},qb=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Dn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var a=t[o],c=t[o+1],s=Dn(a.x,a.y,c.x,c.y);s>i&&(i=s,n=a,r=c)}e=[n,r]}return e},Wl=function(t,e,n){var r=cr(t,n),i=cr(e,n);return r&&i},Vl=function(t,e,n){var r=cr(t,n),i=cr(e,n);return!(r&&i)&&(r||i)},$l=function(t,e,n){for(var r,i,o=Zt(n),a=Ki(o),c=0;c<a.length;c++)Ro(t,e,a[c],a[(c+1)%a.length])&&(i=[a[c],a[(c+1)%a.length]]);return i&&(r=function(s,f,g,S){var j=(f.y-s.y)*(S.x-g.x)-(s.x-f.x)*(g.y-S.y);if(j===0)return!1;var N=((f.x-s.x)*(S.x-g.x)*(g.y-s.y)+(f.y-s.y)*(S.x-g.x)*s.x-(S.y-g.y)*(f.x-s.x)*g.x)/j,B=-((f.y-s.y)*(S.y-g.y)*(g.x-s.x)+(f.x-s.x)*(S.y-g.y)*s.y-(S.x-g.x)*(f.y-s.y)*g.y)/j;return(N-s.x)*(N-f.x)<=0&&(B-s.y)*(B-f.y)<=0&&(N-g.x)*(N-S.x)<=0&&(B-g.y)*(B-S.y)<=0&&{x:N,y:B}}(t,e,i[0],i[1])),r},Zi=function(t,e){var n;return t.x===e.x?n=ot.VERTICAL:t.y===e.y&&(n=ot.HORIZONTAL),n},no=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=lu(r.split(","),2),o=i[0],a=i[1];n.push({x:Number(o),y:Number(a)})}),n},Zb=function(t,e,n,r){var i=[];if(Zi(t,n)===Zi(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},a=To(o,t,n),c=To(o,e,r);if(a||c)o={x:r.x,y:n.y};else{var s=Kl(o,t,n),f=Kl(o,e,r);s&&f&&(o={x:r.x,y:n.y})}i.push(o)}return i},Kl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},yu=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},ql=function(t){var e=t.start,n=t.end,r=t.sourceNode,i=t.targetNode,o=t.offset,a=Zt(r),c=Zt(i),s=Vi(a,o),f=Vi(c,o);return{sNext:$i(s,e),ePre:$i(f,n)}},Ji=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Qi(e[0]),Qi(e[1]),Qi(e[2]),Qi(e[3])]},Qi=function(t){var e=lu(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Zl=function(t,e){for(var n,r=t.x,i=t.y,o=no(e),a=Number.MAX_SAFE_INTEGER,c=[],s=0;s<o.length;s++)c.push({start:o[s],end:o[(s+1)%o.length]});if(c.forEach(function(j){var N=j.start,B=j.end;if(N.x===B.x){var $={x:N.x,y:i};if(To($,N,B)){var V=Math.abs(N.x-r);V<a&&(a=V,n=$)}}else if(N.y===B.y){var K={x:r,y:N.y};if(To(K,N,B)){var q=Math.abs(N.y-i);q<a&&(a=q,n=K)}}}),!n){var f=c[0],g=f.start,S=f.end;n={x:g.x+(S.x-g.x)/2,y:g.y+(S.y-g.y)/2}}return n},Jb=function(t){return An(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Jl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},ro=function(){};function Qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var sr=window.document;function Io(t){var e=t.onDragStart,n=e===void 0?ro:e,r=t.onDraging,i=r===void 0?ro:r,o=t.onDragEnd,a=o===void 0?ro:o,c=t.step,s=c===void 0?1:c,f=t.isStopPropagation,g=f===void 0||f,S=!1,j=!1,N=0,B=0,$=0,V=0;function K(te){if(g&&te.stopPropagation(),j&&(S=!0,$+=te.clientX-N,V+=te.clientY-B,N=te.clientX,B=te.clientY,Math.abs($)>s||Math.abs(V)>s)){var ie=$%s,oe=V%s,Oe=$-ie,me=V-oe;$=ie,V=oe,i({deltaX:Oe,deltaY:me,event:te})}}function q(te){if(g&&te.stopPropagation(),j=!1,sr.removeEventListener("mousemove",K,!1),sr.removeEventListener("mouseup",q,!1),S)return S=!1,a({event:te})}return function(te){if(te.button===0)return g&&te.stopPropagation(),j=!0,N=te.clientX,B=te.clientY,sr.addEventListener("mousemove",K,!1),sr.addEventListener("mouseup",q,!1),n({event:te})}}var ne,Ql,ef,tf,nf,rf,of,af,uf,cf,sf,lf,ff,pf,df,hf,yf,vf,Lo=function(){function t(r){var i=this,o=r.onDragStart,a=o===void 0?ro:o,c=r.onDraging,s=c===void 0?ro:c,f=r.onDragEnd,g=f===void 0?ro:f,S=r.eventType,j=S===void 0?"":S,N=r.eventCenter,B=N===void 0?null:N,$=r.step,V=$===void 0?1:$,K=r.isStopPropagation,q=K===void 0||K,te=r.model,ie=te===void 0?null:te;(function(oe,Oe){if(!(oe instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,t),this.onDragStart=void 0,this.onDraging=void 0,this.onDragEnd=void 0,this.step=void 0,this.isStopPropagation=void 0,this.isDraging=!1,this.isStartDraging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.eventType=void 0,this.eventCenter=void 0,this.model=void 0,this.startTime=void 0,this.isGrag=void 0,this.handleMouseDown=function(oe){var Oe,me,Ee;if(oe.button===0){i.isStopPropagation&&oe.stopPropagation(),i.isStartDraging=!0,i.startX=oe.clientX,i.startY=oe.clientY,sr.addEventListener("mousemove",i.handleMouseMove,!1),sr.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:oe});var Ye=(Oe=i.model)===null||Oe===void 0?void 0:Oe.getData();(me=i.eventCenter)===null||me===void 0||me.emit(Ne["".concat(i.eventType,"_MOUSEDOWN")],{e:oe,data:Ye}),(Ee=i.eventCenter)===null||Ee===void 0||Ee.emit(Ne["".concat(i.eventType,"_DRAGSTART")],{e:oe,data:Ye}),i.startTime=new Date().getTime()}},this.handleMouseMove=function(oe){if(i.isStopPropagation&&oe.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=oe.clientX-i.startX,i.sumDeltaY+=oe.clientY-i.startY,i.startX=oe.clientX,i.startY=oe.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Oe,me,Ee,Ye=i.sumDeltaX%i.step,Ke=i.sumDeltaY%i.step,Nt=i.sumDeltaX-Ye,wn=i.sumDeltaY-Ke;i.sumDeltaX=Ye,i.sumDeltaY=Ke,i.onDraging({deltaX:Nt,deltaY:wn,event:oe});var Qt=(Oe=i.model)===null||Oe===void 0?void 0:Oe.getData();(me=i.eventCenter)===null||me===void 0||me.emit(Ne["".concat(i.eventType,"_MOUSEMOVE")],{e:oe,data:Qt}),(Ee=i.eventCenter)===null||Ee===void 0||Ee.emit(Ne["".concat(i.eventType,"_DRAG")],{e:oe,data:Qt})}},this.handleMouseUp=function(oe){var Oe,me,Ee;if(i.isStartDraging=!1,i.isStopPropagation&&oe.stopPropagation(),sr.removeEventListener("mousemove",i.handleMouseMove,!1),sr.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:oe});var Ye=(Oe=i.model)===null||Oe===void 0?void 0:Oe.getData();(me=i.eventCenter)===null||me===void 0||me.emit(Ne["".concat(i.eventType,"_MOUSEUP")],{e:oe,data:Ye}),(Ee=i.eventCenter)===null||Ee===void 0||Ee.emit(Ne["".concat(i.eventType,"_DROP")],{e:oe,data:Ye})}},this.onDragStart=a,this.onDraging=s,this.onDragEnd=g,this.step=V,this.isStopPropagation=q,this.eventType=j,this.eventCenter=B,this.model=ie}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Qb(e.prototype,n),t}();function gf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gf(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function em(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bf(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return mf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Of,_f=(Ql=Se((ne=function(){function t(r){(function(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")})(this,t),this.BaseType=vt.GRAPH,this.modelType=Ie.GRAPH,this.rootEl=void 0,this.theme=void 0,this.eventCenter=void 0,this.modelMap=new Map,this.width=void 0,this.height=void 0,this.topElement=void 0,this.selectElement=void 0,this.idGenerator=void 0,this.nodeMoveRules=[],St(this,"edgeType",Ql,this),St(this,"nodes",ef,this),St(this,"activeElement",tf,this),St(this,"activeElementState",nf,this),St(this,"state",rf,this),St(this,"additionStateData",of,this),St(this,"edges",af,this),St(this,"isSlient",uf,this),St(this,"overlapMode",cf,this),St(this,"plugins",sf,this),St(this,"tools",lf,this),St(this,"background",ff,this),St(this,"transformMatrix",pf,this),St(this,"editConfig",df,this),St(this,"gridSize",hf,this),St(this,"partial",yf,this),St(this,"fakerNode",vf,this);var i=r.container,o=r.background,a=o===void 0?{}:o,c=r.grid,s=(c=c===void 0?{}:c).size,f=s===void 0?1:s,g=r.isSilentMode,S=g!==void 0&&g,j=r.eventCenter,N=r.idGenerator;this.background=a,this.isSlient=S,this.gridSize=f,this.rootEl=i,this.editConfig=new Es(r),this.eventCenter=j,this.transformMatrix=new Ug(j),this.theme=Ys(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=N}var e,n;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(S){return r.push(S)}),this.edges.forEach(function(S){return r.push(S)}),r=r.sort(function(S,j){return S.zIndex-j.zIndex});for(var i=[],o=-1,a=[-200,-200],c=[this.width+200,this.height+200],s=0;s<r.length;s++){var f=r[s];this.partial&&!this.isElementInArea(f,a,c,!1)||(f.zIndex===9999&&(o=i.length),i.push(f))}if(o!==-1){var g=i[i.length-1];i[i.length-1]=i[o],i[o]=g}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===$e.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===$e.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],a=[];this.nodes.forEach(function(f){return a.push(f)}),this.edges.forEach(function(f){return a.push(f)});for(var c=0;c<a.length;c++){var s=a[c];this.isElementInArea(s,r,i)&&o.push(s)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModel",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,a=this.rootEl.getBoundingClientRect(),c={x:i-a.left,y:o-a.top},s=bf(this.transformMatrix.HtmlPointToCanvasPoint([c.x,c.y]),2);return{domOverlayPosition:c,canvasOverlayPosition:{x:s[0],y:s[1]}}}},{key:"isElementInArea",value:function(r,i,o){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===vt.NODE){for(var c=Zt(r=r),s=c.minX,f=c.minY,g=c.maxX,S=c.maxY,j=[{x:s,y:f},{x:g,y:f},{x:g,y:S},{x:s,y:S}],N=!0,B=0;B<j.length;B++){var $=j[B],V=$.x,K=$.y,q=this.transformMatrix.CanvasPointToHtmlPoint([V,K]),te=bf(q,2);if(V=te[0],K=te[1],!Qa([V,K],i,o)){N=!1;break}}return N}if(r.BaseType===vt.EDGE){var ie=r=r,oe=ie.startPoint,Oe=ie.endPoint,me=this.transformMatrix.CanvasPointToHtmlPoint([oe.x,oe.y]),Ee=this.transformMatrix.CanvasPointToHtmlPoint([Oe.x,Oe.y]),Ye=Qa(me,i,o),Ke=Qa(Ee,i,o);return a?Ye&&Ke:Ye||Ke}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=Bi(r.nodes,function(o){var a=i.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的节点。"));var c=o.x,s=o.y;return c&&s&&(o.x=Ui(c,i.gridSize),o.y=Ui(s,i.gridSize),Object.prototype.toString.call(o.text)==="[object Object]"&&(o.text.x-=Gs(c,i.gridSize),o.text.y-=Gs(s,i.gridSize))),new a(o,i)}),this.edges=Bi(r.edges,function(o){var a=i.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的边。"));return new a(o,i)})}},{key:"modelToGraphData",value:function(){var r=this.edges.map(function(i){return i.getData()});return{nodes:this.nodes.map(function(i){return i.getData()}),edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){r=!0;break}i.push(a.getData())}if(r)return!1;for(var c=!1,s=[],f=0;f<this.edges.length;f++){var g=this.edges[f];if(g.isDragging){c=!0;break}s.push(g.getData())}return!c&&{nodes:i,edges:s}}},{key:"getEdgeModel",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){var i=this.getNodeModel(r);return i||this.getEdgeModel(r)}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var a=this.edges[o],c=this.edges[o].sourceNodeId===r,s=this.edges[o].targetNodeId===r;(c||s)&&i.push(a)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(a){if(a.BaseType===vt.NODE&&o.nodes.push(a.getData()),a.BaseType===vt.EDGE){var c=a.getData(),s=i.get(c.sourceNodeId)&&i.get(c.targetNodeId);(r||s)&&o.edges.push(c)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=to()),this.nodesMap[i]?(console.warn("当前流程图已存在节点".concat(i,", 修改失败")),!1):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("当前流程图找不到节点".concat(i,", 修改失败")),!1)}},{key:"changeEdgeId",value:function(r,i){return i||(i=to()),this.edgesMap[i]?(console.warn("当前流程图已存在连线: ".concat(i,", 修改失败")),!1):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("当前流程图找不到连线: ".concat(i,", 修改失败")),!1)}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"updateEdgeByIndex",value:function(r,i){this.edges[r]=oo(oo({},this.edges[r]),i)}},{key:"toFront",value:function(r){var i,o,a,c=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);c&&((a=this.topElement)===null||a===void 0||a.setZIndex(),this.topElement=c,c.setZIndex(9999))}},{key:"setElementZIndex",value:function(r,i){var o,a,c,s=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[r])===null||a===void 0?void 0:a.model);s&&(typeof i=="number"&&(c=i),i==="top"&&(c=ou()),i==="bottom"&&(c=--Lb),s.setZIndex(c))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.removeEdgeBySource(r),this.removeEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Ne.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=an(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("找不到".concat(i.type,"对应的节点，请确认是否已注册此类型节点。"));var a=new o(i,this);this.nodes.push(a);var c=a.getData();return this.eventCenter.emit(Ne.NODE_ADD,{data:c}),a}},{key:"cloneNode",value:function(r){var i=this.getNodeModel(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),i.setSelected(!1),a.getData()}},{key:"moveNode",value:function(r,i,o){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],c=this.nodesMap[r];if(c){var s=c.model;s.move(i,o,a),this.moveEdge(r,i,o)}else console.warn("不存在id为".concat(r,"的节点"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var a=this.nodesMap[r];if(a){var c=a.model,s=i-c.x,f=o-c.y;this.moveNode(r,s,f)}else console.warn("不存在id为".concat(r,"的节点"))}},{key:"setTextEditable",value:function(r){this.setElementStateById(r,$e.TEXT_EDIT)}},{key:"createEdge",value:function(r){var i=an(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var a=this.getModel(o);if(!a)throw new Error("找不到".concat(o,"对应的连线，请确认是否已注册此类型连线。"));var c=new a(oo(oo({},i),{},{type:o}),this),s=c.getData();return this.edges.push(c),this.eventCenter.emit(Ne.EDGE_ADD,{data:s}),c}},{key:"moveEdge",value:function(r,i,o){for(var a=0;a<this.edges.length;a++){var c,s=this.edges[a],f=s.textPosition,g=f.x,S=f.y,j=this.edges[a].sourceNodeId===r,N=this.edges[a].targetNodeId===r;if(j&&s.updateStartPoint({x:s.startPoint.x+i,y:s.startPoint.y+o}),N&&s.updateEndPoint({x:s.endPoint.x+i,y:s.endPoint.y+o}),j||N)if(s.customTextPosition===!0)s.resetTextPosition();else if(s.modelType===Ie.POLYLINE_EDGE&&(c=s.text)!==null&&c!==void 0&&c.value){var B=s.text,$=Zl(B,s.points);s.moveText($.x-B.x,$.y-B.y)}else{var V=s.textPosition,K=V.x,q=V.y;s.moveText(K-g,q-S)}}}},{key:"removeEdge",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Ne.EDGE_DELETE,{data:a})}}},{key:"removeEdgeById",value:function(r){var i=this.edgesMap[r].index;if(this.edgesMap[r]){var o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Ne.EDGE_DELETE,{data:o})}}},{key:"removeEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Ne.EDGE_DELETE,{data:o})}}},{key:"removeEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Ne.EDGE_DELETE,{data:o})}}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setElementStateById",value:function(r,i,o){this.resetElementState(),this.nodes.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)}),this.edges.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)})}},{key:"setElementTextById",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(r){var i,o,a,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o,a,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectElementById",value:function(r){var i,o,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||((o=this.selectElement)===null||o===void 0||o.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(r),(i=this.selectElement)===null||i===void 0||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode!==kn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveElements",value:function(r,i,o){var a=this;r.nodes.forEach(function(c){return a.moveNode(c.id,i,o)})}},{key:"moveNodes",value:function(r,i,o){var a=this,c=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(s){return a.moveNode(s,i,o,c)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"changeEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModel(r);if(o){var a=o.getData();a.type=i;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的节点，请确认是否已注册此类型节点。"));var s=new c(a,this);this.nodes.splice(this.nodesMap[r].index,1,s),this.getNodeEdges(r).forEach(function(f){if(f.sourceNodeId===r){var g=Sl(s,f.startPoint,s.width,s.height);f.updateStartPoint(g)}if(f.targetNodeId===r){var S=Sl(s,f.endPoint,s.width,s.height);f.updateEndPoint(S)}})}else console.warn("找不到id为".concat(r,"的节点"))}},{key:"setTheme",value:function(r){this.theme=Ys(oo(oo({},this.theme),r))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&tm(e.prototype,n),t}()).prototype,"edgeType",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ef=Se(ne.prototype,"nodes",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tf=Se(ne.prototype,"activeElement",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nf=Se(ne.prototype,"activeElementState",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf=Se(ne.prototype,"state",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=Se(ne.prototype,"additionStateData",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),af=Se(ne.prototype,"edges",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),uf=Se(ne.prototype,"isSlient",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cf=Se(ne.prototype,"overlapMode",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sf=Se(ne.prototype,"plugins",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lf=Se(ne.prototype,"tools",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ff=Se(ne.prototype,"background",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pf=Se(ne.prototype,"transformMatrix",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),df=Se(ne.prototype,"editConfig",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hf=Se(ne.prototype,"gridSize",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yf=Se(ne.prototype,"partial",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vf=Se(ne.prototype,"fakerNode",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se(ne.prototype,"nodesMap",[w.k],Object.getOwnPropertyDescriptor(ne.prototype,"nodesMap"),ne.prototype),Se(ne.prototype,"edgesMap",[w.k],Object.getOwnPropertyDescriptor(ne.prototype,"edgesMap"),ne.prototype),Se(ne.prototype,"sortElements",[w.k],Object.getOwnPropertyDescriptor(ne.prototype,"sortElements"),ne.prototype),Se(ne.prototype,"textEditElement",[w.k],Object.getOwnPropertyDescriptor(ne.prototype,"textEditElement"),ne.prototype),Se(ne.prototype,"selectElements",[w.k],Object.getOwnPropertyDescriptor(ne.prototype,"selectElements"),ne.prototype),Se(ne.prototype,"setFakerNode",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setFakerNode"),ne.prototype),Se(ne.prototype,"removeFakerNode",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeFakerNode"),ne.prototype),Se(ne.prototype,"setModel",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setModel"),ne.prototype),Se(ne.prototype,"updateEdgeByIndex",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"updateEdgeByIndex"),ne.prototype),Se(ne.prototype,"toFront",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"toFront"),ne.prototype),Se(ne.prototype,"setElementZIndex",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementZIndex"),ne.prototype),Se(ne.prototype,"deleteNode",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"deleteNode"),ne.prototype),Se(ne.prototype,"addNode",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"addNode"),ne.prototype),Se(ne.prototype,"cloneNode",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"cloneNode"),ne.prototype),Se(ne.prototype,"moveNode",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveNode"),ne.prototype),Se(ne.prototype,"moveNode2Coordinate",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveNode2Coordinate"),ne.prototype),Se(ne.prototype,"setTextEditable",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setTextEditable"),ne.prototype),Se(ne.prototype,"createEdge",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"createEdge"),ne.prototype),Se(ne.prototype,"moveEdge",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveEdge"),ne.prototype),Se(ne.prototype,"removeEdge",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdge"),ne.prototype),Se(ne.prototype,"removeEdgeById",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdgeById"),ne.prototype),Se(ne.prototype,"removeEdgeBySource",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdgeBySource"),ne.prototype),Se(ne.prototype,"removeEdgeByTarget",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdgeByTarget"),ne.prototype),Se(ne.prototype,"setElementState",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementState"),ne.prototype),Se(ne.prototype,"setElementStateById",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementStateById"),ne.prototype),Se(ne.prototype,"setElementTextById",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementTextById"),ne.prototype),Se(ne.prototype,"resetElementState",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"resetElementState"),ne.prototype),Se(ne.prototype,"selectNodeById",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"selectNodeById"),ne.prototype),Se(ne.prototype,"selectEdgeById",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"selectEdgeById"),ne.prototype),Se(ne.prototype,"selectElementById",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"selectElementById"),ne.prototype),Se(ne.prototype,"clearSelectElements",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"clearSelectElements"),ne.prototype),Se(ne.prototype,"moveElements",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveElements"),ne.prototype),Se(ne.prototype,"moveNodes",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveNodes"),ne.prototype),Se(ne.prototype,"changeEdgeType",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"changeEdgeType"),ne.prototype),Se(ne.prototype,"changeNodeType",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"changeNodeType"),ne.prototype),Se(ne.prototype,"setTheme",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"setTheme"),ne.prototype),Se(ne.prototype,"clearData",[w.i],Object.getOwnPropertyDescriptor(ne.prototype,"clearData"),ne.prototype),ne),nm=_f;function wf(t){return(wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function xf(){return(xf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ef(t,e){return(Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function om(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vu(t);if(e){var i=vu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return im(this,n)}}function im(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vu(t){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Sf,am=_n(Of=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ef(o,a)})(i,t);var e,n,r=om(i);function i(o){var a;(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,i),(a=r.call(this)).stepDrag=void 0,a.stepScrollX=0,a.stepScrollY=0,a.onDraging=function(f){var g=f.deltaX,S=f.deltaY;a.setState({isDraging:!0});var j=a.props.graphModel,N=j.transformMatrix;j.editConfig.stopMoveGraph||N.translate(g,S)},a.onDragEnd=function(){a.setState({isDraging:!1})},a.zoomHandler=function(f){var g=a.props,S=g.graphModel,j=S.editConfig,N=S.transformMatrix,B=S.gridSize,$=g.graphModel,V=f.deltaX,K=f.deltaY;if(j.stopScrollGraph||f.ctrlKey===!0){if(!j.stopZoomGraph){f.preventDefault();var q=$.getPointByClient({x:f.clientX,y:f.clientY}).canvasOverlayPosition,te=q.x,ie=q.y;N.zoom(f.deltaY<0,[te,ie])}}else{if(f.preventDefault(),a.stepScrollX+=V,a.stepScrollY+=K,Math.abs(a.stepScrollX)>=B){var oe=a.stepScrollX%B,Oe=a.stepScrollX-oe;N.translate(-Oe*N.SCALE_X,0),a.stepScrollX=oe}if(Math.abs(a.stepScrollY)>=B){var me=a.stepScrollY%B,Ee=a.stepScrollY-me;N.translate(0,-Ee*N.SCALE_Y),a.stepScrollY=me}}},a.clickHandler=function(f){if(f.target.getAttribute("name")==="canvas-overlay"){var g=a.props,S=g.graphModel,j=g.eventCenter,N=S.textEditElement;S.selectElements.size>0&&S.clearSelectElements(),N&&N.setElementState($e.DEFAULT),j.emit(Ne.BLANK_CLICK,{e:f})}},a.handleContextMenu=function(f){if(f.target.getAttribute("name")==="canvas-overlay"){f.preventDefault();var g=a.props,S=g.graphModel,j=g.eventCenter,N=S.getPointByClient({x:f.clientX,y:f.clientY});S.setElementState($e.SHOW_MENU,N.domOverlayPosition),j.emit(Ne.BLANK_CONTEXTMENU,{e:f,position:N})}},a.mouseDownHandler=function(f){var g=a.props,S=g.eventCenter,j=g.graphModel,N=j.editConfig,B=j.transformMatrix.SCALE_X,$=j.gridSize;N.stopMoveGraph?S.emit(Ne.BLANK_MOUSEDOWN,{e:f}):(a.stepDrag.setStep($*B),a.stepDrag.handleMouseDown(f)),a.clickHandler(f)};var c=o.graphModel.gridSize,s=o.eventCenter;return a.stepDrag=new Lo({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:c,eventType:"BLANK",eventCenter:s,model:null}),a.state={isDraging:!1},a}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformMatrix.getTransformStyle().transform,a=this.props,c=a.children,s=a.dnd,f=this.state.isDraging;return R("svg",xf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:f?"lf-dragging":"lf-drag-able"},s.eventMap()),R("g",{transform:o},c))}}])&&rm(e.prototype,n),i}(C))||Of;function jf(t){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function um(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pf(t,e){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function sm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gu(t);if(e){var i=gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lm(this,n)}}function lm(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gu(t){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var fm=_n(Sf=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Pf(o,a)})(i,t);var e,n,r=sm(i);function i(){var o;um(this,i);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(o=r.call.apply(r,[this].concat(c))).setToolOverlayRef=function(f){var g=o.props.tool.getInstance();g.components.forEach(function(S){return S(g,f)}),g.components=[]},o}return e=i,(n=[{key:"getTools",value:function(){var o=this.props,a=o.tool,c=o.graphModel,s=a.getTools().map(function(f){return R(f,{graphModel:c,logicFlow:a.instance})});return a.components=s,s}},{key:"render",value:function(){return R("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&cm(e.prototype,n),i}(C))||Sf;u(178);function Af(t){return(Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function pm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kf(t,e){return(kf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function hm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bu(t);if(e){var i=bu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ym(this,n)}}function ym(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bu(t){return(bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Df,vm=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&kf(o,a)})(i,t);var e,n,r=hm(i);function i(){return pm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.background,a=o.image,c=a===void 0?"":a,s=o.color,f=s===void 0?"":s,g=o.repeat,S=g===void 0?"no-repeat":g,j=o.position,N=j===void 0?"center":j,B=o.size,$=B===void 0?"auto auto":B,V=o.opacity,K=V===void 0?1:V;return f?{color:f,opacity:K,image:"none"}:c?{image:"url(".concat(c,")"),repeat:S,position:N,size:$,opacity:K}:{}}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.image,c=o.color,s=o.repeat,f=o.size;return R("div",{className:"lf-background"},R("div",{style:{backgroundImage:a,backgroundColor:c,backgroundRepeat:s,backgroundPosition:o.position,backgroundSize:f,opacity:o.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&dm(e.prototype,n),i}(C);function Tf(t){return(Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mf(t,e){return(Mf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function mm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mu(t);if(e){var i=mu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function mu(t){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Nf=_n(Df=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Mf(o,a)})(i,t);var e,n,r=mm(i);function i(){var o;gm(this,i);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(o=r.call.apply(r,[this].concat(c))).id=to(),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,a=o.config,c=a.color,s=a.thickness,f=s===void 0?2:s,g=o.size,S=o.visible,j=Math.min(Math.max(2,f),g/2),N=1;return S||(N=0),R("rect",{width:j,height:j,rx:j/2,ry:j/2,fill:c,opacity:N})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,c=a.color,s=a.thickness,f=s===void 0?1:s,g=o.size,S=o.visible,j=Math.min(Math.max(1,f),g/2),N=1;return S||(N=0),R("path",{d:"M ".concat(g," 0 H0 M0 0 V0 ").concat(g),stroke:c,strokeWidth:j,opacity:N})}},{key:"render",value:function(){var o=this.props,a=o.type,c=o.size,s=o.graphModel.transformMatrix,f=[s.SCALE_X,s.SKEW_Y,s.SKEW_X,s.SCALE_Y,s.TRANSLATE_X,s.TRANSLATE_Y].join(","),g="matrix(".concat(f,")");return R("div",{className:"lf-grid"},R("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},R("defs",null,R("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:g,x:"0",y:"0",width:c,height:c,style:{transition:"all 0.1s ease"}},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),R("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&bm(e.prototype,n),i}(C))||Df;Nf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},u(44);function Cf(t){return(Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function _m(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var If,io=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=_m(n,2),i=r[0],o=r[1];Cf(o)!=="object"&&(e[i]=o)}),R("line",e)};function Lf(t){return(Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zf(t,e){return(zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Em(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ou(t);if(e){var i=Ou(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sm(this,n)}}function Sm(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ou(t){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Bf,jm=_n(If=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&zf(o,a)})(i,t);var e,n,r=Em(i);function i(){return wm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,c=o.isShowHorizontal,s=o.isShowVertical,f=o.stroke,g=o.strokeWidth,S=a.x,j=S===void 0?0:S,N=a.y,B=N===void 0?0:N,$={x1:j,y1:-1e5,x2:j,y2:1e5,stroke:s?f:"none",strokeWidth:g};return R("g",{className:"lf-snapline"},R(io,{x1:-1e5,y1:B,x2:1e5,y2:B,stroke:c?f:"none",strokeWidth:g}),R(io,$))}}])&&xm(e.prototype,n),i}(C))||If;function Xf(t){return(Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Pm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Hf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lr(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,a=t.className,c=e-r/2,s=n-i/2,f={width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a),x:0,y:0};return Object.entries(t).forEach(function(g){var S=Pm(g,2),j=S[0],N=S[1];Xf(N)!=="object"&&(f[j]=N)}),f.x=c,f.y=s,R("rect",f)}function Ff(t){return(Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uf(t,e){return(Uf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Dm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_u(t);if(e){var i=_u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tm(this,n)}}function Tm(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function _u(t){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}lr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Yf,Mm=_n(Bf=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Uf(o,a)})(i,t);var e,n,r=Dm(i);function i(){return Am(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodeOutline",value:function(){var o=this.props.graphModel,a=o.selectElements,c=o.editConfig,s=c.hoverOutline,f=c.nodeSelectedOutline,g=[];return a.forEach(function(S){if(S.BaseType===vt.NODE){var j=S.isHovered,N=S.isSelected,B=S.x,$=S.y,V=S.width,K=S.height,q=S.hideOutline,te=S.outlineColor,ie=S.hoverOutlineColor,oe=S.outlineStrokeDashArray,Oe=S.hoverOutlineStrokeDashArray;if(!q&&(f||s&&j)){var me=N?te:ie,Ee=N?oe:Oe;g.push(R(lr,{className:"lf-outline-node",x:B,y:$,width:V+10,height:K+10,radius:0,fill:"none",stroke:me,strokeDasharray:Ee}))}}}),g}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,c=o.editConfig.edgeSelectedOutline,s=[],f=0;f<a.length;f++){var g=a[f];!g.hideOutline&&g.isSelected&&c&&(g.modelType===Ie.LINE_EDGE?s.push(this.getLineOutline(g)):g.modelType===Ie.POLYLINE_EDGE?s.push(this.getPolylineOutline(g)):g.modelType===Ie.BEZIER_EDGE&&s.push(this.getBezierOutline(g)))}return s}},{key:"getLineOutline",value:function(o){var a=o.startPoint,c=o.endPoint,s=(a.x+c.x)/2,f=(a.y+c.y)/2,g=Math.abs(a.x-c.x)+10,S=Math.abs(a.y-c.y)+10,j=this.props.graphModel.theme.line;return R(lr,{className:"lf-outline-edge",x:s,y:f,width:g,height:S,radius:0,fill:"none",stroke:j.outlineColor,strokeDasharray:j.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(o){var a=o.points,c=no(a),s=Co(c,8),f=s.x,g=s.y,S=s.width,j=s.height,N=this.props.graphModel.theme.polyline;return R(lr,{className:"lf-outline",x:f,y:g,width:S,height:j,radius:0,fill:"none",stroke:N.outlineColor,strokeDasharray:N.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(o){var a=o.path,c=Ji(a),s=Co(c,8),f=s.x,g=s.y,S=s.width,j=s.height,N=this.props.graphModel.theme.bezier;return R(lr,{className:"lf-outline",x:f,y:g,width:S,height:j,radius:0,fill:"none",stroke:N.outlineColor,strokeDasharray:N.outlineStrokeDashArray})}},{key:"render",value:function(){return R("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&km(e.prototype,n),i}(C))||Bf;function Gf(t){return(Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Nm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Wf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zo(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,a={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach(function(c){var s=Nm(c,2),f=s[0],g=s[1];Gf(g)!=="object"&&(a[f]=g)}),R("circle",a)}function Vf(t){return(Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $f(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Kf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jf(t,e,n){return e&&Zf(t.prototype,e),n&&Zf(t,n),t}function Qf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ep(t,e)}function ep(t,e){return(ep=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function tp(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wu(t);if(e){var i=wu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cm(this,n)}}function Cm(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function wu(t){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var np,rp=function(t){Qf(n,t);var e=tp(n);function n(r){var i;qf(this,n),(i=e.call(this)).dragHandler=void 0,i.onDraging=function(a){var c=a.deltaX,s=a.deltaY,f=i.props,g=f.graphModel,S=f.bezierModel,j=f.type;S.isDragging=!0;var N=g.transformMatrix,B=i.state,$=B.endX,V=B.endY,K=$f(N.moveCanvasPointByHtml([$,V],c,s),2),q=K[0],te=K[1];i.setState({endX:q,endY:te}),S.updateAdjustAnchor({x:q,y:te},j)},i.onDragEnd=function(){var a=i.state,c=a.endX,s=a.endY,f=i.props,g=f.bezierModel,S=f.type;g.updateAdjustAnchor({x:c,y:s},S),g.isDragging=!1},i.dragHandler=Io({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return Jf(n,[{key:"render",value:function(){var r,i,o,a=this.props.position,c=a.x,s=a.y,f=(r=this.props)===null||r===void 0||(i=r.graphModel)===null||i===void 0||(o=i.theme)===null||o===void 0?void 0:o.bezier;return R(zo,{className:"lf-bezier-adjust-anchor",x:c,y:s,r:4,stroke:f.adjustAnchorStroke,fill:f.adjustAnchorFill,fillOpacity:f.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),n}(C),Rm=_n(Yf=function(t){Qf(n,t);var e=tp(n);function n(){return qf(this,n),e.apply(this,arguments)}return Jf(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,a=r.id,c=$f(Ji(o),4),s=c[0],f=c[1],g=c[2],S=c[3],j=i.theme.bezier.adjustLineColor,N=[];return N.push(R(io,{x1:s.x,y1:s.y,x2:f.x,y2:f.y,stroke:j})),N.push(R(rp,{position:f,bezierModel:r,graphModel:i,key:"".concat(a,"_ePre"),type:"sNext"})),N.push(R(io,{x1:S.x,y1:S.y,x2:g.x,y2:g.y,stroke:j})),N.push(R(rp,{position:g,bezierModel:r,graphModel:i,key:"".concat(a,"_sNext"),type:"ePre"})),N}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],a=0;a<i.length;a++){var c=i[a];c.isSelected&&c.modelType===Ie.BEZIER_EDGE&&c.draggable&&o.push(this.getBezierAdjust(c,r))}return o}},{key:"render",value:function(){return R("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(C))||Yf;function op(t){return(op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ip(t,e){return(ip=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function zm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xu(t);if(e){var i=xu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(t,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xu(t){return(xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ap,Xm=_n(np=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ip(o,a)})(i,t);var e,n,r=zm(i);function i(){return Im(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return R("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},R("g",{transform:this.props.graphModel.transformMatrix.getTransformStyle().transform},this.props.children))}}])&&Lm(e.prototype,n),i}(C))||np;function up(t){return(up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cp(){return(cp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sp(t,e){return(sp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Um(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eu(t);if(e){var i=Eu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ym(this,n)}}function Ym(t,e){if(e&&(up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Eu(t){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Gm=_n(ap=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&sp(o,a)})(i,t);var e,n,r=Um(i);function i(){return Hm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getComponent",value:function(o,a,c){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"canvas-overlay",f=this.props.getView,g=f(o.type);return R(g,{key:o.id,model:o,graphModel:a,overlay:s,eventCenter:c})}},{key:"render",value:function(){var o=this,a=this.props,c=a.graphModel,s=a.tool,f=a.options,g=a.eventCenter,S=a.dnd,j=a.snaplineModel,N={};f.width&&(N.width="".concat(f.width,"px")),f.height&&(N.height="".concat(f.height,"px"));var B=c.fakerNode,$=c.editConfig.adjustEdge;return R("div",{className:"lf-graph",style:N},R(am,{graphModel:c,eventCenter:g,dnd:S},R("g",{className:"lf-base"},Bi(c.sortElements,function(V){return o.getComponent(V,c,g)})),B?this.getComponent(B,c,g):""),R(Xm,{graphModel:c},f.hideOutline?"":R(Mm,{graphModel:c}),$?R(Rm,{graphModel:c}):"",f.isSilentMode||f.snapline===!1?"":R(jm,{snaplineModel:j})),R(fm,{graphModel:c,tool:s}),f.background&&R(vm,{background:f.background}),f.grid&&R(Nf,cp({},f.grid,{graphModel:c})))}}])&&Fm(e.prototype,n),i}(C))||ap;function lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lp(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $m=function(){function t(r){var i=this;(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),this.nodeConfig=void 0,this.lf=void 0,this.options=void 0,this.fakerNode=void 0,this.stopDrag=function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)},this.dragEnter=function(c){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(ea(ea({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY}))))},this.onDragOver=function(c){if(c.preventDefault(),i.fakerNode){var s=i.clientToLocalPoint({x:c.clientX,y:c.clientY}),f=s.x,g=s.y;i.fakerNode.moveTo(f,g);var S=i.fakerNode.getData();i.lf.setNodeSnapLine(S),i.lf.eventCenter.emit(Ne.NODE_DND_DRAG,{data:S})}return!1},this.onDragLeave=function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)},this.onDrop=function(c){if(i.lf.graphModel&&c&&i.nodeConfig){var s=i.lf.addNode(ea(ea({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY})));c.preventDefault(),c.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var f=s.getData();i.lf.eventCenter.emit(Ne.NODE_DND_ADD,{data:f})}};var o=r.options,a=r.lf;this.lf=a,this.options=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,a=es(this.lf.options,["grid","size"]),c=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,s=c.x,f=c.y;return{x:Ui(s,a),y:Ui(f,a)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Vm(e.prototype,n),t}();function fp(t){var e=t.container,n=t.grid;if(!e)throw new Error("请检查 container 参数是否有效");return n&&(t.grid=ct({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),ct({},dp,t)}var Ve,pp,dp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function hp(t){return(hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gp(Object(n),!0).forEach(function(r){Km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Km(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mp(t,e,n){return(mp=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=Bo(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Op(t,e){return(Op=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zm(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bo(t);if(e){var i=Bo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jm(this,n)}}function Jm(t,e){if(e&&(hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _p(t)}function _p(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Tn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var he,wp,xp,Ep,Sp,jp,Pp,Ap,kp,Dp,Tp,Mp,Np,Cp,Rp,Ip,Lp,zp,Bp,Xp,Hp,Fp,Up,Yp,Gp,Wp,Vp,Su=(pp=Tn((Ve=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Op(o,a)})(i,t);var e,n,r=Zm(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"bezier")).modelType=Ie.BEZIER_EDGE,c.offset=Xt.bezier.offset,function(s,f,g,S){g&&Object.defineProperty(s,f,{enumerable:g.enumerable,configurable:g.configurable,writable:g.writable,value:g.initializer?g.initializer.call(S):void 0})}(c,"path",pp,_p(c)),c}return e=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(c){var s=c.x,f=c.y;o+=s,a+=f}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=mp(Bo(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){return{x:c.x,y:c.y}});return bp(bp({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint;return ql({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var a=yp(o,4),c=a[0],s=a[1],f=a[2],g=a[3];return"M ".concat(c.x," ").concat(c.y,`
    C `).concat(s.x," ").concat(s.y,`,
    `).concat(f.x," ").concat(f.y,`,
    `).concat(g.x," ").concat(g.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},c=this.getControls(),s=c.sNext,f=c.ePre;this.pointsList=[o,s,f,a],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},c=yp(this.pointsList,3),s=c[1],f=c[2];this.pointsList=[o,s,f,a],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePath()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePath()}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,c=o.endPoint,s=o.sourceNode,f=o.targetNode,g=ql({start:a,end:c,sourceNode:s,targetNode:f,offset:this.offset}),S=g.sNext,j=g.ePre;this.pointsList=[a,S,j,c],this.initPoints()}}])&&qm(e.prototype,n),i}(au)).prototype,"path",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Tn(Ve.prototype,"initPoints",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"initPoints"),Ve.prototype),Tn(Ve.prototype,"updatePoints",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"updatePoints"),Ve.prototype),Tn(Ve.prototype,"updatePath",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"updatePath"),Ve.prototype),Tn(Ve.prototype,"updateStartPoint",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"updateStartPoint"),Ve.prototype),Tn(Ve.prototype,"updateEndPoint",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"updateEndPoint"),Ve.prototype),Tn(Ve.prototype,"updateAdjustAnchor",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"updateAdjustAnchor"),Ve.prototype),Tn(Ve.prototype,"getAdjustStart",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"getAdjustStart"),Ve.prototype),Tn(Ve.prototype,"getAdjustEnd",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"getAdjustEnd"),Ve.prototype),Tn(Ve.prototype,"updateAfterAdjustStartAndEnd",[w.i],Object.getOwnPropertyDescriptor(Ve.prototype,"updateAfterAdjustStartAndEnd"),Ve.prototype),Ve);u(41);function $p(t){return($p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Kp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kp(Object(n),!0).forEach(function(r){qp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zp(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(s,f){if(s){if(typeof s=="string")return Jp(s,f);var g=Object.prototype.toString.call(s).slice(8,-1);if(g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set")return Array.from(s);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Jp(s,f)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var s=n.next();return a=s.done,s},e:function(s){c=!0,o=s},f:function(){try{a||n.return==null||n.return()}finally{if(c)throw o}}}}function Jp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Je(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var On,Qp,mt=ct({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},hideOutline:!1},Xt.rect,Xt.circle),Fn=(wp=Me((he=function(){function t(r,i,o){(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=to(),this.BaseType=vt.NODE,this.modelType=Ie.NODE,this.additionStateData=void 0,this.targetRules=[],this.sourceRules=[],this.moveRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,Je(this,"properties",wp,this),Je(this,"type",xp,this),Je(this,"x",Ep,this),Je(this,"y",Sp,this),Je(this,"_width",jp,this),this.graphModel=void 0,Je(this,"_height",Pp,this),Je(this,"fill",Ap,this),Je(this,"fillOpacity",kp,this),Je(this,"strokeWidth",Dp,this),Je(this,"stroke",Tp,this),Je(this,"strokeOpacity",Mp,this),Je(this,"opacity",Np,this),Je(this,"outlineColor",Cp,this),Je(this,"hideOutline",Rp,this),Je(this,"hoverOutlineColor",Ip,this),Je(this,"outlineStrokeDashArray",Lp,this),Je(this,"hoverOutlineStrokeDashArray",zp,this),Je(this,"isSelected",Bp,this),Je(this,"isHovered",Xp,this),Je(this,"isDragging",Hp,this),Je(this,"isHitable",Fp,this),Je(this,"zIndex",Up,this),Je(this,"anchorsOffset",Yp,this),Je(this,"state",Gp,this),Je(this,"text",Wp,this),Je(this,"draggable",Vp,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initNodeData(r),this.setAttributes()}var e,n;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var a=this.createId();a&&(r.id=a)}this.formatText(r),ct(this,function(c){return An(c,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===kn.INCREASE&&(this.zIndex=r.zIndex||ou())}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,c=this.properties;Object(w.v)(c)&&(c=Object(w.G)(c));var s={id:this.id,type:this.type,x:this.x,y:this.y,properties:c};return this.graphModel.overlapMode===kn.INCREASE&&(s.zIndex=this.zIndex),a&&(s.text={x:i,y:o,value:a}),s}},{key:"getProperties",value:function(){return Object(w.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var c,s=!0,f=0;f<a.length;f++){var g=a[f];if(!g.validate.call(this,this,r,i,o)){s=!1,c=g.message;break}}return{isAllPass:s,msg:c}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var c,s=!0,f=0;f<a.length;f++){var g=a[f];if(!g.validate.call(this,r,this,i,o)){s=!1,c=g.message;break}}return{isAllPass:s,msg:c}}},{key:"isAllowMoveNode",value:function(r,i){var o,a=Zp(this.moveRules);try{for(a.s();!(o=a.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(f){a.e(f)}finally{a.f()}var c,s=Zp(this.graphModel.nodeMoveRules);try{for(s.s();!(c=s.n()).done;)if(!(0,c.value)(this,r,i))return!1}catch(f){s.e(f)}finally{s.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.x,o=this.y,a=this.id;return r.map(function(c,s){return c.length?{id:"".concat(a,"_").concat(s),x:i+c[0],y:o+c[1]}:fr(fr({},c),{},{x:i+c.x,y:o+c.y,id:c.id||"".concat(a,"_").concat(s)})})}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.anchorsOffset;return r&&r.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o||this.isAllowMoveNode(r,i)){var a=this.x+r,c=this.y+i;this.x=a,this.y=c,this.text&&this.moveText(r,i)}}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=r-this.x,c=i-this.y;(o||this.isAllowMoveNode(a,c))&&(this.text&&this.text&&this.moveText(a,c),this.x=r,this.y=i)}},{key:"moveText",value:function(r,i){var o=this.text,a=o.x,c=o.y,s=o.value,f=o.draggable,g=o.editable;this.text={value:s,editable:g,draggable:f,x:a+r,y:c+i}}},{key:"updateText",value:function(r){this.text.value=r}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateData",value:function(r){var i=an(An(r,"type","x","y","text","properties")),o=this.text,a=o.x,c=o.y,s=o.draggable,f=o.editable;if(i.text&&typeof i.text=="string")i.text={x:a,y:c,value:i.text,draggable:s,editable:f};else if($p(i.text)==="object"){var g=fr(fr({},this.text),i.text);i.text=An(g,"x","y","value","draggable","editable")}ct(this,i)}},{key:"setProperty",value:function(r,i){this.properties=fr(fr({},this.properties),{},qp({},r,an(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=fr(fr({},this.properties),an(r)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&ct(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mt.zIndex;this.zIndex=r}},{key:"updateAttributes",value:function(r){ct(this,r)}}])&&Qm(e.prototype,n),t}()).prototype,"properties",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xp=Me(he.prototype,"type",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ep=Me(he.prototype,"x",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.x}}),Sp=Me(he.prototype,"y",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.y}}),jp=Me(he.prototype,"_width",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.width}}),Pp=Me(he.prototype,"_height",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.height}}),Ap=Me(he.prototype,"fill",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.fill}}),kp=Me(he.prototype,"fillOpacity",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.fillOpacity}}),Dp=Me(he.prototype,"strokeWidth",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.strokeWidth}}),Tp=Me(he.prototype,"stroke",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.stroke}}),Mp=Me(he.prototype,"strokeOpacity",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.strokeOpacity}}),Np=Me(he.prototype,"opacity",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.opacity}}),Cp=Me(he.prototype,"outlineColor",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.outlineColor}}),Rp=Me(he.prototype,"hideOutline",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.hideOutline}}),Ip=Me(he.prototype,"hoverOutlineColor",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.hoverOutlineColor}}),Lp=Me(he.prototype,"outlineStrokeDashArray",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.outlineStrokeDashArray}}),zp=Me(he.prototype,"hoverOutlineStrokeDashArray",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.hoverOutlineStrokeDashArray}}),Bp=Me(he.prototype,"isSelected",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xp=Me(he.prototype,"isHovered",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hp=Me(he.prototype,"isDragging",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fp=Me(he.prototype,"isHitable",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Up=Me(he.prototype,"zIndex",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.zIndex}}),Yp=Me(he.prototype,"anchorsOffset",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gp=Me(he.prototype,"state",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Wp=Me(he.prototype,"text",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.text}}),Vp=Me(he.prototype,"draggable",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Me(he.prototype,"addNodeMoveRules",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"addNodeMoveRules"),he.prototype),Me(he.prototype,"move",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"move"),he.prototype),Me(he.prototype,"moveTo",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"moveTo"),he.prototype),Me(he.prototype,"moveText",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"moveText"),he.prototype),Me(he.prototype,"updateText",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"updateText"),he.prototype),Me(he.prototype,"setSelected",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setSelected"),he.prototype),Me(he.prototype,"setHovered",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setHovered"),he.prototype),Me(he.prototype,"setHitable",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setHitable"),he.prototype),Me(he.prototype,"setElementState",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setElementState"),he.prototype),Me(he.prototype,"updateStroke",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"updateStroke"),he.prototype),Me(he.prototype,"updateData",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"updateData"),he.prototype),Me(he.prototype,"setProperty",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setProperty"),he.prototype),Me(he.prototype,"setProperties",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setProperties"),he.prototype),Me(he.prototype,"setStyleFromTheme",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setStyleFromTheme"),he.prototype),Me(he.prototype,"setZIndex",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"setZIndex"),he.prototype),Me(he.prototype,"updateAttributes",[w.i],Object.getOwnPropertyDescriptor(he.prototype,"updateAttributes"),he.prototype),he);function ed(t){return(ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function e0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function td(t,e){return(td=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function t0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ju(t);if(e){var i=ju(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n0(this,n)}}function n0(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nd(t)}function nd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ju(t){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ta(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ot,rd,od,Pu=(Qp=ta((On=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&td(o,a)})(i,t);var e,n,r=t0(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"circle")).modelType=Ie.CIRCLE_NODE,function(s,f,g,S){g&&Object.defineProperty(s,f,{enumerable:g.enumerable,configurable:g.configurable,writable:g.writable,value:g.initializer?g.initializer.call(S):void 0})}(c,"r",Qp,nd(c)),c}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,s=this.r;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-s,id:"".concat(this.id,"_0")},{x:a+s,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+s,id:"".concat(this.id,"_2")},{x:a-s,y:c,id:"".concat(this.id,"_3")}]}}])&&e0(e.prototype,n),i}(Fn)).prototype,"r",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.circle.r}}),ta(On.prototype,"width",[w.k],Object.getOwnPropertyDescriptor(On.prototype,"width"),On.prototype),ta(On.prototype,"height",[w.k],Object.getOwnPropertyDescriptor(On.prototype,"height"),On.prototype),ta(On.prototype,"anchors",[w.k],Object.getOwnPropertyDescriptor(On.prototype,"anchors"),On.prototype),On);u(103);function id(t){return(id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Au(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ad(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ad(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ad(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ud(Object(n),!0).forEach(function(r){r0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ld(t,e,n){return(ld=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=Xo(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function fd(t,e){return(fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function i0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xo(t);if(e){var i=Xo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a0(this,n)}}function a0(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ku(t)}function ku(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xo(t){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ar(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var un,pd,dd,Du=(rd=Ar((Ot=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&fd(o,a)})(i,t);var e,n,r=i0(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"diamond")).modelType=Ie.DIAMOND_NODE,sd(c,"rx",rd,ku(c)),sd(c,"ry",od,ku(c)),c}return e=i,(n=[{key:"getData",value:function(){var o=this.rx,a=this.ry;return cd(cd({},ld(Xo(i.prototype),"getData",this).call(this)),{},{rx:o,ry:a})}},{key:"points",get:function(){var o=this.x,a=this.y,c=this.rx,s=this.ry;return[[o,a-s],[o+c,a],[o,a+s],[o-c,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var s=Au(c,1)[0];s<o&&(o=s),s>a&&(a=s)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var s=Au(c,2)[1];s<o&&(o=s),s>a&&(a=s)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,c=this.points;return a&&a.length>0?this.getAnchorsByOffset():c.map(function(s,f){var g=Au(s,2);return{x:g[0],y:g[1],id:"".concat(o.id,"_").concat(f)}})}}])&&o0(e.prototype,n),i}(Fn)).prototype,"rx",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),od=Ar(Ot.prototype,"ry",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar(Ot.prototype,"points",[w.k],Object.getOwnPropertyDescriptor(Ot.prototype,"points"),Ot.prototype),Ar(Ot.prototype,"pointsPosition",[w.k],Object.getOwnPropertyDescriptor(Ot.prototype,"pointsPosition"),Ot.prototype),Ar(Ot.prototype,"width",[w.k],Object.getOwnPropertyDescriptor(Ot.prototype,"width"),Ot.prototype),Ar(Ot.prototype,"height",[w.k],Object.getOwnPropertyDescriptor(Ot.prototype,"height"),Ot.prototype),Ar(Ot.prototype,"anchors",[w.k],Object.getOwnPropertyDescriptor(Ot.prototype,"anchors"),Ot.prototype),Ot);function hd(t){return(hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function u0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vd(t,e){return(vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function c0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mu(t);if(e){var i=Mu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tu(t)}function Tu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mu(t){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ho(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ht,gd,Nu=(pd=Ho((un=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&vd(o,a)})(i,t);var e,n,r=c0(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"ellipse")).modelType=Ie.ELLIPSE_NODE,yd(c,"rx",pd,Tu(c)),yd(c,"ry",dd,Tu(c)),c}return e=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,s=this.rx,f=this.ry;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-f,id:"".concat(this.id,"_0")},{x:a+s,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+f,id:"".concat(this.id,"_2")},{x:a-s,y:c,id:"".concat(this.id,"_3")}]}}])&&u0(e.prototype,n),i}(Fn)).prototype,"rx",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.ellipse.rx}}),dd=Ho(un.prototype,"ry",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.ellipse.ry}}),Ho(un.prototype,"width",[w.k],Object.getOwnPropertyDescriptor(un.prototype,"width"),un.prototype),Ho(un.prototype,"height",[w.k],Object.getOwnPropertyDescriptor(un.prototype,"height"),un.prototype),Ho(un.prototype,"anchors",[w.k],Object.getOwnPropertyDescriptor(un.prototype,"anchors"),un.prototype),un);function bd(t){return(bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return md(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return md(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function md(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Od(t,e){return(Od=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function f0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ru(t);if(e){var i=Ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _d(t)}function _d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ru(t){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Fo(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Uo,wd,Iu=(gd=Fo((Ht=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Od(o,a)})(i,t);var e,n,r=f0(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"polygon")).modelType=Ie.POLYGON_NODE,function(s,f,g,S){g&&Object.defineProperty(s,f,{enumerable:g.enumerable,configurable:g.configurable,writable:g.writable,value:g.initializer?g.initializer.call(S):void 0})}(c,"points",gd,_d(c)),c}return e=i,(n=[{key:"pointsPosition",get:function(){var o=this.x,a=this.y,c=this.width,s=this.height;return this.points.map(function(f){return{x:f[0]+o-c/2,y:f[1]+a-s/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var s=Cu(c,1)[0];s<o&&(o=s),s>a&&(a=s)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var s=Cu(c,2)[1];s<o&&(o=s),s>a&&(a=s)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,c=this.x,s=this.y,f=this.width,g=this.height,S=this.points;return a&&a.length>0?this.getAnchorsByOffset():S.map(function(j,N){var B=Cu(j,2),$=B[0],V=B[1];return{x:c+$-f/2,y:s+V-g/2,id:"".concat(o.id,"_").concat(N)}})}}])&&l0(e.prototype,n),i}(Fn)).prototype,"points",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Fo(Ht.prototype,"pointsPosition",[w.k],Object.getOwnPropertyDescriptor(Ht.prototype,"pointsPosition"),Ht.prototype),Fo(Ht.prototype,"width",[w.k],Object.getOwnPropertyDescriptor(Ht.prototype,"width"),Ht.prototype),Fo(Ht.prototype,"height",[w.k],Object.getOwnPropertyDescriptor(Ht.prototype,"height"),Ht.prototype),Fo(Ht.prototype,"anchors",[w.k],Object.getOwnPropertyDescriptor(Ht.prototype,"anchors"),Ht.prototype),Ht);function xd(t){return(xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function d0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ed(t,e){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function h0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Lu(t);if(e){var i=Lu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y0(this,n)}}function y0(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sd(t)}function Sd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function jd(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Mn,Pd,Ad,kd,zu=(wd=jd((Uo=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ed(o,a)})(i,t);var e,n,r=h0(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"rect")).modelType=Ie.RECT_NODE,function(s,f,g,S){g&&Object.defineProperty(s,f,{enumerable:g.enumerable,configurable:g.configurable,writable:g.writable,value:g.initializer?g.initializer.call(S):void 0})}(c,"radius",wd,Sd(c)),c}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,s=this.width,f=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-f/2,id:"".concat(this.id,"_0")},{x:a+s/2,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+f/2,id:"".concat(this.id,"_2")},{x:a-s/2,y:c,id:"".concat(this.id,"_3")}]}}])&&d0(e.prototype,n),i}(Fn)).prototype,"radius",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.rect.radius}}),jd(Uo.prototype,"anchors",[w.k],Object.getOwnPropertyDescriptor(Uo.prototype,"anchors"),Uo.prototype),Uo);function Dd(t){return(Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Bu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Td(t,e){return(Td=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function g0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xu(t);if(e){var i=Xu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return na(t)}function na(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xu(t){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Yo(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ra,Hu=(Pd=Yo((Mn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Td(o,a)})(i,t);var e,n,r=g0(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"text")).modelType=Ie.TEXT_NODE,Bu(c,"fontSize",Pd,na(c)),Bu(c,"fontFamily",Ad,na(c)),Bu(c,"fontWeight",kd,na(c)),c}return e=i,(n=[{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Gi({rows:o,fontSize:this.fontSize,rowsLength:o.length}).width;return a>100?a:100}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Gi({rows:o,fontSize:this.fontSize,rowsLength:o.length}).height;return a>20?a:20}}])&&v0(e.prototype,n),i}(Fn)).prototype,"fontSize",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.text.fontSize}}),Ad=Yo(Mn.prototype,"fontFamily",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.text.fontFamily}}),kd=Yo(Mn.prototype,"fontWeight",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.text.fontWeight}}),Yo(Mn.prototype,"width",[w.k],Object.getOwnPropertyDescriptor(Mn.prototype,"width"),Mn.prototype),Yo(Mn.prototype,"height",[w.k],Object.getOwnPropertyDescriptor(Mn.prototype,"height"),Mn.prototype),Mn);function Md(t){return(Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function m0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nd(t,e){return(Nd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function O0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fu(t);if(e){var i=Fu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _0(this,n)}}function _0(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fu(t){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var kt,Cd,Rd,Id,Uu=(function(t,e,n,r,i){var o={};Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null)}((ra=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Nd(o,a)})(i,t);var e,n,r=O0(i);function i(o,a){var c;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,i),(c=r.call(this,o,a,"html")).modelType=Ie.HTML_NODE,c}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,s=this.width,f=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-f/2,id:"".concat(this.id,"_0")},{x:a+s/2,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+f/2,id:"".concat(this.id,"_2")},{x:a-s/2,y:c,id:"".concat(this.id,"_3")}]}}])&&m0(e.prototype,n),i}(Fn)).prototype,"anchors",[w.k],Object.getOwnPropertyDescriptor(ra.prototype,"anchors"),ra.prototype),ra);function Yu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ld=Xt.snapline,zd=(Cd=kr((kt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.graphModel=void 0,Yu(this,"isShowHorizontal",Cd,this),Yu(this,"isShowVertical",Rd,this),Yu(this,"position",Id,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||Ld.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||Ld.strokeWidth}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,a=r.y,c=!1,s=!1,f=0;f<i.length;f++){var g=i[f];if(g.id!==r.id&&(o===g.x&&(c=!0),a===g.y&&(s=!0),c&&s))break}return{isShowVertical:c,isShowHorizontal:s,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,a,c=!1,s=r.id;if(s){var f=this.graphModel.fakerNode;if(f&&f.id===s)a=Zt(f);else{var g=this.graphModel.getNodeModel(s);a=Zt(g)}}for(var S=0;S<i.length;S++){var j=i[S];if(j.id!==r.id){var N=Zt(j);if(N.minY===a.minY||N.maxY===a.minY){c=!0,o=a.minY;break}if(N.minY===a.maxY||N.maxY===a.maxY){c=!0,o=a.maxY;break}}}return ct({isShowHorizontal:c,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,a,c=!1,s=r.id;if(s){var f=this.graphModel.fakerNode;if(f&&f.id===s)a=Zt(f);else{var g=this.graphModel.getNodeModel(s);a=Zt(g)}}for(var S=0;S<i.length;S++){var j=i[S];if(j.id!==r.id){var N=Zt(j);if(N.minX===a.minX||N.maxX===a.minX){c=!0,o=a.minX;break}if(N.minX===a.maxX||N.maxX===a.maxX){c=!0,o=a.maxX;break}}}return ct({isShowVertical:c,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),a=o.isShowHorizontal,c=o.isShowVertical;if(!a){var s=this.getHorizontalSnapline(r,i);s.isShowHorizontal&&(o.isShowHorizontal=s.isShowHorizontal,o.position.y=s.position.y)}if(!c){var f=this.getVerticalSnapline(r,i);f.isShowVertical&&(o.isShowVertical=f.isShowVertical,o.position.x=f.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,a=r.position;this.position=a,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&w0(e.prototype,n),t}()).prototype,"isShowHorizontal",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rd=kr(kt.prototype,"isShowVertical",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Id=kr(kt.prototype,"position",[w.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr(kt.prototype,"stroke",[w.k],Object.getOwnPropertyDescriptor(kt.prototype,"stroke"),kt.prototype),kr(kt.prototype,"strokeWidth",[w.k],Object.getOwnPropertyDescriptor(kt.prototype,"strokeWidth"),kt.prototype),kr(kt.prototype,"clearSnapline",[w.i],Object.getOwnPropertyDescriptor(kt.prototype,"clearSnapline"),kt.prototype),kr(kt.prototype,"setNodeSnapLine",[w.i],Object.getOwnPropertyDescriptor(kt.prototype,"setNodeSnapLine"),kt.prototype),kt);function Bd(t){return(Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oa(){return(oa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function x0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Xd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hd(t,e){return(Hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function S0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gu(t);if(e){var i=Gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j0(this,n)}}function j0(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var P0=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Hd(o,a)})(i,t);var e,n,r=S0(i);function i(){var o;return function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).preTargetNode=void 0,o.dragHandler=void 0,o.sourceRuleResults=void 0,o.targetRuleResults=void 0,o.onDragStart=function(){var a=o.props,c=a.x,s=a.y,f=a.nodeModel,g=a.graphModel,S=g.overlapMode;g.selectNodeById(f.id),S!==kn.INCREASE&&g.toFront(f.id),o.setState({startX:c,startY:s,endX:c,endY:s})},o.onDraging=function(a){var c=a.deltaX,s=a.deltaY,f=o.state,g=f.endX,S=f.endY,j=o.props,N=j.graphModel,B=j.nodeModel,$=N.transformMatrix,V=N.nodes,K=x0($.moveCanvasPointByHtml([g,S],c,s),2),q=K[0],te=K[1];o.setState({endX:q,endY:te,draging:!0});var ie=Yi({x:g,y:S},V);if(ie){var oe=ie.node;o.preTargetNode=oe;var Oe=ie.anchor.id,me="".concat(oe.id,"_").concat(Oe);if(!o.targetRuleResults.has(me)){var Ee=o.props.anchorData,Ye=ie.anchor,Ke=B.isAllowConnectedAsSource(oe,Ee,Ye),Nt=oe.isAllowConnectedAsTarget(B,Ee,Ye);o.sourceRuleResults.set(oe.id,Pl(Ke)),o.targetRuleResults.set(me,Pl(Nt))}var wn=o.sourceRuleResults.get(oe.id).isAllPass,Qt=o.targetRuleResults.get(me).isAllPass;wn&&Qt?oe.setElementState($e.ALLOW_CONNECT):oe.setElementState($e.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT)},o.onDragEnd=function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear()},o.checkEnd=function(){var a=o.props,c=a.graphModel,s=a.nodeModel,f=a.x,g=a.y,S=a.eventCenter,j=a.id,N=c.nodes,B=c.edgeType,$=o.state,V=$.endX,K=$.endY,q=$.draging,te=Yi({x:V,y:K},N);if(o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT),q&&te&&te.node){var ie=te.node,oe=o.sourceRuleResults.get(ie.id)||{},Oe=oe.isAllPass,me=oe.msg,Ee=te.anchor.id,Ye="".concat(ie.id,"_").concat(Ee),Ke=o.targetRuleResults.get(Ye)||{},Nt=Ke.isAllPass,wn=Ke.msg;if(Oe&&Nt)ie.setElementState($e.ALLOW_CONNECT),f===te.anchor.x&&g===te.anchor.y||c.createEdge({type:B,sourceNodeId:s.id,sourceAnchorId:j,startPoint:{x:f,y:g},targetNodeId:te.node.id,targetAnchorId:te.anchor.id,endPoint:{x:te.anchor.x,y:te.anchor.y}});else{var Qt=ie.getData();S.emit(Ne.CONNECTION_NOT_ALLOWED,{data:Qt,msg:wn||me})}}},o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=Io({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"isShowLine",value:function(){var o=this.state,a=o.startX,c=o.startY,s=o.endX,f=o.endY;return Dn(a,c,s,f)>10}},{key:"render",value:function(){var o=this.state,a=o.startX,c=o.startY,s=o.endX,f=o.endY,g=this.props,S=g.x,j=g.y,N=g.style,B=g.edgeStyle;return R("g",{className:"lf-anchor"},R(zo,oa({className:"lf-node-anchor-hover",x:S,y:j},g.hoverStyle,{onMouseDown:this.dragHandler})),R(zo,oa({className:"lf-node-anchor",x:S,y:j},N,{onMouseDown:this.dragHandler})),this.isShowLine()&&R(io,oa({x1:a,y1:c,x2:s,y2:f,"pointer-events":"none"},B)))}}])&&E0(e.prototype,n),i}(C);function Fd(t){return(Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function A0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ud(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ud(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ud(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wu(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,a=t.fontSize,c=t.fill,s=c===void 0?"currentColor":c,f=t.model,g=t.autoWrap,S=g!==void 0&&g,j=t.overflowMode,N=j===void 0?"default":j,B={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:s};if(Object.entries(t).forEach(function(oe){var Oe=A0(oe,2),me=Oe[0],Ee=Oe[1];Fd(Ee)!=="object"&&(B[me]=Ee)}),S&&(N="autoWrap"),o){var $=String(o).split(/[\r\n]/g),V=$.length;if(N!=="default"){var K=f.BaseType,q=f.textWidth,te=f.modelType;if(K===vt.NODE&&te!==Ie.TEXT_NODE||K===vt.EDGE&&q)return function(oe,Oe){oe.x,oe.y;var me=oe.value,Ee=oe.color,Ye=Ee===void 0?"#000000":Ee,Ke=oe.fontSize,Nt=oe.model,wn=oe.fontFamily,Qt=wn===void 0?"":wn,Zo=oe.lineHeight,Jo=oe.wrapPadding,sa=Jo===void 0?"0, 0":Jo,xc=oe.overflowMode,la=Nt.width,X_=Nt.textWidth,Ly=Nt.textHeight,fa=X_||la,Ec=String(me).split(/[\r\n]/g),H_=Ec.length,zy=jl({rows:Ec,style:{fontSize:"".concat(Ke,"px"),width:"".concat(fa,"px"),fontFamily:Qt,lineHeight:Zo,padding:sa},rowsLength:H_,className:"lf-get-text-height"}),pa=Nt.height>zy?Nt.height:zy;Ly&&(pa=Ly);var F_=xc==="ellipsis";return R("g",null,R("foreignObject",{width:fa,height:pa,x:Oe.x-fa/2,y:Oe.y-pa/2},R("div",{className:"lf-node-text-auto-wrap",style:{minHeight:pa,width:fa,color:Ye,padding:sa}},R("div",{className:F_?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:{fontSize:Ke,fontFamily:Qt,lineHeight:Zo}},Ec.map(function(U_){return R("div",{className:"lf-node-text--auto-wrap-inner"},U_)})))))}(t,B)}if(V>1){var ie=$.map(function(oe,Oe){return R("tspan",{className:"lf-text-tspan",x:n,y:i+(Oe-(V-1)/2)*(a+2)},oe)});return R("text",B,ie)}return R("text",B,o)}}function Yd(t){return(Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Gd(){return(Gd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function k0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Wd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vd(t,e){return(Vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function T0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vu(t);if(e){var i=Vu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M0(this,n)}}function M0(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Vu(t){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var $d=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Vd(o,a)})(i,t);var e,n,r=T0(i);function i(o){var a;(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,i),(a=r.call(this)).dragHandler=void 0,a.sumDeltaX=0,a.sumDeltaY=0,a.stepDrag=void 0,a.onDraging=function(f){var g=f.deltaX,S=f.deltaY,j=a.props,N=j.model,B=k0(j.graphModel.transformMatrix.fixDeltaXY(g,S),2),$=B[0],V=B[1];N.moveText($,V)},a.dblClickHandler=function(){a.props.editable&&a.props.model.setElementState($e.TEXT_EDIT)},a.mouseDownHandle=function(f){var g=a.props,S=g.draggable,j=g.graphModel.editConfig.nodeTextDraggable;(S||j)&&a.stepDrag.handleMouseDown(f)};var c=o.model,s=o.draggable;return a.stepDrag=new Lo({onDraging:a.onDraging,step:1,model:c,isStopPropagation:s}),a}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,a=o.model,c=o.style,s=a.text,f=s.value;return R(Wu,Gd({},{x:s.x,y:s.y,className:"lf-element-text",value:f},c,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return R("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&D0(e.prototype,n),i}(C),N0=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Kd(t){return(Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qd(){return(qd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zd(Object(n),!0).forEach(function(r){C0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Jd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eh(t,e){return(eh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function I0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$u(t);if(e){var i=$u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L0(this,n)}}function L0(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $u(t){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Un=function(t){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&eh(a,c)})(o,t);var e,n,r,i=I0(o);function o(a){var c;(function(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")})(this,o),(c=i.call(this)).stepDrag=void 0,c.contextMenuTime=void 0,c.startTime=void 0,c.clickTimer=void 0,c.onDraging=function(S){var j=S.deltaX,N=S.deltaY,B=c.props,$=B.model,V=B.graphModel;$.isDragging=!0;var K=R0(V.transformMatrix.fixDeltaXY(j,N),2),q=K[0],te=K[1];V.moveNode($.id,q,te)},c.onDragEnd=function(){c.props.model.isDragging=!1},c.handleClick=function(S){if(c.startTime&&!(new Date().getTime()-c.startTime>200)){var j=c.props,N=j.model,B=j.eventCenter,$=j.graphModel,V={data:N.getData(),e:S,position:$.getPointByClient({x:S.clientX,y:S.clientY})},K=S.button===2,q=S.detail===2;if(!K){var te=$.editConfig;$.selectNodeById(N.id,function(ie,oe){var Oe=oe.multipleSelectKey;if(oe.metaKeyMultipleSelected&&ie.metaKey)return!0;var me=!1;switch(Oe){case"meta":me=ie.metaKey;break;case"alt":me=ie.altKey;break;case"shift":me=ie.shiftKey;break;default:me=!1}return me}(S,te)),c.toFront(),q?(te.nodeTextEdit&&N.text.editable&&(N.setSelected(!1),$.setElementStateById(N.id,$e.TEXT_EDIT)),B.emit(Ne.NODE_DBCLICK,V)):(B.emit(Ne.ELEMENT_CLICK,V),B.emit(Ne.NODE_CLICK,V))}}},c.handleContextMenu=function(S){S.preventDefault();var j=c.props,N=j.model,B=j.eventCenter,$=j.graphModel,V=N.getData(),K=$.getPointByClient({x:S.clientX,y:S.clientY});$.setElementStateById(N.id,$e.SHOW_MENU,K.domOverlayPosition),$.selectNodeById(N.id),B.emit(Ne.NODE_CONTEXTMENU,{data:V,e:S,position:K}),c.toFront()},c.handleMouseDown=function(S){var j=c.props,N=j.model,B=j.graphModel;c.toFront(),c.startTime=new Date().getTime(),B.editConfig.adjustNodePosition&&N.draggable&&c.stepDrag&&c.stepDrag.handleMouseDown(S)},c.setHoverON=function(S){if(!c.state.isHovered){c.setState({isHovered:!0});var j=c.props,N=j.model,B=j.eventCenter,$=N.getData();N.setHovered(!0),B.emit(Ne.NODE_MOUSEENTER,{data:$,e:S})}},c.setHoverOFF=function(S){c.setState({isHovered:!1});var j=c.props,N=j.model,B=j.eventCenter,$=N.getData();N.setHovered(!1),B.emit(Ne.NODE_MOUSELEAVE,{data:$,e:S})},c.onMouseOut=function(S){N0&&c.setHoverOFF(S)};var s=a.graphModel.gridSize,f=a.eventCenter,g=a.model;return c.stepDrag=new Lo({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:s,eventType:"NODE",eventCenter:f,model:g}),c.state={isHovered:!1},c}return e=o,r=[{key:"getModel",value:function(a){return a}}],(n=[{key:"getShapeStyle",value:function(){var a=this.props.model;return{width:a.width,height:a.height,fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,opacity:a.opacity,outlineColor:a.outlineColor}}},{key:"getAttributes",value:function(){var a=this.props.model,c=a.id,s=a.properties,f=s===void 0?{}:s,g=a.type,S=a.x,j=a.y,N=a.isSelected,B=a.isHovered,$=a.text,V=this.getShapeStyle();return Dr({id:c,properties:Dr({},f),type:g,x:S,y:j,isSelected:N,isHovered:B,text:Dr({},$)},V)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return Dr({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return Dr({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return Dr({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var a=this,c=this.props,s=c.model,f=c.graphModel,g=c.eventCenter,S=s.isSelected,j=s.isHitable,N=s.isDragging,B=this.state.isHovered;if(j&&(S||B)){var $=this.getAnchorStyle(),V=this.getAnchorHoverStyle(),K=this.getNewEdgeStyle();return Bi(s.anchors,function(q,te){return R(P0,qd({},q,{anchorData:q,nodeDraging:N,style:$,hoverStyle:V,edgeStyle:K,anchorIndex:te,nodeModel:s,eventCenter:g,graphModel:f,setHoverOFF:a.setHoverOFF}))})}return[]}},{key:"getTextStyle",value:function(){return Dr({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var a=this.props,c=a.model,s=a.graphModel;if(c.state===$e.TEXT_EDIT)return"";var f=this.getTextStyle();if(c.text){var g=s.editConfig,S=!1;return(c.text.draggable||g.nodeTextDraggable)&&(S=!0),R($d,{editable:g.nodeTextEdit&&c.text.editable,style:f,model:c,graphModel:s,draggable:S})}}},{key:"getStateClassName",value:function(){var a=this.props.model,c=a.state,s=a.isDraging,f="lf-node";switch(c){case $e.ALLOW_CONNECT:f+=" lf-node-allow";break;case $e.NOT_ALLOW_CONNECT:f+=" lf-node-not-allow";break;default:f+=" lf-node-default"}return s&&(f+=" lf-isDragging"),f}},{key:"toFront",value:function(){var a=this.props,c=a.model,s=a.graphModel;s.overlapMode!==kn.INCREASE&&s.toFront(c.id)}},{key:"render",value:function(){var a,c=this.props,s=c.model,f=c.graphModel,g=f.editConfig,S=g.hideAnchors,j=g.adjustNodePosition,N=f.gridSize,B=f.transformMatrix.SCALE_X,$=s.isHitable,V=s.draggable,K=R("g",{className:"lf-node-content"},this.getShape(),this.getText(),S?null:this.getAnchors());return $?(j&&V&&this.stepDrag.setStep(N*B),a=R("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},K)):a=R("g",{className:this.getStateClassName()},K),a}}])&&Qd(e.prototype,n),r&&Qd(e,r),o}(C);function th(t){return(th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nh(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ku(t,e,n){return(Ku=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=ao(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function rh(t,e){return(rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function H0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ao(t);if(e){var i=ao(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F0(this,n)}}function F0(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qu=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&rh(o,a)})(i,t);var e,n,r=H0(i);function i(){return B0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Ku(ao(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.radius;return ia(ia({},o),{},{radius:a})}},{key:"getAttributes",value:function(){var o=Ku(ao(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return ia(ia({},o),a)}},{key:"getShape",value:function(){return R(lr,this.getAttributes())}}])&&X0(e.prototype,n),i}(Un);function oh(t){return(oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ih(Object(n),!0).forEach(function(r){U0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zu(t,e,n){return(Zu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=uo(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function ah(t,e){return(ah=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function W0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uo(t);if(e){var i=uo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return V0(this,n)}}function V0(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function uo(t){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ju=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ah(o,a)})(i,t);var e,n,r=W0(i);function i(){return Y0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Zu(uo(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.r;return aa(aa({},o),{},{r:a})}},{key:"getAttributes",value:function(){var o=Zu(uo(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return aa(aa({},o),a)}},{key:"getShape",value:function(){return R(zo,this.getAttributes())}}])&&G0(e.prototype,n),i}(Un);function uh(t){return(uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ch(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ch(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sh(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(t).forEach(function(i){var o=$0(i,2),a=o[0],c=o[1];uh(c)!=="object"&&(r[a]=c)}),r.points=e.map(function(i){return i.join(",")}).join(" "),R("polygon",r)}function lh(t){return(lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fh(Object(n),!0).forEach(function(r){K0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qu(t,e,n){return(Qu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=co(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function ph(t,e){return(ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function J0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=co(t);if(e){var i=co(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q0(this,n)}}function Q0(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ec=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ph(o,a)})(i,t);var e,n,r=J0(i);function i(){return q0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Qu(co(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.points;return ua(ua({},o),{},{points:a})}},{key:"getAttributes",value:function(){var o=Qu(co(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return ua(ua({},o),a)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.width,c=o.height,s=o.x,f=o.y;return R("g",{transform:"matrix(1 0 0 1 ".concat(s-a/2," ").concat(f-c/2,")")},R(sh,o))}}])&&Z0(e.prototype,n),i}(Un);function dh(t){return(dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hh(Object(n),!0).forEach(function(r){eO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tc(t,e,n){return(tc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=so(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function yh(t,e){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function rO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=so(t);if(e){var i=so(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oO(this,n)}}function oO(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var nc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&yh(o,a)})(i,t);var e,n,r=rO(i);function i(){return tO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=this.props.model.points;return ca(ca({},tc(so(i.prototype),"getShapeStyle",this).call(this)),{},{points:o})}},{key:"getAttributes",value:function(){var o=tc(so(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return ca(ca({},o),a)}},{key:"getShape",value:function(){var o=this.props.model.points,a=this.getAttributes();return R("g",null,R(sh,{fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,points:o}))}}])&&nO(e.prototype,n),i}(Un);function vh(t){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function iO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return gh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aO(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,a=o===void 0?4:o,c=t.ry,s={cx:n,cy:i,rx:a,ry:c===void 0?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(f){var g=iO(f,2),S=g[0],j=g[1];vh(j)!=="object"&&(s[S]=j)}),R("ellipse",s)}function bh(t){return(bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function mh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mh(Object(n),!0).forEach(function(r){uO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _h(t,e,n){return(_h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=Go(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function wh(t,e){return(wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function lO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Go(t);if(e){var i=Go(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Go(t){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var rc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&wh(o,a)})(i,t);var e,n,r=lO(i);function i(){return cO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=_h(Go(i.prototype),"getAttributes",this).call(this),a=this.props.model,c=a.rx,s=a.ry;return Oh(Oh({},o),{},{rx:c,ry:s})}},{key:"getShape",value:function(){return R(aO,this.getAttributes())}}])&&sO(e.prototype,n),i}(Un);function xh(t){return(xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eh(Object(n),!0).forEach(function(r){pO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return(jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function yO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oc(t);if(e){var i=oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vO(this,n)}}function vO(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function oc(t){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ic=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&jh(o,a)})(i,t);var e,n,r=yO(i);function i(){return dO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.getAttributes().text,a=this.getTextStyle();if(o&&o.value&&a.backgroundStyle&&a.backgroundStyle.fill!=="transparnet"){var c=a.fontSize,s=o.value,f=o.x,g=o.y,S=String(s).split(/[\r\n]/g),j=S.length;S&&S.forEach(function(V){yu(V)});var N=Gi({rows:S,fontSize:c,rowsLength:j}),B=N.width,$=N.height;return R(lr,Sh(Sh({},a.backgroundStyle),{},{x:f-1,y:g-1,width:B,height:$}))}}},{key:"getShape",value:function(){var o=this.getAttributes();return R("g",null,this.getBackgroud(),R(Wu,o))}}])&&hO(e.prototype,n),i}(Un);function Ph(t){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e){return(Ah=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function mO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ac(t);if(e){var i=ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ac(t){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var uc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ah(o,a)})(i,t);var e,n,r=mO(i);function i(){var o;gO(this,i);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(o=r.call.apply(r,[this].concat(c))).ref=void 0,o.setRef=function(f){o.ref=f},o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.x,c=o.y,s=o.width,f=o.height;return R("foreignObject",{x:a-s/2,y:c-f/2,width:s,height:f,ref:this.setRef})}}])&&bO(e.prototype,n),i}(Un);function kh(t){return(kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function _O(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Dh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Th(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=_O(n,2),i=r[0],o=r[1];kh(o)!=="object"&&(e[i]=o)}),R("path",e)}Th.defaultProps={strokeDasharray:""};var Wo=Th;function Mh(t){return(Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Nh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ch(t,e){return(Ch=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function SO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cc(t);if(e){var i=cc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cc(t){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Rh=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ch(o,a)})(i,t);var e,n,r=SO(i);function i(){return xO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getArrowAttibutes",value:function(){var o=this.props,a=o.arrowInfo,c=o.style,s=a.start,f=a.end,g={start:s,end:f,offset:c.offset,verticalLength:c.verticalLength,type:"end"},S=No(g),j=S.leftX,N=S.leftY,B=S.rightX,$=S.rightY;return function(V){for(var K=1;K<arguments.length;K++){var q=arguments[K]!=null?arguments[K]:{};K%2?Nh(Object(q),!0).forEach(function(te){wO(V,te,q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(q)):Nh(Object(q)).forEach(function(te){Object.defineProperty(V,te,Object.getOwnPropertyDescriptor(q,te))})}return V}({d:"M".concat(j," ").concat(N," L").concat(f.x," ").concat(f.y," L").concat(B," ").concat($," z")},c)}},{key:"getShape",value:function(){var o=this.getArrowAttibutes(),a=o.d,c=o.strokeWidth,s=o.stroke,f=o.fill;return R(Wo,{d:a,fill:f,strokeWidth:c,stroke:s})}},{key:"render",value:function(){return R("g",{className:"lf-arrow"},this.getShape())}}])&&EO(e.prototype,n),i}(C);function Ih(t){return(Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Lh(){return(Lh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(n),!0).forEach(function(r){PO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bh(t,e){return(Bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function kO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(t);if(e){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sc(t){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var pr,TO=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Bh(o,a)})(i,t);var e,n,r=kO(i);function i(o){var a;return function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),(a=r.call(this,o)).setHoverON=function(){a.setState({isHoverd:!0})},a.setHoverOFF=function(){a.setState({isHoverd:!1})},a.state={isHoverd:!1},a}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,a=this.props.style,c=o.text,s=o.textWidth,f=An(a.background,"fill","stroke","radius","height");if(this.state.isHoverd&&a.hoverBackground&&(f=Tr(Tr({},f),a.hoverBackground)),c&&c.value&&f.fill!=="transparnet"){var g,S=a.fontSize,j=a.autoWrap,N=a.lineHeight,B=a.wrapPadding,$=c.value,V=c.x,K=c.y,q=String($).split(/[\r\n]/g),te=q.length;if(j&&s){var ie=jl({rows:q,style:{fontSize:"".concat(S,"px"),width:"".concat(s,"px"),lineHeight:N,padding:B},rowsLength:te,className:"lf-get-text-height"});g=Tr(Tr({},f),{},{x:V-1,y:K-1,width:s,height:ie})}else{q&&q.forEach(function(Ee){yu(Ee)});var oe=Gi({rows:q,fontSize:S,rowsLength:te}),Oe=oe.width,me=oe.height;g=Tr(Tr({},f),{},{x:V-1,y:K-1,width:Oe,height:me})}return R(lr,g)}}},{key:"getShape",value:function(){var o=this.props,a=o.model,c=o.style,s=a.text,f=s.value,g=Tr({x:s.x,y:s.y,className:"lf-element-text",value:f},c);return R("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),R(Wu,Lh({},g,{model:a})))}}])&&AO(e.prototype,n),i}($d);function Xh(t){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Hh(){return(Hh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fh(Object(n),!0).forEach(function(r){MO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Uh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Uh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yh(t,e){return(Yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function RO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lc(t);if(e){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return IO(this,n)}}function IO(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function lc(t){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(pr||(pr={}));var Gh=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Yh(o,a)})(i,t);var e,n,r=RO(i);function i(){var o;return function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).dragHandler=void 0,o.oldEdge=void 0,o.onDragStart=function(){var a=o.props,c=a.x,s=a.y,f=a.edgeModel,g=f.startPoint,S=f.endPoint,j=f.pointsList;o.oldEdge={startPoint:g,endPoint:S,pointsList:j},o.setState({endX:c,endY:s,draging:!0})},o.onDraging=function(a){var c=a.deltaX,s=a.deltaY,f=o.state,g=f.endX,S=f.endY,j=o.props,N=j.graphModel,B=j.type,$=NO(N.transformMatrix.moveCanvasPointByHtml([g,S],c,s),2),V=$[0],K=$[1];o.setState({endX:V,endY:K,draging:!0});var q=o.props.edgeModel,te=N.nodes,ie=Yi({x:g,y:S},te);if(ie&&ie.node){var oe,Oe=q.startPoint,me=q.endPoint,Ee=q.sourceNode,Ye=q.targetNode;B===pr.SOURCE?oe={startPoint:{x:ie.anchor.x,y:ie.anchor.y},endPoint:{x:me.x,y:me.y},sourceNode:ie.node,targetNode:Ye}:B===pr.TARGET&&(oe={startPoint:{x:Oe.x,y:Oe.y},endPoint:{x:ie.anchor.x,y:ie.anchor.y},sourceNode:Ee,targetNode:ie.node}),q.updateAfterAdjustStartAndEnd(oe)}else B===pr.SOURCE?q.updateStartPoint({x:V,y:K}):B===pr.TARGET&&q.updateEndPoint({x:V,y:K})},o.onDragEnd=function(){o.setState({draging:!1});var a=o.props,c=a.graphModel,s=a.edgeModel,f=a.type,g=a.eventCenter,S=c.nodes,j=o.state,N=j.endX,B=j.endY,$=j.draging,V=Yi({x:N,y:B},S);if($)if(V&&V.node){var K,q=s.getData(),te=Yn(Yn({},q),{},{sourceAnchorId:"",targetAnchorId:"",text:(q==null||(K=q.text)===null||K===void 0?void 0:K.value)||""});f===pr.SOURCE?te=Yn(Yn({},te),{},{sourceNodeId:V.node.id,sourceAnchorId:V.anchor.id,startPoint:{x:V.anchor.x,y:V.anchor.y},targetNodeId:s.targetNodeId,endPoint:Yn({},s.endPoint)}):f===pr.TARGET&&(te=Yn(Yn({},te),{},{sourceNodeId:s.sourceNodeId,startPoint:Yn({},s.startPoint),targetNodeId:V.node.id,targetAnchorId:V.anchor.id,endPoint:{x:V.anchor.x,y:V.anchor.y}})),c.removeEdgeById(s.id);var ie=c.createEdge(Yn({},te));g.emit(Ne.EDGE_EXCHANGE_NODE,{data:{newEdge:ie.getData(),oldEdge:s.getData()}})}else o.recoveryEdge()},o.recoveryEdge=function(){var a=o.props.edgeModel,c=o.oldEdge,s=c.startPoint,f=c.endPoint,g=c.pointsList;a.updateStartPoint(s),a.updateEndPoint(f),a.modelType!==Ie.LINE_EDGE&&(a.pointsList=g,a.initPoints())},o.getAdjustPointStyle=function(){return o.props.graphModel.theme.edgeAdjust},o.state={draging:!1,endX:0,endY:0},o.dragHandler=Io({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"render",value:function(){var o=this.props,a=o.x,c=o.y,s=this.state.draging;return R("g",null,R(zo,Hh({className:"lf-edge-adjust-point"},this.getAdjustPointStyle(),{x:a,y:c,onMouseDown:this.dragHandler,"pointer-events":s?"none":""})))}}])&&CO(e.prototype,n),i}(C);function Wh(t){return(Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function fc(){return(fc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Vh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vh(Object(n),!0).forEach(function(r){zO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $h(t,e){return($h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function HO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pc(t);if(e){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return FO(this,n)}}function FO(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function pc(t){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Vo=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&$h(o,a)})(i,t);var e,n,r=HO(i);function i(){var o;BO(this,i);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(o=r.call.apply(r,[this].concat(c))).startTime=void 0,o.contextMenuTime=void 0,o.clickTimer=void 0,o.handleHover=function(f,g){var S=o.props,j=S.model,N=S.eventCenter;j.setHovered(f);var B=f?Ne.EDGE_MOUSEENTER:Ne.EDGE_MOUSELEAVE,$=j.getData();N.emit(B,{data:$,e:g})},o.setHoverON=function(f){o.handleHover(!0,f)},o.setHoverOFF=function(f){o.handleHover(!1,f)},o.handleContextMenu=function(f){f.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var g=o.props,S=g.model,j=g.graphModel,N=g.eventCenter,B=j.getPointByClient({x:f.clientX,y:f.clientY});j.setElementStateById(S.id,$e.SHOW_MENU,B.domOverlayPosition),o.toFront(),j.selectEdgeById(S.id);var $=S==null?void 0:S.getData();N.emit(Ne.EDGE_CONTEXTMENU,{data:$,e:f,position:B})},o.handleMouseDown=function(f){f.stopPropagation(),o.startTime=new Date().getTime()},o.handleMouseUp=function(f){if(o.startTime&&!(new Date().getTime()-o.startTime>200||f.button===2)){var g=f.detail===2,S=o.props,j=S.model,N=S.graphModel,B=S.eventCenter,$=j==null?void 0:j.getData(),V=N.getPointByClient({x:f.clientX,y:f.clientY});if(g){var K=N.editConfig,q=N.textEditElement;if(q&&q.id===j.id&&N.setElementStateById(j.id,$e.DEFAULT),K.edgeTextEdit&&j.text.editable&&N.setElementStateById(j.id,$e.TEXT_EDIT),j.modelType===Ie.POLYLINE_EDGE){var te=j,ie=N.getPointByClient({x:f.x,y:f.y}).canvasOverlayPosition,oe=ie.x,Oe=ie.y,me=Zl({x:oe,y:Oe},te.points);te.dbClickPosition=me}B.emit(Ne.EDGE_DBCLICK,{data:$,e:f,position:V})}else B.emit(Ne.ELEMENT_CLICK,{data:$,e:f,position:V}),B.emit(Ne.EDGE_CLICK,{data:$,e:f,position:V});var Ee=N.editConfig.metaKeyMultipleSelected;N.selectEdgeById(j.id,f.metaKey&&Ee),o.toFront()}},o.getIsDraging=function(){return!1},o}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.strokeWidth,c=o.strokeOpacity,s=o.strokeDashArray,f=o.isSelected,g=o.isHovered,S=o.hoverStroke,j=o.selectedStroke,N=o.properties,B=this.props.model.stroke;return g?B=S:f&&(B=j),{stroke:B,strokeWidth:a,strokeOpacity:c,strokeDashArray:s,isSelected:f,isHovered:g,hoverStroke:S,selectedStroke:j,properties:LO({},N)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,c=o.graphModel;if(a.state===$e.TEXT_EDIT)return"";var s=c.theme.edgeText,f=this.getTextStyle(),g=ct({},s,f),S=!1,j=c.editConfig;return(a.text.draggable||j.edgeTextDraggable)&&(S=!0),R(TO,{editable:j.edgeTextEdit&&a.text.editable,model:a,graphModel:c,style:g,draggable:S})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,c=o.endPoint,s=o.isSelected;return{start:a,end:c,hover:this.state.hover,isSelected:s}}},{key:"getArrowStyle",value:function(){var o=this.getAttributes().stroke,a=this.props.graphModel.theme.arrow;return{stroke:o,strokeWidth:1,fill:o,offset:a.offset,verticalLength:a.verticalLength}}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),a=o.start,c=o.end;if(a&&c&&(a.x!==c.x||a.y!==c.y)){var s=this.getArrowStyle();return R(Rh,{arrowInfo:o,style:s})}}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,c=o.graphModel,s=o.eventCenter,f=a.getAdjustStart(),g=a.getAdjustEnd();return R("g",null,R(Gh,fc({type:"SOURCE"},f,{edgeModel:a,graphModel:c,eventCenter:s})),R(Gh,fc({type:"TARGET"},g,{edgeModel:a,graphModel:c,eventCenter:s})))}},{key:"getAppendWidth",value:function(){return R("g",null)}},{key:"getAppend",value:function(){return R("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,c=o.model;a.overlapMode!==kn.INCREASE&&a.toFront(c.id)}},{key:"render",value:function(){var o=this.props,a=o.model.isSelected,c=o.graphModel.editConfig,s=this.getIsDraging(),f=c.adjustEdgeStartAndEnd;return R("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow(),f&&a&&!s?this.getAdjustPoints():"")}}])&&XO(e.prototype,n),i}(C);function Kh(t){return(Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qh(Object(n),!0).forEach(function(r){UO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jh(t,e,n){return(Jh=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=$o(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Qh(t,e){return(Qh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function WO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$o(t);if(e){var i=$o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VO(this,n)}}function VO(t,e){if(e&&(Kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $o(t){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var dc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Qh(o,a)})(i,t);var e,n,r=WO(i);function i(){return YO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.startPoint,c=o.endPoint;return Zh(Zh({},Jh($o(i.prototype),"getAttributes",this).call(this)),{},{startPoint:a,endPoint:c})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.stroke,c=o.startPoint,s=o.endPoint,f=o.strokeWidth,g=o.strokeOpacity,S=o.strokeDashArray;return R(io,{x1:c.x,y1:c.y,x2:s.x,y2:s.y,strokeOpacity:g,strokeWidth:f,stroke:a,strokeDasharray:S})}},{key:"getShape",value:function(){return R("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=function(j){var N,B=j.start,$=j.end;if(B.x===$.x&&B.y===$.y)N="";else{var V={start:B,end:$,offset:10,verticalLength:5},K=No(Wi(Wi({},V),{},{type:"start"})),q=No(Wi(Wi({},V),{},{type:"end"}));N="M".concat(K.leftX," ").concat(K.leftY,` 
    L`).concat(K.rightX," ").concat(K.rightY,` 
    L`).concat(q.rightX," ").concat(q.rightY,`
    L`).concat(q.leftX," ").concat(q.leftY," z")}return{d:N,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),c=a.d,s=a.strokeWidth,f=a.fill,g=a.strokeDasharray,S=a.stroke;return R(Wo,{d:c,fill:f,strokeWidth:s,stroke:S,strokeDasharray:g})}}])&&GO(e.prototype,n),i}(Vo);function ey(t){return(ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $O(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ty(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ty(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KO=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=$O(n,2),i=r[0],o=r[1];ey(o)!=="object"&&(e[i]=o)}),R("polyline",e)};function ny(t){return(ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ry(Object(n),!0).forEach(function(r){qO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return oy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return oy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iy(t,e,n){return(iy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=Ko(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function ay(t,e){return(ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function QO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ko(t);if(e){var i=Ko(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return e_(this,n)}}function e_(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ko(t){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var hc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ay(o,a)})(i,t);var e,n,r=QO(i);function i(){var o;return function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).drag=void 0,o.isDraging=void 0,o.appendInfo=void 0,o.dragHandler=void 0,o.onDragStart=function(){o.props.model.dragAppendStart()},o.onDraging=function(a){var c=a.deltaX,s=a.deltaY,f=o.props,g=f.model,S=f.graphModel;o.isDraging=!0;var j=S.transformMatrix,N=S.editConfig,B=ZO(j.fixDeltaXY(c,s),2),$=B[0],V=B[1],K=g,q=N.adjustEdgeMiddle;o.appendInfo=q?K.dragAppendSimple(o.appendInfo,{x:$,y:V}):K.dragAppend(o.appendInfo,{x:$,y:V})},o.onDragEnd=function(){var a=o.props,c=a.model,s=a.eventCenter,f=c;f.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,s.emit(Ne.EDGE_ADJUST,{data:f.getData()})},o.beforeDragStart=function(a,c){c.dragAble&&o.dragHandler(a),o.appendInfo=c},o.getIsDraging=function(){return o.isDraging},o.drag=Io({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=iy(Ko(i.prototype),"getAttributes",this).call(this),a=this.props.model.points;return lo(lo({},o),{},{points:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.points,c=o.strokeWidth,s=o.stroke,f=o.strokeDashArray;return R(KO,{points:a,strokeWidth:c,stroke:s,strokeDasharray:f})}},{key:"getShape",value:function(){return R("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,c=o.isSelected,s={start:null,end:null,hover:this.state.hover,isSelected:c},f=no(a);return f.length>=2&&(s.start=f[f.length-2],s.end=f[f.length-1]),s}},{key:"getAppendAttibutes",value:function(o){var a,c=o.start,s=o.end;if(c.x===s.x&&c.y===s.y)a="";else{var f={start:c,end:s,offset:10,verticalLength:5},g=No(lo(lo({},f),{},{type:"start"})),S=No(lo(lo({},f),{},{type:"end"}));a="M".concat(g.leftX," ").concat(g.leftY,` 
      L`).concat(g.rightX," ").concat(g.rightY,` 
      L`).concat(S.rightX," ").concat(S.rightY,`
      L`).concat(S.leftX," ").concat(S.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttibutes(o),c=a.d,s=a.strokeWidth,f=a.fill,g=a.strokeDasharray,S=a.stroke;return R(Wo,{d:c,fill:f,strokeWidth:s,stroke:S,strokeDasharray:g})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,c=a.model,s=a.graphModel,f=c.pointsList,g=c.draggable,S=[],j=f.length,N=function($){var V="lf-polyline-append",K={start:{x:f[$].x,y:f[$].y},end:{x:f[$+1].x,y:f[$+1].y},startIndex:$,endIndex:$+1,direction:"",dragAble:!0},q=R("g",{className:V},o.getAppendShape(K)),te=s.editConfig,ie=te.adjustEdge,oe=te.adjustEdgeMiddle;if(ie&&g){o.dragHandler=o.drag;var Oe=K.startIndex,me=K.endIndex,Ee=oe&&(Oe===0||me===j-1);K.dragAble=!Ee,K.start.x===K.end.x?(K.dragAble&&(V+="-ew-resize"),K.direction=ot.VERTICAL):K.start.y===K.end.y&&(K.dragAble&&(V+="-ns-resize"),K.direction=ot.HORIZONTAL),q=R("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Ye){return o.beforeDragStart(Ye,K)}},R("g",{className:V},o.getAppendShape(K)))}else o.dragHandler=function(){};S.push(q)},B=0;B<j-1;B++)N(B);return R("g",null,S)}}])&&JO(e.prototype,n),i}(Vo);function uy(t){return(uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return cy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return cy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(n),!0).forEach(function(r){n_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fy(t,e,n){return(fy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(s,f){for(;!Object.prototype.hasOwnProperty.call(s,f)&&(s=qo(s))!==null;);return s}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function py(t,e){return(py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function i_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qo(t);if(e){var i=qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a_(this,n)}}function a_(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qo(t){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var yc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&py(o,a)})(i,t);var e,n,r=i_(i);function i(){return r_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=fy(qo(i.prototype),"getAttributes",this).call(this),a=this.props.model.path;return ly(ly({},o),{},{path:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.path,c=o.strokeWidth,s=o.stroke,f=o.strokeDashArray;return R(Wo,{d:a,strokeWidth:c,stroke:s,fill:"none",strokeDasharray:f})}},{key:"getShape",value:function(){return R("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.getAttributes().path;return R(Wo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state.hover,c=o,s=c.path,f=c.isSelected,g=t_(function(S){var j=Ji(S);return[j[2],j[3]]}(s),2);return{start:g[0],end:g[1],hover:a,isSelected:f}}}])&&o_(e.prototype,n),i}(Vo),dy=function(t,e){return Ha(t,e)},u_=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},vc=function(){return rn.a.Date.now()},c_=/\s/,s_=function(t){for(var e=t.length;e--&&c_.test(t.charAt(e)););return e},l_=/^\s+/,f_=function(t){return t&&t.slice(0,s_(t)+1).replace(l_,"")},p_=/^[-+]0x[0-9a-f]+$/i,d_=/^0b[01]+$/i,h_=/^0o[0-7]+$/i,y_=parseInt,hy=function(t){if(typeof t=="number")return t;if(Li(t))return NaN;if(h(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=h(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=f_(t);var n=d_.test(t);return n||h_.test(t)?y_(t.slice(2),n?2:8):p_.test(t)?NaN:+t},v_=Math.max,g_=Math.min,b_=function(t,e,n){var r,i,o,a,c,s,f=0,g=!1,S=!1,j=!0;if(typeof t!="function")throw new TypeError("Expected a function");function N(te){var ie=r,oe=i;return r=i=void 0,f=te,a=t.apply(oe,ie)}function B(te){return f=te,c=setTimeout(V,e),g?N(te):a}function $(te){var ie=te-s;return s===void 0||ie>=e||ie<0||S&&te-f>=o}function V(){var te=vc();if($(te))return K(te);c=setTimeout(V,function(ie){var oe=e-(ie-s);return S?g_(oe,o-(ie-f)):oe}(te))}function K(te){return c=void 0,j&&r?N(te):(r=i=void 0,a)}function q(){var te=vc(),ie=$(te);if(r=arguments,i=this,s=te,ie){if(c===void 0)return B(s);if(S)return clearTimeout(c),c=setTimeout(V,e),N(s)}return c===void 0&&(c=setTimeout(V,e)),a}return e=hy(e)||0,h(n)&&(g=!!n.leading,o=(S="maxWait"in n)?v_(hy(n.maxWait)||0,e):o,j="trailing"in n?!!n.trailing:j),q.cancel=function(){c!==void 0&&clearTimeout(c),f=0,r=s=i=c=void 0},q.flush=function(){return c===void 0?a:K(vc())},q},m_=u(140);function O_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yy,vy,gy,__=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=void 0,this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){dy(u_(this.undos),r)||(this.undos.push(r),dy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Ne.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Ka(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Ka(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(m_.a)(r,b_(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&O_(e.prototype,n),t}();function by(t){return(by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function w_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||function(n,r){if(n){if(typeof n=="string")return my(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return my(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function my(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oy(Object(n),!0).forEach(function(r){x_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return(wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function E_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gc(t);if(e){var i=gc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S_(this,n)}}function S_(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gc(t){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var xy,Ey,Sy,bc=_n((gy=vy=function(t){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&wy(a,c)})(o,t);var e,n,r,i=E_(o);function o(){var a;return function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")}(this,o),(a=i.call(this)).ref={current:null},a.__prevText={type:"",text:"",id:""},a.keyupHandler=function(c){var s=c.target.innerText,f=a.props.graphModel.textEditElement;c.keyCode===13&&c.altKey&&f.setElementState(0),a.__prevText={type:f.type,text:s,id:f.id}},a.state={style:{left:0,top:0}},a}return e=o,r=[{key:"getDerivedStateFromProps",value:function(a){var c,s=a.graphModel,f=s.transformMatrix,g=s.theme,S=s.textEditElement;if(S){var j;if((j=S.text)===null||j===void 0||!j.value)if(S.BaseType===vt.EDGE){var N=(S=S).text,B=S.textPosition,$=B.x,V=B.y;N.x=$,N.y=V,S.setText(N)}else S=S;var K={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(S.BaseType===vt.EDGE){var q=g.edgeText,te=q.autoWrap,ie=q.lineHeight,oe=q.wrapPadding,Oe=S.textWidth;te&&Oe&&(c=fo(fo({},K),{},{width:Oe,minWidth:Oe,lineHeight:ie,padding:oe}))}else if(S.BaseType===vt.NODE){var me=g.nodeText,Ee=me.autoWrap,Ye=me.lineHeight,Ke=me.wrapPadding,Nt=S,wn=Nt.width,Qt=Nt.textWidth,Zo=Nt.modelType;(Zo!==Ie.TEXT_NODE&&Ee||Zo===Ie.TEXT_NODE&&Ee&&Qt)&&(c=fo(fo({},K),{},{width:Qt||wn,minWidth:Qt||wn,lineHeight:Ye,padding:Ke}))}var Jo=S.text,sa=Jo.x,xc=Jo.y,la=w_(f.CanvasPointToHtmlPoint([sa,xc]),2);return{style:fo({left:la[0],top:la[1]},c)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var a=this.props.graphModel,c=a.eventCenter,s=a.editConfig,f=s.edgeTextEdit,g=s.nodeTextEdit;(f||g)&&c.on(Ne.GRAPH_TRANSFORM,function(){a.textEditElement&&a.textEditElement.setElementState($e.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var a=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var c=this.__prevText,s=c.text,f=c.id;a.setElementTextById(f,s),a.eventCenter.emit(Ne.TEXT_UPDATE,fo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(a){if(window.getSelection!==void 0&&document.createRange!==void 0){var c=document.createRange();c.selectNodeContents(a),c.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(c)}}},{key:"render",value:function(){var a,c=this.props.graphModel.textEditElement,s=this.state.style;return c?R("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:c.id,onKeyUp:this.keyupHandler},(a=c.text)===null||a===void 0?void 0:a.value):null}}])&&_y(e.prototype,n),r&&_y(e,r),o}(C),vy.toolName="textEdit",yy=gy))||yy,j_=function(t){return t.modelType===Ie.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,a=Math.abs(n.x-r.x)+10,c=Math.abs(n.y-r.y)+10;return{x:i-a/2,y:o-c/2,x1:i+a/2,y1:o+c/2}}(t):t.modelType===Ie.POLYLINE_EDGE?function(e){var n=e.points,r=no(n),i=Co(r,8),o=i.x,a=i.y,c=i.width,s=i.height;return{x:o-c/2,y:a-s/2,x1:o+c/2,y1:a+s/2}}(t):t.modelType===Ie.BEZIER_EDGE?function(e){var n=e.path,r=Ji(n),i=Co(r,8),o=i.x,a=i.y,c=i.width,s=i.height;return{x:o-c/2,y:a-s/2,x1:o+c/2,y1:a+s/2}}(t):void 0};function jy(t){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Py(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],s=!0,f=!1;try{for(i=i.call(n);!(s=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);s=!0);}catch(g){f=!0,a=g}finally{try{s||i.return==null||i.return()}finally{if(f)throw a}}return c}}(t,e)||Ay(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P_(t){return function(e){if(Array.isArray(e))return mc(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Ay(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ay(t,e){if(t){if(typeof t=="string")return mc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mc(t,e):void 0}}function mc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function k_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oc(t);if(e){var i=Oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D_(this,n)}}function D_(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var _c=_n((Sy=Ey=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ky(o,a)})(i,t);var e,n,r=k_(i);function i(o){var a;(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,i),(a=r.call(this)).stepDrag=void 0,a.handleMouseDown=function(f){a.stepDrag.handleMouseDown(f)},a.onDraging=function(f){var g=f.deltaX,S=f.deltaY,j=a.props.graphModel;j.moveElements(j.getSelectElements(!0),g,S)},a.handleContextMenu=function(f){f.preventDefault();var g=a.props,S=g.graphModel,j=g.graphModel,N=j.eventCenter,B=j.selectElements,$=S.getPointByClient({x:f.clientX,y:f.clientY}),V={nodes:[],edges:[]};P_(B.values()).forEach(function(K){K.BaseType===vt.NODE&&V.nodes.push(K.getData()),K.BaseType===vt.EDGE&&V.edges.push(K.getData())}),N.emit(Ne.SELECTION_CONTEXTMENU,{data:V,e:f,position:$})};var c=o.graphModel.gridSize,s=o.eventCenter;return a.stepDrag=new Lo({onDraging:a.onDraging,step:c,eventType:"multiple:select",eventCenter:s}),a}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,c=o.transformMatrix;if(!(a.size<=1)){var s=Number.MAX_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;a.forEach(function(B){var $={x:0,y:0,x1:0,y1:0};B.BaseType===vt.NODE&&($=function(V){var K=V.x,q=V.y,te=V.width,ie=V.height;return{x:K-te/2,y:q-ie/2,x1:K+te/2,y1:q+ie/2}}(B)),B.BaseType===vt.EDGE&&($=j_(B)),s=Math.min(s,$.x),f=Math.min(f,$.y),g=Math.max(g,$.x1),S=Math.max(S,$.y1)});var j=Py(c.CanvasPointToHtmlPoint([s,f]),2);s=j[0],f=j[1];var N=Py(c.CanvasPointToHtmlPoint([g,S]),2);return g=N[0],S=N[1],R("div",{className:"lf-multiple-select",style:{left:"".concat(s-10,"px"),top:"".concat(f-10,"px"),width:"".concat(g-s+20,"px"),height:"".concat(S-f+20,"px")},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&A_(e.prototype,n),i}(C),Ey.toolName="multipleSelect",xy=Sy))||xy;function T_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M_=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.tools=void 0,this.components=void 0,this.toolMap=new Map,this.instance=void 0,this.instance=r,this.isDisabledTool(bc.toolName)||this.registerTool(bc.toolName,bc),this.isDisabledTool(_c.toolName)||this.registerTool(_c.toolName,_c)}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&T_(e.prototype,n),t}();u(182);function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C_=function(){function t(){(function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),this._events={}}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var a=this;return r.split(",").forEach(function(c){c=c.trim(),a._events[c]||(a._events[c]=[]),a._events[c].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r.split(",").forEach(function(a){return a=a.trim(),o.on(a,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r.split(",").forEach(function(a){var c=o._events[a]||[],s=o._events["*"]||[],f=function(g){for(var S=g.length,j=0;j<S;j++)if(g[j]){var N=g[j],B=N.callback;N.once&&(g.splice(j,1),g.length===0&&delete o._events[a],S--,j--),B.apply(o,[i])}};f(c),f(s)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(a){if(i){for(var c=o._events[a]||[],s=c.length,f=0;f<s;f++)c[f].callback===i&&(c.splice(f,1),s--,f--);c.length===0&&delete o._events[a]}else delete o._events[a]}),this}},{key:"getEvents",value:function(){return this._events}}])&&N_(e.prototype,n),t}(),R_=u(141),I_=u.n(R_);function L_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Dy=function(){function t(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),this.mousetrap=void 0,this.options=void 0,this.target=void 0,r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new I_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(qt(i))i.forEach(function(s){var f=s.keys,g=s.callback,S=s.action;return r.on(f,g,S)});else{var o=i.keys,a=i.callback,c=i.action;this.on(o,a,c)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&L_(e.prototype,n),t}(),z_=Dy,Gn=null;function Ty(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function My(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function Ny(t){return(Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cy(Object(n),!0).forEach(function(r){B_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wc=function(){function t(i){var o=this;(function($,V){if(!($ instanceof V))throw new TypeError("Cannot call a class as a function")})(this,t),this.container=void 0,this.width=void 0,this.height=void 0,this.graphModel=void 0,this.history=void 0,this.viewMap=new Map,this.tool=void 0,this.keyboard=void 0,this.dnd=void 0,this.options=void 0,this.getSnapshot=void 0,this.eventCenter=void 0,this.snaplineModel=void 0,this.components=[],this.adapterIn=void 0,this.adapterOut=void 0,this.getView=function($){return o.viewMap.get($)};var a,c,s=i.container,f=i.width,g=i.height,S=i.dndOptions,j=i.keyboard,N=i.isSilentMode,B=i.snapline;this.options=fp(i),this.container=s,this.width=f||s.getBoundingClientRect().width,this.height=g||s.getBoundingClientRect().height,this.tool=new M_(this),this.eventCenter=new C_,this.history=new __(this.eventCenter),this.dnd=new $m({options:S,lf:this}),this.keyboard=new z_({lf:this,keyboard:j}),this.graphModel=new nm(Ry(Ry({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),N||B===!1||(this.snaplineModel=new zd(this.graphModel),a=this.eventCenter,c=this.snaplineModel,a.on("node:mousemove",function($){var V=$.data;c.setNodeSnapLine(V)}),a.on("node:mouseup",function(){c.clearSnapline()})),function($,V){var K=$.keyboard,q=K.options.keyboard;K.on(["cmd + c","ctrl + c"],function(){if(q.enabled&&!V.textEditElement){var te=$.options.guards,ie=V.getSelectElements(!1);return te&&te.beforeClone&&!te.beforeClone(ie)?(Gn=null,!1):((Gn=ie).nodes.forEach(function(oe){return Ty(oe,40)}),Gn.edges.forEach(function(oe){return My(oe,40)}),!1)}}),K.on(["cmd + v","ctrl + v"],function(){if(q.enabled&&!V.textEditElement){if(Gn&&(Gn.nodes||Gn.edges)){$.clearSelectElements();var te=$.addElements(Gn);if(!te)return;te.nodes.forEach(function(ie){return $.select(ie.id,!0)}),te.edges.forEach(function(ie){return $.select(ie.id,!0)}),Gn.nodes.forEach(function(ie){return Ty(ie,40)}),Gn.edges.forEach(function(ie){return My(ie,40)})}return!1}}),K.on(["cmd + z","ctrl + z"],function(){if(q.enabled&&!V.textEditElement)return $.undo(),!1}),K.on(["cmd + y","ctrl + y"],function(){if(q.enabled&&!V.textEditElement)return $.redo(),!1}),K.on(["backspace"],function(){if(q.enabled&&!V.textEditElement){var te=V.getSelectElements(!0);return $.clearSelectElements(),te.edges.forEach(function(ie){return $.deleteEdge(ie.id)}),te.nodes.forEach(function(ie){return $.deleteNode(ie.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var e,n,r;return e=t,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("请给插件".concat(i.name||i.constructor.name,"指定pluginName!")),o=i.name);var a=this.extensions.get(o);a&&a.destroy&&a.destroy(),this.extensions.set(o,i)}}],(n=[{key:"on",value:function(i,o){this.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.extensions.forEach(function(a){var c=a.pluginName||a.name;o.indexOf(c)===-1&&i.__installPlugin(a)})}},{key:"__installPlugin",value:function(i){if(Ny(i)==="object"){var o=i.install,a=i.render;return o&&o.call(i,this,t),void(a&&this.components.push(a.bind(i)))}var c=new i({lf:this,LogicFlow:t});c.render&&this.components.push(c.render.bind(c))}},{key:"register",value:function(i,o){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var c={BaseEdge:Vo,BaseEdgeModel:iu,BaseNode:Un,BaseNodeModel:Fn,RectNode:qu,RectNodeModel:zu,CircleNode:Ju,CircleNodeModel:Pu,PolygonNode:ec,PolygonNodeModel:Iu,TextNode:ic,TextNodeModel:Hu,LineEdge:dc,LineEdgeModel:cu,DiamondNode:nc,DiamondNodeModel:Du,PolylineEdge:hc,PolylineEdgeModel:su,BezierEdge:yc,BezierEdgeModel:Su,EllipseNode:rc,EllipseNodeModel:Nu,HtmlNode:uc,HtmlNodeModel:Uu,h:R,type:i};this.viewMap.forEach(function(j){var N=j.extendKey;N&&(c[N]=j)}),this.graphModel.modelMap.forEach(function(j){var N=j.extendKey;N&&(c[N]=j)});var s=o(c),f=s.view,g=s.model,S=f;a&&!S.isObervered&&(S.isObervered=!0,S=nn(S)),this.setView(i,S),this.graphModel.setModel(i,g)}else this._registerElement(i)}},{key:"_registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=nn(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:qu,model:zu,type:"rect"}),this._registerElement({type:"circle",view:Ju,model:Pu}),this._registerElement({type:"polygon",view:ec,model:Iu}),this._registerElement({type:"line",view:dc,model:cu}),this._registerElement({type:"polyline",view:hc,model:su}),this._registerElement({type:"bezier",view:yc,model:Su}),this._registerElement({type:"text",view:ic,model:Hu}),this._registerElement({type:"ellipse",view:rc,model:Nu}),this._registerElement({type:"diamond",view:nc,model:Du}),this._registerElement({type:"html",view:uc,model:Uu})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=an(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=an(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){var a=this.graphModel.transformMatrix;return a.zoom(i,o),"".concat(100*a.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformMatrix.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformMatrix.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformMatrix;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformMatrix.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformMatrix,o=i.TRANSLATE_X,a=i.TRANSLATE_Y;this.translate(-o,-a)}},{key:"select",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformMatrix,a=i.coordinate,c=i.id;if(!a){var s=this.getNodeModel(c);s&&(a=s.getData());var f=this.getEdgeModelById(c);f&&(a=f.textPosition)}var g=a,S=g.x,j=g.y;o.focusOn(S,j,this.width,this.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"setDefaultEdgeType",value:function(i){this.options.edgeType=i,this.graphModel.changeEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.setElementTextById(i,o)}},{key:"deleteElement",value:function(i){return this.graphModel.getNodeModel(i)?this.deleteNode(i):!!this.graphModel.getEdgeModel(i)&&this.deleteEdge(i)}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModel(i);if(!o)return!1;var a=o.getData(),c=this.options.guards,s=!c||!c.beforeDelete||c.beforeDelete(a);return s&&this.graphModel.deleteNode(i),s}},{key:"editNodeText",value:function(i){this.graphModel.setTextEditable(i)}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;if(!a||!a.beforeClone||a.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"createEdge",value:function(i){this.graphModel.createEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,a=this.graphModel.edgesMap[i];if(!a)return!1;var c=a.model.getData(),s=!o||!o.beforeDelete||o.beforeDelete(c);return s&&this.graphModel.removeEdgeById(i),s}},{key:"removeEdge",value:function(i){var o=i.sourceNodeId,a=i.targetNodeId;o&&a?this.graphModel.removeEdge(o,a):o?this.graphModel.removeEdgeBySource(o):a&&this.graphModel.removeEdgeByTarget(a)}},{key:"getNodeModel",value:function(i){return this.graphModel.getNodeModel(i)}},{key:"getNodeData",value:function(i){return this.graphModel.getNodeModel(i).getData()}},{key:"setNodeData",value:function(i){var o=i.id;this.graphModel.getNodeModel(o).updateData(i)}},{key:"getEdgeModel",value:function(i){return this.getEdge(i)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdge",value:function(i){var o=this.graphModel,a=o.edges,c=o.edgesMap,s=i.id,f=i.sourceNodeId,g=i.targetNodeId;if(s)return c[s]?[c[s].model]:void console.warn("不存在id为".concat(s,"的边"));if(f&&g){var S=[];return a.forEach(function(B){B.sourceNodeId===f&&B.targetNodeId===g&&S.push(B)}),S}if(f){var j=[];return a.forEach(function(B){B.sourceNodeId===f&&j.push(B)}),j}if(g){var N=[];return a.forEach(function(B){B.targetNodeId===g&&N.push(B)}),N}return[]}},{key:"getEdgeData",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"setEdgeData",value:function(i){var o,a=i.id;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.updateData(i)}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(i,o){var a;(a=this.graphModel.getElement(i))===null||a===void 0||a.setProperties(an(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfig.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,a=i.nodes,c=i.edges,s={},f={nodes:[],edges:[]},g=0;g<a.length;g++){var S=a[g],j=S.id,N=this.addNode(S);if(!N)return;j&&(s[j]=N.id),f.nodes.push(N)}return c.forEach(function(B){var $=B.sourceNodeId,V=B.targetNodeId;s[$]&&(B.sourceNodeId=s[$]),s[V]&&(B.targetNodeId=s[V]);var K=o.graphModel.createEdge(B);f.edges.push(K)}),f}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var a=new o(i,this.graphModel);return this.graphModel.setFakerNode(a),a}console.warn("不存在为".concat(i.type,"类型的节点"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(a){return a.getData()})}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(an(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),ze(R(Gm,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&Iy(e.prototype,n),r&&Iy(e,r),t}();function _n(t){return nn(t)}wc.extensions=new Map,p.default=wc}])})})(G_,je);const S1=Y_(je);var W_=new nv([32,32,1]);function po(){return W_.next()}var ov=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),Ac=globalThis&&globalThis.__assign||function(){return Ac=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},Ac.apply(this,arguments)};(function(_){ov(m,_);function m(l,p){var u=this;return l.id||(l.id="Event_"+po()),l.text||(l.text=""),l.text&&typeof l.text=="string"&&(l.text={value:l.text,x:l.x,y:l.y+40}),u=_.call(this,l,p)||this,u}return m.prototype.getConnectedTargetRules=function(){var l=_.prototype.getConnectedTargetRules.call(this),p={message:"起始节点不能作为连线的终点",validate:function(){return!1}};return l.push(p),l},m.extendKey="StartEventModel",m})(je.CircleNodeModel);(function(_){ov(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getAttributes=function(){var l=_.prototype.getAttributes.call(this);return Ac({},l)},m.extendKey="StartEventNode",m})(je.CircleNode);var iv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}();(function(_){iv(m,_);function m(l,p){var u=this;return l.id||(l.id="Event_"+po()),l.text||(l.text=""),l.text&&typeof l.text=="string"&&(l.text={value:l.text,x:l.x,y:l.y+40}),u=_.call(this,l,p)||this,u}return m.prototype.getConnectedSourceRules=function(){var l=_.prototype.getConnectedSourceRules.call(this),p={message:"结束节点不能作为连线的起点",validate:function(){return!1}};return l.push(p),l},m.extendKey="EndEventModel",m})(je.CircleNodeModel);(function(_){iv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},m.prototype.getShape=function(){var l=this.getAttributes(),p=l.x,u=l.y,d=l.fill,y=l.stroke,b=l.strokeWidth,x=l.r,E=_.prototype.getShape.call(this);return je.h("g",{},E,je.h("circle",{cx:p,cy:u,fill:d,stroke:y,strokeWidth:b,r:x-5}))},m.extendKey="EndEventView",m})(je.CircleNode);var av=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}();(function(_){av(m,_);function m(l,p){var u=this;return l.id||(l.id="Gateway_"+po()),l.text||(l.text=""),l.text&&typeof l.text=="string"&&(l.text={value:l.text,x:l.x,y:l.y+40}),u=_.call(this,l,p)||this,u.points=[[25,0],[50,25],[25,50],[0,25]],u}return m.extendKey="ExclusiveGatewayModel",m})(je.PolygonNodeModel);(function(_){av(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getShape=function(){var l=_.prototype.getAttributes.call(this),p=l.x,u=l.y,d=l.fill,y=l.stroke,b=l.strokeWidth,x=l.width,E=l.height,k=l.points;return je.h("g",{transform:"matrix(1 0 0 1 "+(p-x/2)+" "+(u-E/2)+")"},je.h("polygon",{fill:d,x:p,y:u,stroke:y,strokeWidth:b,points:k}),je.h("path",{fill:d,stroke:y,strokeWidth:b,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},m.extendKey="ExclusiveGatewayNode",m})(je.PolygonNode);var uv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}();(function(_){uv(m,_);function m(l,p){var u=this;return l.id||(l.id="Activity_"+po()),u=_.call(this,l,p)||this,u}return m.extendKey="UserTaskModel",m})(je.RectNodeModel);(function(_){uv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getLabelShape=function(){var l=_.prototype.getAttributes.call(this),p=l.x,u=l.y,d=l.width,y=l.height,b=l.stroke;return je.h("svg",{x:p-d/2+5,y:u-y/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},je.h("path",{fill:b,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},m.prototype.getShape=function(){var l=_.prototype.getAttributes.call(this),p=l.x,u=l.y,d=l.width,y=l.height,b=l.fill,x=l.stroke,E=l.strokeWidth,k=l.radius;return je.h("g",{},[je.h("rect",{x:p-d/2,y:u-y/2,rx:k,ry:k,fill:b,stroke:x,strokeWidth:E,width:d,height:y}),this.getLabelShape()])},m.extendKey="UserTaskNode",m})(je.RectNode);var cv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}();(function(_){cv(m,_);function m(l,p){var u=this;return l.id||(l.id="Activity_"+po()),u=_.call(this,l,p)||this,u}return m.extendKey="ServiceTaskModel",m})(je.RectNodeModel);(function(_){cv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getLabelShape=function(){var l=_.prototype.getAttributes.call(this),p=l.x,u=l.y,d=l.width,y=l.height,b=l.stroke;return je.h("svg",{x:p-d/2+5,y:u-y/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},je.h("path",{fill:b,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},m.prototype.getShape=function(){var l=_.prototype.getAttributes.call(this),p=l.x,u=l.y,d=l.width,y=l.height,b=l.fill,x=l.stroke,E=l.strokeWidth,k=l.radius;return je.h("g",{},[je.h("rect",{x:p-d/2,y:u-y/2,rx:k,ry:k,fill:b,stroke:x,strokeWidth:E,width:d,height:y}),this.getLabelShape()])},m.extendKey="ServiceTaskNode",m})(je.RectNode);var sv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}();(function(_){sv(m,_);function m(l,p){var u=this;return l.id||(l.id="Flow_"+po()),u=_.call(this,l,p)||this,u}return m.extendKey="SequenceFlowModel",m})(je.PolylineEdgeModel);(function(_){sv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.extendKey="SequenceFlowEdge",m})(je.PolylineEdge);var By={width:40,height:40},Xy={width:40,height:40},Hy={width:40,height:40},Fy={width:100,height:80},Uy={width:100,height:80},j1={pluginName:"snapshot",install:function(_){var m=this;this.lf=_,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,_.getSnapshot=function(l,p){m.fileName=l||"logic-flow."+Date.now()+".png";var u=m.getSvgRootElement(_);m.downloadSvg(u,m.fileName,p)},_.getSnapshotBlob=function(l){var p=m.getSvgRootElement(_);return m.getBlob(p,l)},_.getSnapshotBase64=function(l){var p=m.getSvgRootElement(_);return m.getBase64(p,l)}},getSvgRootElement:function(_){var m=this;_.graphModel.nodes.forEach(function(p){var u=p.x,d=p.width,y=p.y,b=p.height,x=u-d/2,E=y-b/2;x<m.offsetX&&(m.offsetX=x-5),E<m.offsetY&&(m.offsetY=E-5)}),_.graphModel.edges.forEach(function(p){p.pointsList&&p.pointsList.forEach(function(u){var d=u.x,y=u.y;d<m.offsetX&&(m.offsetX=d-5),y<m.offsetY&&(m.offsetY=y-5)})});var l=_.container.querySelector("svg");return l},triggerDownload:function(_){var m=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),l=document.createElement("a");l.setAttribute("download",this.fileName),l.setAttribute("href",_),l.setAttribute("target","_blank"),l.dispatchEvent(m)},removeAnchor:function(_){for(var m=_.childNodes,l=_.childNodes&&_.childNodes.length,p=0;p<l;p++){var u=m[p],d=u.classList&&Array.from(u.classList)||[];d.indexOf("lf-anchor")>-1&&(_.removeChild(_.childNodes[p]),l--,p--)}},downloadSvg:function(_,m,l){var p=this;this.getCanvasData(_,l).then(function(u){var d=u.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(d,m)})},getBase64:function(_,m){var l=this;return new Promise(function(p){l.getCanvasData(_,m).then(function(u){var d=u.toDataURL("image/png");p({data:d,width:u.width,height:u.height})})})},getBlob:function(_,m){var l=this;return new Promise(function(p){l.getCanvasData(_,m).then(function(u){u.toBlob(function(d){p({data:d,width:u.width,height:u.height})},"image/png")})})},getCanvasData:function(_,m){var l=this,p=_.cloneNode(!0),u=p.lastChild,d=u.childNodes&&u.childNodes.length;if(d)for(var y=0;y<d;y++){var b=u.childNodes[y],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)u.removeChild(u.childNodes[y]),d--,y--;else{var E=u.childNodes[y];E&&E.childNodes.forEach(function(M){var C=M;l.removeAnchor(C.firstChild)})}}p.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var k=window.devicePixelRatio||1,A=document.createElement("canvas"),T=document.getElementsByClassName("lf-base")[0],w=T.getBoundingClientRect(),X=this.lf.graphModel,G=X.transformMatrix,J=G.SCALE_X,W=G.SCALE_Y,U=Math.ceil(w.width/J),R=Math.ceil(w.height/W);A.style.width=U+"px",A.style.height=R+"px",A.width=U*k+80,A.height=R*k+80;var H=A.getContext("2d");H.scale(k,k),m?(H.fillStyle=m,H.fillRect(0,0,U*k+80,R*k+80)):H.clearRect(0,0,U,R);var Y=new Image;return new Promise(function(M){Y.onload=function(){H.drawImage(Y,0,0),M(A)};var C="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(p),I=C.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=I})}},V_=new nv([32,32,1]);function Yy(){return V_.next()}var Ft=function(){};Ft.ObjTree=function(){return this};Ft.ObjTree.VERSION="0.23";Ft.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Ft.ObjTree.prototype.attr_prefix="-";Ft.ObjTree.prototype.parseXML=function(_){var m;if(window.DOMParser){var l=new DOMParser,p=l.parseFromString(_,"application/xml");if(!p)return;m=p.documentElement}else window.ActiveXObject&&(l=new ActiveXObject("Microsoft.XMLDOM"),l.async=!1,l.loadXML(_),m=l.documentElement);if(m)return this.parseDOM(m)};Ft.ObjTree.prototype.parseHTTP=function(_,m,l){var p={};for(var u in m)p[u]=m[u];if(p.method||(typeof p.postBody>"u"&&typeof p.postbody>"u"&&typeof p.parameters>"u"?p.method="get":p.method="post"),l){p.asynchronous=!0;var d=this,y=l,b=p.onComplete;p.onComplete=function(k){var A;k&&k.responseXML&&k.responseXML.documentElement&&(A=d.parseDOM(k.responseXML.documentElement)),y(A,k),b&&b(k)}}else p.asynchronous=!1;var x;if(typeof HTTP<"u"&&HTTP.Request){p.uri=_;var E=new HTTP.Request(p);E&&(x=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(_,p);E&&(x=E.transport)}if(l)return x;if(x&&x.responseXML&&x.responseXML.documentElement)return this.parseDOM(x.responseXML.documentElement)};Ft.ObjTree.prototype.parseDOM=function(_){if(_){if(this.__force_array={},this.force_array)for(var m=0;m<this.force_array.length;m++)this.__force_array[this.force_array[m]]=1;var l=this.parseElement(_);if(this.__force_array[_.nodeName]&&(l=[l]),_.nodeType!=11){var p={};p[_.nodeName]=l,l=p}return l}};Ft.ObjTree.prototype.parseElement=function(_){if(_.nodeType!=7){if(_.nodeType==3||_.nodeType==4){var m=_.nodeValue.match(/[^\x00-\x20]/);return m==null?void 0:_.nodeValue}var l,p={};if(_.attributes&&_.attributes.length){l={};for(var u=0;u<_.attributes.length;u++){var d=_.attributes[u].nodeName;if(typeof d=="string"){var y=_.attributes[u].nodeValue;y&&(d=this.attr_prefix+d,typeof p[d]>"u"&&(p[d]=0),p[d]++,this.addNode(l,d,p[d],y))}}}if(_.childNodes&&_.childNodes.length){var b=!0;l&&(b=!1);for(var u=0;u<_.childNodes.length&&b;u++){var x=_.childNodes[u].nodeType;x==3||x==4||(b=!1)}if(b){l||(l="");for(var u=0;u<_.childNodes.length;u++)l+=_.childNodes[u].nodeValue}else{l||(l={});for(var u=0;u<_.childNodes.length;u++){var d=_.childNodes[u].nodeName;if(typeof d=="string"){var y=this.parseElement(_.childNodes[u]);y&&(typeof p[d]>"u"&&(p[d]=0),p[d]++,this.addNode(l,d,p[d],y))}}}}return l}};Ft.ObjTree.prototype.addNode=function(_,m,l,p){this.__force_array[m]?(l==1&&(_[m]=[]),_[m][_[m].length]=p):l==1?_[m]=p:l==2?_[m]=[_[m],p]:_[m][_[m].length]=p};Ft.ObjTree.prototype.writeXML=function(_){var m=this.hash_to_xml(null,_);return this.xmlDecl+m};Ft.ObjTree.prototype.hash_to_xml=function(_,m){var l=[],p=[];for(var u in m)if(m.hasOwnProperty(u)){var d=m[u];u.charAt(0)!=this.attr_prefix?typeof d>"u"||d==null?l[l.length]="<"+u+" />":typeof d=="object"&&d.constructor==Array?l[l.length]=this.array_to_xml(u,d):typeof d=="object"?l[l.length]=this.hash_to_xml(u,d):l[l.length]=this.scalar_to_xml(u,d):p[p.length]=" "+u.substring(1)+'="'+this.xml_escape(d)+'"'}var y=p.join(""),b=l.join("");return typeof _>"u"||_==null||(l.length>0?b.match(/\n/)?b="<"+_+y+`>
`+b+"</"+_+`>
`:b="<"+_+y+">"+b+"</"+_+`>
`:b="<"+_+y+` />
`),b};Ft.ObjTree.prototype.array_to_xml=function(_,m){for(var l=[],p=0;p<m.length;p++){var u=m[p];typeof u>"u"||u==null?l[l.length]="<"+_+" />":typeof u=="object"&&u.constructor==Array?l[l.length]=this.array_to_xml(_,u):typeof u=="object"?l[l.length]=this.hash_to_xml(_,u):l[l.length]=this.scalar_to_xml(_,u)}return l.join("")};Ft.ObjTree.prototype.scalar_to_xml=function(_,m){return _=="#text"?this.xml_escape(m):"<"+_+">"+this.xml_escape(m)+"</"+_+`>
`};Ft.ObjTree.prototype.xml_escape=function(_){return _.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ga=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d},Nn;(function(_){_.START="bpmn:startEvent",_.END="bpmn:endEvent",_.GATEWAY="bpmn:exclusiveGateway",_.USER="bpmn:userTask",_.SYSTEM="bpmn:serviceTask",_.FLOW="bpmn:sequenceFlow"})(Nn||(Nn={}));var lv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function kc(_){var m={};return Object.entries(_).forEach(function(l){var p=ga(l,2),u=p[0],d=p[1];typeof d!="object"?u.indexOf("-")===0?m[u]=d:m["-"+u]=d:m[u]=kc(d)}),m}function Cc(_){var m={};return Object.entries(_).forEach(function(l){var p=ga(l,2),u=p[0],d=p[1];typeof d=="string"?u.indexOf("-")===0?m[u.substr(1)]=d:m[u]=d:typeof d=="object"?m[u]=Cc(d):m[u]=d}),m}function $_(_,m){var l=new Map;m.nodes.forEach(function(u){var d,y={"-id":u.id};if(!((d=u.text)===null||d===void 0)&&d.value&&(y["-name"]=u.text.value),u.properties){var b=kc(u.properties);Object.assign(y,b)}l.set(u.id,y),_[u.type]?Array.isArray(_[u.type])?_[u.type].push(y):_[u.type]=[_[u.type],y]:_[u.type]=y});var p=m.edges.map(function(u){var d,y,b=l.get(u.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(u.id):b["bpmn:incoming"]=[b["bpmn:incoming"],u.id]:b["bpmn:incoming"]=u.id;var x=l.get(u.sourceNodeId);x["bpmn:outgoing"]?Array.isArray(x["bpmn:outgoing"])?x["bpmn:outgoing"].push(u.id):x["bpmn:outgoing"]=[x["bpmn:outgoing"],u.id]:x["bpmn:outgoing"]=u.id;var E={"-id":u.id,"-sourceRef":u.sourceNodeId,"-targetRef":u.targetNodeId};if(!((d=u.text)===null||d===void 0)&&d.value&&(E["-name"]=(y=u.text)===null||y===void 0?void 0:y.value),u.properties){var k=kc(u.properties);Object.assign(E,k)}return E});_[Nn.FLOW]=p}function K_(_,m){_["bpmndi:BPMNEdge"]=m.edges.map(function(l){var p,u=l.id,d=l.pointsList.map(function(b){var x=b.x,E=b.y;return{"-x":x,"-y":E}}),y={"-id":u+"_di","-bpmnElement":u,"di:waypoint":d};return!((p=l.text)===null||p===void 0)&&p.value&&(y["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":l.text.x-l.text.value.length*10/2,"-y":l.text.y-7,"-width":l.text.value.length*10,"-height":14}}),y}),_["bpmndi:BPMNShape"]=m.nodes.map(function(l){var p,u=l.id,d=100,y=80,b=l.x,x=l.y,E=Nr.shapeConfigMap.get(l.type);E&&(d=E.width,y=E.height),b-=d/2,x-=y/2;var k={"-id":u+"_di","-bpmnElement":u,"dc:Bounds":{"-x":b,"-y":x,"-width":d,"-height":y}};return!((p=l.text)===null||p===void 0)&&p.value&&(k["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":l.text.x-l.text.value.length*10/2,"-y":l.text.y-7,"-width":l.text.value.length*10,"-height":14}}),k})}function q_(_){var m=[],l=[],p=_["bpmn:definitions"];if(p){var u=p["bpmn:process"];Object.keys(u).forEach(function(d){if(d.indexOf("bpmn:")===0){var y=u[d];if(d===Nn.FLOW){var b=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=J_(y,b)}else{var x=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];m=m.concat(Z_(y,x,d))}}})}return{nodes:m,edges:l}}function Z_(_,m,l){var p=[];if(Array.isArray(_))_.forEach(function(y){var b;Array.isArray(m)?b=m.find(function(E){return E["-bpmnElement"]===y["-id"]}):b=m;var x=Gy(b,l,y);p.push(x)});else{var u=void 0;Array.isArray(m)?u=m.find(function(y){return y["-bpmnElement"]===_["-id"]}):u=m;var d=Gy(u,l,_);p.push(d)}return p}function Gy(_,m,l){var p=Number(_["dc:Bounds"]["-x"]),u=Number(_["dc:Bounds"]["-y"]),d=l["-name"],y=Nr.shapeConfigMap.get(m);y&&(p+=y.width/2,u+=y.height/2);var b;Object.entries(l).forEach(function(A){var T=ga(A,2),w=T[0],X=T[1];lv.indexOf(w)===-1&&(b||(b={}),b[w]=X)}),b&&(b=Cc(b));var x;if(d&&(x={x:p,y:u,value:d},_["bpmndi:BPMNLabel"]&&_["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=_["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(E["-x"])+Number(E["-width"])/2,x.y=Number(E["-y"])+Number(E["-height"])/2}var k={id:_["-bpmnElement"],type:m,x:p,y:u,properties:b};return x&&(k.text=x),k}function J_(_,m){var l=[];if(Array.isArray(_))_.forEach(function(u){var d;Array.isArray(m)?d=m.find(function(y){return y["-bpmnElement"]===u["-id"]}):d=m,l.push(Wy(d,u))});else{var p=void 0;Array.isArray(m)?p=m.find(function(u){return u["-bpmnElement"]===_["-id"]}):p=m,l.push(Wy(p,_))}return l}function Wy(_,m){var l,p=m["-name"];if(p){var u=_["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;p.split(`
`).forEach(function(x){d<x.length&&(d=x.length)}),l={value:p,x:Number(u["-x"])+d*10/2,y:Number(u["-y"])+7}}var y;Object.entries(m).forEach(function(x){var E=ga(x,2),k=E[0],A=E[1];lv.indexOf(k)===-1&&(y||(y={}),y[k]=A)}),y&&(y=Cc(y));var b={id:m["-id"],type:Nn.FLOW,pointsList:_["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),sourceNodeId:m["-sourceRef"],targetNodeId:m["-targetRef"],properties:y};return l&&(b.text=l),b}var Nr={pluginName:"bpmn-adapter",install:function(_){_.adapterIn=this.adapterIn,_.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(_,m){this.shapeConfigMap.set(_,m)},adapterOut:function(_){var m={"-id":"Process_"+Yy(),"-isExecutable":"false"};$_(m,_);var l={"-id":"BPMNPlane_1","-bpmnElement":m["-id"]};K_(l,_);var p={"bpmn:definitions":{"-id":"Definitions_"+Yy(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":m,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":l}}};return p},adapterIn:function(_){if(_)return q_(_)}};Nr.shapeConfigMap.set(Nn.START,{width:By.width,height:By.height});Nr.shapeConfigMap.set(Nn.END,{width:Xy.width,height:Xy.height});Nr.shapeConfigMap.set(Nn.GATEWAY,{width:Hy.width,height:Hy.height});Nr.shapeConfigMap.set(Nn.SYSTEM,{width:Fy.width,height:Fy.height});Nr.shapeConfigMap.set(Nn.USER,{width:Uy.width,height:Uy.height});var Vy=globalThis&&globalThis.__assign||function(){return Vy=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},Vy.apply(this,arguments)},$y;(function(_){_[_.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",_[_.START_EVENT=2]="START_EVENT",_[_.END_EVENT=3]="END_EVENT",_[_.USER_TASK=4]="USER_TASK",_[_.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})($y||($y={}));var Ky;(function(_){_.HORIZONTAL="horizontal",_.VERTICAL="vertical"})(Ky||(Ky={}));var Q_=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d};globalThis&&globalThis.__spread;var e1=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d},t1=globalThis&&globalThis.__spread||function(){for(var _=[],m=0;m<arguments.length;m++)_=_.concat(e1(arguments[m]));return _},dt={pluginName:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){dt.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){dt.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){dt.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){dt.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){dt.__lf.redo()}}],addItem:function(_){dt.__controlItems.push(_)},removeItem:function(_){var m=dt.__controlItems.findIndex(function(l){return l.key===_});return dt.__controlItems.splice(m,1)[0]},install:function(){},render:function(_,m){dt.__lf=_,dt.__domContainer=m,dt.__tool=this.__getControlTool(),m.appendChild(dt.__tool)},destroy:function(){var _;try{(_=dt.__domContainer)===null||_===void 0||_.removeChild(dt.__tool)}catch(m){console.warn("unexpect destory error",m)}},__getControlTool:function(){var _="lf-control-item",m="lf-control-item disabled",l=document.createElement("div"),p=[];return l.className="lf-control",dt.__controlItems.forEach(function(u){var d=document.createElement("div"),y=document.createElement("i"),b=document.createElement("span");switch(d.className=m,u.onClick&&(d.onclick=u.onClick.bind(null,dt.__lf)),u.onMouseEnter&&(d.onmouseenter=u.onMouseEnter.bind(null,dt.__lf)),u.onMouseLeave&&(d.onmouseleave=u.onMouseLeave.bind(null,dt.__lf)),y.className=u.iconClass,b.className="lf-control-text",b.title=u.title,b.innerText=u.text,d.append(y,b),u.text){case"上一步":dt.__lf.on("history:change",function(x){var E=x.data.undoAble;d.className=E?_:m});break;case"下一步":dt.__lf.on("history:change",function(x){var E=x.data.redoAble;d.className=E?_:m});break;default:d.className=_;break}p.push(d)}),l.append.apply(l,t1(p)),l}},n1=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d},r1=globalThis&&globalThis.__spread||function(){for(var _=[],m=0;m<arguments.length;m++)_=_.concat(n1(arguments[m]));return _},Qo="lf:defaultNodeMenu",ei="lf:defaultEdgeMenu",ti="lf:defaultGraphMenu",qy="lf:defaultSelectionMenu",P1=function(){function _(m){var l=this,p=m.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(u){l.resetMenuItem(u)},this.lf.addMenuConfig=function(u){l.addMenuItem(u)},this.lf.setMenuByType=function(u){l.setMenuByType(u)}}return _.prototype.init=function(){var m=this,l=[{text:"删除",callback:function(d){m.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){m.lf.graphModel.setTextEditable(d.id)}},{text:"复制",callback:function(d){m.lf.cloneNode(d.id)}}];this.menuTypeMap.set(Qo,l);var p=[{text:"删除",callback:function(d){m.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){m.lf.graphModel.setTextEditable(d.id)}}];this.menuTypeMap.set(ei,p),this.menuTypeMap.set(ti,[]);var u=[{text:"删除",callback:function(d){m.lf.clearSelectElements(),d.edges.forEach(function(y){return m.lf.deleteEdge(y.id)}),d.nodes.forEach(function(y){return m.lf.deleteNode(y.id)})}}];this.menuTypeMap.set(qy,u)},_.prototype.render=function(m,l){var p=this;this.__container=l,this.__currentData=null,this.__menuDOM.className="lf-menu",l.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(u){u.stopPropagation();for(var d=u.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(u){var d=u.data,y=u.position,b=y.domOverlayPosition,x=b.x,E=b.y,k=d.id,A=p.lf.graphModel.getNodeModel(k),T=[],w=p.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?T=A.menu:w?T=w:T=p.menuTypeMap.get(Qo),p.__currentData=d,p.showMenu(x,E,T)}),this.lf.on("edge:contextmenu",function(u){var d=u.data,y=u.position,b=y.domOverlayPosition,x=b.x,E=b.y,k=d.id,A=p.lf.graphModel.getEdgeModel(k),T=[],w=p.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?T=A.menu:w?T=w:T=p.menuTypeMap.get(ei),p.__currentData=d,p.showMenu(x,E,T)}),this.lf.on("blank:contextmenu",function(u){var d=u.position,y=p.menuTypeMap.get(ti),b=d.domOverlayPosition,x=b.x,E=b.y;p.showMenu(x,E,y)}),this.lf.on("selection:contextmenu",function(u){var d=u.data,y=u.position,b=p.menuTypeMap.get(qy),x=y.domOverlayPosition,E=x.x,k=x.y;p.__currentData=d,p.showMenu(E,k,b)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},_.prototype.destroy=function(){var m;(m=this===null||this===void 0?void 0:this.__container)===null||m===void 0||m.removeChild(this.__menuDOM),this.__menuDOM=null},_.prototype.showMenu=function(m,l,p){if(!(!p||!p.length)){var u=this.__menuDOM;u.innerHTML="",u.append.apply(u,r1(this.__getMenuDom(p))),u.children.length&&(u.style.display="block",u.style.top=l+"px",u.style.left=m+"px")}},_.prototype.setMenuByType=function(m){!m.type||!m.menu||this.menuTypeMap.set(m.type,m.menu)},_.prototype.__getMenuDom=function(m){var l=[];return m&&m.length>0&&m.forEach(function(p){var u=document.createElement("li");if(p.className?u.className="lf-menu-item "+p.className:u.className="lf-menu-item",p.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",u.appendChild(d)}var y=document.createElement("span");y.className="lf-menu-item-text",p.text&&(y.innerText=p.text),u.appendChild(y),u.onclickCallback=p.callback,l.push(u)}),l},_.prototype.resetMenuItem=function(m){m&&(m.nodeMenu!==void 0&&this.menuTypeMap.set(Qo,m.nodeMenu?m.nodeMenu:[]),m.edgeMenu!==void 0&&this.menuTypeMap.set(ei,m.edgeMenu?m.edgeMenu:[]),m.graphMenu!==void 0&&this.menuTypeMap.set(ti,m.graphMenu?m.graphMenu:[]))},_.prototype.addMenuItem=function(m){if(m){if(Array.isArray(m.nodeMenu)){var l=this.menuTypeMap.get(Qo);this.menuTypeMap.set(Qo,l.concat(m.nodeMenu))}if(Array.isArray(m.edgeMenu)){var l=this.menuTypeMap.get(ei);this.menuTypeMap.set(ei,l.concat(m.edgeMenu))}if(Array.isArray(m.graphMenu)){var l=this.menuTypeMap.get(ti);this.menuTypeMap.set(ti,l.concat(m.graphMenu))}}},_.prototype.changeMenuItem=function(m,l){if(m==="add")this.addMenuItem(l);else if(m==="reset")this.resetMenuItem(l);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},_.pluginName="Menu",_}();globalThis&&globalThis.__read;var A1=function(){function _(m){var l=this,p=m.lf;this.lf=p,this.lf.setPatternItems=function(u){l.shapeList=u,l.domContainer&&l.render(l.lf,l.domContainer)}}return _.prototype.render=function(m,l){var p=this;this.panelEl&&l.removeChild(this.panelEl),!(!this.shapeList||this.shapeList.length===0)&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(u){p.panelEl.appendChild(p.createDndItem(u))}),l.appendChild(this.panelEl),this.domContainer=l)},_.prototype.createDndItem=function(m){var l=this,p=document.createElement("div");p.className=m.className?"lf-dnd-item "+m.className:"lf-dnd-item";var u=document.createElement("div");if(u.className="lf-dnd-shape",m.icon&&(u.style.backgroundImage="url("+m.icon+")"),p.appendChild(u),m.label){var d=document.createElement("div");d.innerText=m.label,d.className="lf-dnd-text",p.appendChild(d)}return p.onmousedown=function(){m.type&&l.lf.dnd.startDrag({type:m.type,properties:m.properties,text:m.text}),m.callback&&m.callback()},p},_.pluginName="DndPanel",_}();globalThis&&globalThis.__values;var fv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),ni=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d};(function(_){fv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getEdge=function(){for(var l=this.getAttributes(),p=l.points,u=l.strokeWidth,d=l.stroke,y=l.strokeDashArray,b=p.split(" ").map(function(ee){return ee.split(",").map(function(re){return Number(re)})}),x=ni(b[0],2),E=x[0],k=x[1],A="M"+E+" "+k,T=5,w=1;w<b.length-1;w++){var X=ni(b[w-1],2),G=X[0],J=X[1],W=ni(b[w],2),U=W[0],R=W[1],H=ni(b[w+1],2),Y=H[0],M=H[1];if(U===G&&R!==J){var C=R>J?R-T:R+T;A=A+" L "+U+" "+C}if(R===J&&U!==G){var I=U>G?U-T:U+T;A=A+" L "+I+" "+R}if(A=A+" Q "+U+" "+R,U===Y&&R!==M){var C=R>M?R-T:R+T;A=A+" "+U+" "+C}if(R===M&&U!==Y){var I=U>Y?U-T:U+T;A=A+" "+I+" "+R}}var z=ni(b[b.length-1],2),L=z[0],Z=z[1];return A=A+" L "+L+" "+Z,je.h("path",{d:A,strokeWidth:u,stroke:d,fill:"none",strokeDashArray:y})},m.extendKey="CurvedEdge",m})(je.PolylineEdge);(function(_){fv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m})(je.PolylineEdgeModel);var pv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),o1=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d},i1=globalThis&&globalThis.__spread||function(){for(var _=[],m=0;m<arguments.length;m++)_=_.concat(o1(arguments[m]));return _};(function(_){pv(m,_);function m(){var l=_!==null&&_.apply(this,arguments)||this;return l.isGroup=!0,l.children=new Set,l.isRestrict=!0,l}return m.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},m.prototype.setIsRestrict=function(l){this.isRestrict=l},m.prototype.isInRange=function(l){var p=l.x1,u=l.y1,d=l.x2,y=l.y2;return p>=this.x-this.width/2&&d<=this.x+this.width/2&&u>=this.y-this.height/2&&y<=this.y+this.height/2},m.prototype.setAllowAppendChild=function(l){l?this.stroke="red":this.stroke="rgb(24, 125, 255)"},m.prototype.addChild=function(l){this.children.add(l)},m.prototype.removeChild=function(l){this.children.delete(l)},m.prototype.getData=function(){var l=_.prototype.getData.call(this);return l.children=i1(this.children),l},m})(je.RectNodeModel);(function(_){pv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.toFront=function(){},m.prototype.getShapeStyle=function(){var l=_.prototype.getShapeStyle.call(this);return l.radius=0,l},m})(je.RectNode);var a1=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d};globalThis&&globalThis.__spread;var oi=globalThis&&globalThis.__assign||function(){return oi=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},oi.apply(this,arguments)};function Rc(_){var m=_.x,l=_.y,p=_.width,u=_.height,d=_.radius,y=_.className,b=m-p/2,x=l-u/2,E=oi(oi({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+y},_),{x:b,y:x});return je.h("rect",oi({},E))}Rc.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ii;(function(_){_.NODE="node",_.CIRCLE_NODE="circle-node",_.POLYGON_NODE="polygon-node",_.RECT_NODE="rect-node",_.TEXT_NODE="text-node",_.ELLIPSE_NODE="ellipse-node",_.DIAMOND_NODE="diamond-node",_.EDGE="edge",_.LINE_EDGE="line-edge",_.POLYLINE_EDGE="polyline-edge",_.BEZIER_EDGE="bezier-edge",_.GRAPH="graph"})(ii||(ii={}));function da(_){var m=_.x,l=_.y,p=_.width,u=_.height;return{minX:m-p/2,minY:l-u/2,maxX:m+p/2,maxY:l+u/2}}function Zy(_){var m=da(_),l=_.radius,p=m.minX,u=m.minY,d=m.maxX,y=m.maxY;return[{x:p+l,y:u+l},{x:d-l,y:u+l},{x:d-l,y:y-l},{x:p+l,y:y-l}]}function Jy(_){var m=_.point,l=_.beforeNode,p=_.afterNode,u=m.x,d=m.y,y={x:u,y:d},b=l.radius,x=da(l),E=da(p);if(u===x.minX){y.x=E.minX;var k=(d-l.y)/(l.height/2-b);k?y.y=p.y+(p.height/2-b)*k:y.y=p.y}else if(u===x.maxX){y.x=E.maxX;var k=(d-l.y)/(l.height/2-b);k?y.y=p.y+(p.height/2-b)*k:y.y=p.y}else if(d===x.minY){y.y=E.minY;var k=(u-l.x)/(l.width/2-b);k?y.x=p.x+(p.width/2-b)*k:y.x=p.x}else if(d===x.maxY){y.y=E.maxY;var k=(u-l.x)/(l.width/2-b);k?y.x=p.x+(p.width/2-b)*k:y.x=p.x}else{var A=Zy(l),T=Zy(p),w=da(l),X=w.minX,G=w.minY,J=w.maxX,W=w.maxY,U=-1;if(u-X<b&&d-G<b?U=0:J-u<b&&d-G<b?U=1:J-u<b&&W-d<b?U=2:u-X<b&&G-d<b&&(U=3),U>-1){var R=Math.atan2(d-A[U].y,u-A[U].x);y.x=T[U].x+b*Math.cos(R),y.y=T[U].y+b*Math.sin(R)}}return y}function Qy(_){var m=_.point,l=_.beforeNode,p=_.afterNode,u=p.rx,d=p.ry,y=m,b=(m.y-l.y)/(m.x-l.x),x=u,E=d,k,A;return b>=1/0?(k=0,A=E):b<=-1/0?(k=0,A=-E):m.x-l.x>0?(k=x*E/Math.sqrt(E*E+x*x*b*b),A=x*E*b/Math.sqrt(E*E+x*x*b*b)):(k=-(x*E)/Math.sqrt(E*E+x*x*b*b),A=-(x*E*b)/Math.sqrt(E*E+x*x*b*b)),y={x:k+p.x,y:A+p.y},y}function ev(_){var m=_.point,l=_.beforeNode,p=_.afterNode,u=m,d,y,b=m.x-l.x,x=m.y-l.y,E=l.rx,k=l.ry,A=Math.sqrt((E-Math.abs(b))*(E-Math.abs(b))+x*x)/Math.sqrt(E*E+k*k),T=p.rx,w=p.ry,X=Math.sqrt((T*T+w*w)*A*A*(T*T/(T*T+w*w))),G=X*(w/T);return b>=0?d=T-X:d=X-T,x>0?y=G:y=-G,u={x:d+p.x,y:y+p.y},u}var u1=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),Mr=globalThis&&globalThis.__assign||function(){return Mr=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},Mr.apply(this,arguments)},c1=je.LogicFlowUtil.createDrag,s1=function(_){u1(m,_);function m(l){var p=_.call(this)||this;p.updatePosition=function(y){var b=y.deltaX,x=y.deltaY,E=p.nodeModel,k=E.x,A=E.y;p.nodeModel.x=k+b/2,p.nodeModel.y=A+x/2,p.nodeModel.moveText(b/2,x/2)},p.getResize=function(y){var b=y.index,x=y.deltaX,E=y.deltaY,k=y.width,A=y.height,T=y.pct,w=T===void 0?1:T,X={width:k,height:A};switch(b){case 0:X.width=k-x*w,X.height=A-E*w;break;case 1:X.width=k+x*w,X.height=A-E*w;break;case 2:X.width=k+x,X.height=A+E*w;break;case 3:X.width=k-x*w,X.height=A+E*w;break}return X},p.updateRect=function(y){var b=y.deltaX,x=y.deltaY,E=p.nodeModel,k=E.id,A=E.x,T=E.y,w=E.width,X=E.height,G=E.radius,J=p.index,W=p.getResize({index:J,deltaX:b,deltaY:x,width:w,height:X,pct:1}),U=p.nodeModel,R=U.minWidth,H=U.minHeight,Y=U.maxWidth,M=U.maxHeight;if(!(W.width<R||W.width>Y||W.height<H||W.height>M)){p.updatePosition({deltaX:b,deltaY:x}),p.nodeModel.width=W.width,p.nodeModel.height=W.height,p.nodeModel.setProperties({nodeSize:{width:W.width,height:W.height}});var C=p.getNodeEdges(k),I={x:A,y:T,width:w,height:X,radius:G},z={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:G},L={point:"",beforeNode:I,afterNode:z},Z;C.sourceEdges.forEach(function(ee){L.point=ee.startPoint,Z=Jy(L),ee.updateStartPoint(Z)}),C.targetEdges.forEach(function(ee){L.point=ee.endPoint,Z=Jy(L),ee.updateEndPoint(Z)}),p.eventEmit({beforeNode:I,afterNode:z})}},p.updateEllipse=function(y){var b=y.deltaX,x=y.deltaY,E=p.nodeModel,k=E.id,A=E.rx,T=E.ry,w=E.x,X=E.y,G=p.index,J=A,W=T,U=p.getResize({index:G,deltaX:b,deltaY:x,width:J,height:W,pct:1/2}),R=p.nodeModel,H=R.minWidth,Y=R.minHeight,M=R.maxWidth,C=R.maxHeight;if(!(U.width<H/2||U.width>M/2||U.height<Y/2||U.height>C/2)){p.updatePosition({deltaX:b,deltaY:x}),p.nodeModel.rx=U.width,p.nodeModel.ry=U.height,p.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var I=p.getNodeEdges(k),z={x:w,y:X},L={rx:U.width,ry:U.height,x:p.nodeModel.x,y:p.nodeModel.y},Z={point:{},beforeNode:z,afterNode:L},ee;I.sourceEdges.forEach(function(re){Z.point=re.startPoint,ee=Qy(Z),re.updateStartPoint(ee)}),I.targetEdges.forEach(function(re){Z.point=re.endPoint,ee=Qy(Z),re.updateEndPoint(ee)}),p.eventEmit({beforeNode:Mr(Mr({},z),{rx:A,ry:T}),afterNode:L})}},p.updateDiamond=function(y){var b=y.deltaX,x=y.deltaY,E=p.nodeModel,k=E.id,A=E.rx,T=E.ry,w=E.x,X=E.y,G=p.index,J=A,W=T,U=p.getResize({index:G,deltaX:b,deltaY:x,width:J,height:W,pct:1/2}),R=Nc.sizeRange.ellipse,H=R.minRx,Y=R.minRy,M=R.maxRx,C=R.maxRy;if(!(U.width<H||U.width>M||U.height<Y||U.height>C)){p.updatePosition({deltaX:b,deltaY:x}),p.nodeModel.rx=U.width,p.nodeModel.ry=U.height,p.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var I={x:w,y:X,rx:A,ry:T},z={rx:U.width,ry:U.height,x:p.nodeModel.x,y:p.nodeModel.y},L={point:{},beforeNode:I,afterNode:z},Z,ee=p.getNodeEdges(k);ee.sourceEdges.forEach(function(re){L.point=re.startPoint,Z=ev(L),re.updateStartPoint(Z)}),ee.targetEdges.forEach(function(re){L.point=re.endPoint,Z=ev(L),re.updateEndPoint(Z)}),p.eventEmit({beforeNode:I,afterNode:z})}},p.eventEmit=function(y){var b=y.beforeNode,x=y.afterNode,E=p.nodeModel,k=E.id,A=E.modelType,T=E.type,w=Mr({id:k,modelType:A,type:T},b),X=Mr({id:k,modelType:A,type:T},x);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:w,newNodeSize:X})},p.onDraging=function(y){var b=y.deltaX,x=y.deltaY,E=p.nodeModel.modelType;E===ii.RECT_NODE?p.updateRect({deltaX:b,deltaY:x}):E===ii.ELLIPSE_NODE?p.updateEllipse({deltaX:b,deltaY:x}):E===ii.DIAMOND_NODE&&p.updateDiamond({deltaX:b,deltaY:x})},p.index=l.index,p.nodeModel=l.nodeModel,p.graphModel=l.graphModel;var u=p.graphModel.gridSize,d=2;return u>1&&(d=2*u),p.state={},p.dragHandler=c1({onDraging:p.onDraging,step:d}),p}return m.prototype.getNodeEdges=function(l){for(var p=this.graphModel,u=p.edges,d=[],y=[],b=0;b<u.length;b++){var x=u[b];x.sourceNodeId===l?d.push(x):u[b].targetNodeId===l&&y.push(x)}return{sourceEdges:d,targetEdges:y}},m.prototype.render=function(){var l=this.props,p=l.x,u=l.y,d=l.style,y=l.index,b=Nc.style.controlPoint,x=b.width,E=b.height,k=b.fill,A=b.stroke;return ri("g",{className:"lf-resize-control-"+y},ri(Rc,Mr({className:"lf-node-control"},{x:p,y:u},d,{width:x,height:E,fill:k,stroke:A,onMouseDown:this.dragHandler})))},m}(rv),l1=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),Dc=globalThis&&globalThis.__assign||function(){return Dc=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},Dc.apply(this,arguments)},Ic=function(_){l1(m,_);function m(){var l=_.call(this)||this;return l.state={},l}return m.prototype.getResizeControl=function(){var l=this.props,p=l.x,u=l.y,d=l.width,y=l.height,b=l.nodeModel,x=l.graphModel,E={minX:p-d/2,minY:u-y/2,maxX:p+d/2,maxY:u+y/2},k=E.minX,A=E.minY,T=E.maxX,w=E.maxY,X=[{x:k,y:A},{x:T,y:A},{x:T,y:w},{x:k,y:w}];return X.map(function(G,J){return ri(s1,Dc({index:J},G,{nodeModel:b,graphModel:x}))})},m.prototype.getGroupSolid=function(){var l=this.props,p=l.x,u=l.y,d=l.width,y=l.height,b=Nc.style.outline,x=b.stroke,E=b.strokeWidth,k=b.strokeDasharray;return ri(Rc,{fill:"none",x:p,y:u,width:d,height:y,stroke:x,strokeWidth:E,strokeDasharray:k})},m.prototype.render=function(){return ri("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},m}(rv),dv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),Tc=globalThis&&globalThis.__assign||function(){return Tc=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},Tc.apply(this,arguments)},f1=function(_){dv(m,_);function m(){var l=_!==null&&_.apply(this,arguments)||this;return l.minWidth=30,l.minHeight=30,l.maxWidth=2e3,l.maxHeight=2e3,l}return m.prototype.setAttributes=function(){this.hideOutline=!0;var l=this.properties.nodeSize;l&&(this.width=l.width,this.height=l.height)},m}(je.RectNodeModel),p1=function(_){dv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getControlGroup=function(l){var p=this.props,u=p.model,d=p.graphModel;return je.h(Ic,Tc({},l,{nodeModel:u,graphModel:d}))},m.prototype.getResizeShape=function(){return _.prototype.getShape.call(this)},m.prototype.getShape=function(){var l=_.prototype.getAttributes.call(this),p=this.props.model.isSelected;return je.h("g",null,this.getResizeShape(),p?this.getControlGroup(l):"")},m}(je.RectNode),Sc={type:"rect",view:p1,model:f1},ha=globalThis&&globalThis.__assign||function(){return ha=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},ha.apply(this,arguments)};function d1(_){var m=_.x,l=m===void 0?0:m,p=_.y,u=p===void 0?0:p,d=_.rx,y=d===void 0?4:d,b=_.ry,x=b===void 0?4:b,E=ha({cx:l,cy:u,rx:y,ry:x,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},_);return je.h("ellipse",ha({},E))}var hv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),ya=globalThis&&globalThis.__assign||function(){return ya=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},ya.apply(this,arguments)},h1=function(_){hv(m,_);function m(){var l=_!==null&&_.apply(this,arguments)||this;return l.minWidth=30,l.minHeight=30,l.maxWidth=2e3,l.maxHeight=2e3,l}return m.prototype.setAttributes=function(){this.hideOutline=!0;var l=this.properties.nodeSize;l&&(this.rx=l.rx,this.ry=l.ry)},m}(je.EllipseNodeModel),y1=function(_){hv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getControlGroup=function(l){var p=this.props,u=p.model,d=p.graphModel;return je.h(Ic,ya({},l,{nodeModel:u,graphModel:d}))},m.prototype.getResizeShape=function(l){return je.h("g",null,je.h(d1,ya({},l)))},m.prototype.getShape=function(){var l=_.prototype.getAttributes.call(this),p=this.props.model.isSelected;return je.h("g",null,this.getResizeShape(l),p?this.getControlGroup(l):"")},m}(je.EllipseNode),jc={type:"ellipse",view:y1,model:h1},Mc=globalThis&&globalThis.__assign||function(){return Mc=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},Mc.apply(this,arguments)};function v1(_){var m=_.fillOpacity,l=m===void 0?1:m,p=_.strokeWidth,u=p===void 0?1:p,d=_.strokeOpacity,y=d===void 0?1:d,b=_.fill,x=b===void 0?"transparent":b,E=_.stroke,k=E===void 0?"#000":E,A=_.points,T=_.className,w=T===void 0?"lf-basic-shape":T,X={fill:x,fillOpacity:l,strokeWidth:u,stroke:k,strokeOpacity:y,points:"",className:w};return X.points=A.map(function(G){return G.join(",")}).join(" "),je.h("polygon",Mc({},X))}var yv=globalThis&&globalThis.__extends||function(){var _=function(m,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d])},_(m,l)};return function(m,l){_(m,l);function p(){this.constructor=m}m.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),va=globalThis&&globalThis.__assign||function(){return va=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},va.apply(this,arguments)},g1=function(_){yv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.setAttributes=function(){this.hideOutline=!0;var l=this.properties.nodeSize;l&&(this.rx=l.rx,this.ry=l.ry)},m}(je.DiamondNodeModel),b1=function(_){yv(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.prototype.getControlGroup=function(l){var p=this.props,u=p.model,d=p.graphModel;return je.h(Ic,va({},l,{nodeModel:u,graphModel:d}))},m.prototype.getResizeShape=function(l){return je.h("g",null,je.h(v1,va({},l)))},m.prototype.getShape=function(){var l=_.prototype.getAttributes.call(this),p=this.props.model.isSelected;return je.h("g",null,this.getResizeShape(l),p?this.getControlGroup(l):"")},m}(je.DiamondNode),Pc={type:"diamond",view:b1,model:g1},m1={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(_){_.register({type:Sc.type,view:Sc.view,model:Sc.model}),_.register({type:jc.type,view:jc.view,model:jc.model}),_.register({type:Pc.type,view:Pc.view,model:Pc.model})}};const Nc=m1;var O1=globalThis&&globalThis.__read||function(_,m){var l=typeof Symbol=="function"&&_[Symbol.iterator];if(!l)return _;var p=l.call(_),u,d=[],y;try{for(;(m===void 0||m-- >0)&&!(u=p.next()).done;)d.push(u.value)}catch(b){y={error:b}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(y)throw y.error}}return d};globalThis&&globalThis.__spread;var tv=globalThis&&globalThis.__assign||function(){return tv=Object.assign||function(_){for(var m,l=1,p=arguments.length;l<p;l++){m=arguments[l];for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(_[u]=m[u])}return _},tv.apply(this,arguments)};export{dt as C,A1 as D,S1 as L,P1 as M,m1 as N,j1 as S,E1 as a,x1 as c,Y_ as g};
