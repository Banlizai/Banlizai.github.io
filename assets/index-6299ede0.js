import{_ as e,c as t,a}from"./reset-aaa03e52.js";import{N as l,r as i,I as o,c as n,O as s,G as u,M as r,w as c,u as v,b as d,e as h,p,f,n as m,j as g,F as y,C as b,i as w,Q as T,H as x,d as P,y as N,v as $,h as S,A as j,q as E,t as M,_ as X}from"./index-21254b6f.js";function Y(e){const t=l();t&&Object.assign(t.proxy,e)}const _=window;const V=void 0!==_?_.requestAnimationFrame||_.webkitRequestAnimationFrame||function(e){_.setTimeout(e,1e3/60)}:function(e){setTimeout(e,1e3/60)},z=10;function D(){const e=i(0),t=i(0),a=i(0),l=i(0),o=i(0),n=i(0),s=i(0),u=i(0),r=i(""),c=()=>{o.value=0,n.value=0,s.value=0,u.value=0,r.value=""};return{move:i=>{const c=i.touches[0];var v,d;o.value=c.clientX-e.value,n.value=c.clientY-t.value,a.value=c.clientX,l.value=c.clientY,s.value=Math.abs(o.value),u.value=Math.abs(n.value),r.value||(r.value=(v=s.value,d=u.value,v>d&&v>z?"horizontal":d>v&&d>z?"vertical":""))},start:a=>{c(),e.value=a.touches[0].clientX,t.value=a.touches[0].clientY},reset:c,startX:e,startY:t,moveX:a,moveY:l,deltaX:o,deltaY:n,offsetX:s,offsetY:u,direction:r,isVertical:()=>"vertical"===r.value,isHorizontal:()=>"horizontal"===r.value}}const{create:k,componentName:q}=t("swiper");const F=e(k({props:{width:{type:[Number,String],default:window.innerWidth},height:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},paginationVisible:{type:Boolean,default:!1},paginationColor:{type:String,default:"#fff"},loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},autoPlay:{type:[Number,String],default:0},initPage:{type:[Number,String],default:0},touchable:{type:Boolean,default:!0},isPreventDefault:{type:Boolean,default:!0},isStopPropagation:{type:Boolean,default:!0}},emits:["change"],setup(e,{emit:t,slots:l}){const d=i(),h=o({active:0,num:0,rect:null,width:0,height:0,moving:!1,offset:0,touchTime:0,autoplayTimer:null,children:[],childrenVNode:[],style:{}}),p=D(),f=n((()=>({[q]:!0}))),m=n((()=>"vertical"===e.direction)),g=n((()=>({[`${q}-inner`]:!0,[`${q}-vertical`]:m.value}))),y=n((()=>({[`${q}-pagination`]:!0,[`${q}-pagination-vertical`]:m.value}))),b=n((()=>m.value?p.deltaY.value:p.deltaX.value)),w=n((()=>p.direction.value===e.direction)),T=n((()=>h.children.length)),x=n((()=>h[m.value?"height":"width"])),P=n((()=>T.value*x.value)),N=n((()=>{if(h.rect){return(m.value?h.rect.height:h.rect.width)-x.value*T.value}return 0})),$=n((()=>(h.active+T.value)%T.value)),S=()=>{let t=0;t=h.offset,h.style={transitionDuration:`${h.moving?0:e.duration}ms`,transform:`translate${m.value?"Y":"X"}(${t}px)`,[m.value?"height":"width"]:x.value*T.value+"px",[m.value?"width":"height"]:`${m.value?h.width:h.height}px`}},j=(t,l=0)=>{let i=t*x.value;e.loop||(i=Math.min(i,-N.value));let o=l-i;return e.loop||(o=a(o,N.value,0)),o},E=({pace:l=0,offset:i=0,isEmit:o=!1})=>{if(T.value<=1)return;const{active:n}=h,s=(t=>{const{active:l}=h;return t?e.loop?a(l+t,-1,T.value):a(l+t,0,T.value-1):l})(l),u=j(s,i);if(e.loop){if(h.children[0]&&u!==N.value){const e=u<N.value;h.children[0].setOffset(e?P.value:0)}if(h.children[T.value-1]&&0!==u){const e=u>0;h.children[T.value-1].setOffset(e?-P.value:0)}}h.active=s,h.offset=u,o&&n!==h.active&&t("change",$.value),S()},M=()=>{h.moving=!0,h.active<=-1&&E({pace:T.value}),h.active>=T.value&&E({pace:-T.value})},X=()=>{h.autoplayTimer&&clearTimeout(h.autoplayTimer)},_=e=>{M(),p.reset(),V((()=>{V((()=>{h.moving=!1,E({pace:e,isEmit:!0})}))}))},z=()=>{_(1)},k=()=>{e.autoPlay<=0||T.value<=1||(X(),h.autoplayTimer=setTimeout((()=>{z(),k()}),Number(e.autoPlay)))},F=(t=+e.initPage)=>{X(),h.rect=d.value.getBoundingClientRect(),t=Math.min(T.value-1,t),h.width=e.width?+e.width:h.rect.width,h.height=e.height?+e.height:h.rect.height,h.active=t,h.offset=j(h.active),h.moving=!0,S(),k()};return s("parent",{props:e,size:x,relation:e=>{var t;let a=[];const i=h.childrenVNode.length;let o=null==(t=null==l?void 0:l.default)?void 0:t.call(l);if(o=o.filter((e=>e.children&&Array.isArray(e.children))),o.forEach((e=>{a=a.concat(e.children)})),i)if(i>a.length)h.children=h.children.filter((t=>e.proxy!==t));else if(i<a.length){for(let t=0;t<i;t++)if(a[t].key!==h.childrenVNode[t].key){e.proxy&&h.children.splice(t,0,e.proxy),e.vnode&&h.childrenVNode.splice(t,0,e.vnode);break}i!==a.length&&(e.proxy&&h.children.push(e.proxy),e.vnode&&h.childrenVNode.push(e.vnode))}else h.childrenVNode=a.slice(),e.proxy&&h.children.push(e.proxy);else h.childrenVNode=a.slice(),e.proxy&&h.children.push(e.proxy)}}),Y({prev:()=>{_(-1)},next:z,to:t=>{M(),p.reset(),V((()=>{let a;h.moving=!1,a=e.loop&&T.value===t?0===h.active?0:t:t%T.value,E({pace:a-h.active,isEmit:!0})}))}}),u((()=>{X()})),r((()=>{X()})),c((()=>e.initPage),(e=>{v((()=>{F(Number(e))}))})),c((()=>h.children.length),(()=>{v((()=>{F()}))})),c((()=>e.autoPlay),(e=>{e>0?k():X()})),{state:h,classes:f,classesInner:g,classesPagination:y,container:d,activePagination:$,onTouchStart:t=>{e.isPreventDefault&&t.preventDefault(),e.isStopPropagation&&t.stopPropagation(),e.touchable&&(p.start(t),h.touchTime=Date.now(),X(),M())},onTouchMove:t=>{e.touchable&&h.moving&&(p.move(t),w.value&&E({offset:b.value}))},onTouchEnd:t=>{if(!e.touchable||!h.moving)return;const a=b.value/(Date.now()-h.touchTime);if((Math.abs(a)>.3||Math.abs(b.value)>+(x.value/2).toFixed(2))&&w.value){let t=0;const a=m.value?p.offsetY.value:p.offsetX.value;t=e.loop?a>0?b.value>0?-1:1:0:-Math[b.value>0?"ceil":"floor"](b.value/x.value),E({pace:t,isEmit:!0})}else b.value&&E({pace:0});h.moving=!1,S(),k()}}}}),[["render",function(e,t,a,l,i,o){return d(),h("view",{ref:"container",class:m(e.classes),onTouchstart:t[0]||(t[0]=(...t)=>e.onTouchStart&&e.onTouchStart(...t)),onTouchmove:t[1]||(t[1]=(...t)=>e.onTouchMove&&e.onTouchMove(...t)),onTouchend:t[2]||(t[2]=(...t)=>e.onTouchEnd&&e.onTouchEnd(...t)),onTouchcancel:t[3]||(t[3]=(...t)=>e.onTouchEnd&&e.onTouchEnd(...t))},[p("view",{class:m(e.classesInner),style:g(e.state.style)},[f(e.$slots,"default")],6),f(e.$slots,"page"),e.paginationVisible&&!e.$slots.page?(d(),h("view",{key:0,class:m(e.classesPagination)},[(d(!0),h(y,null,b(e.state.children.length,((t,a)=>(d(),h("i",{style:g({backgroundColor:e.activePagination===a?e.paginationColor:"#ddd"}),class:m({active:e.activePagination===a}),key:a},null,6)))),128))],2)):w("",!0)],34)}]]),{create:I,componentName:B}=t("swiper-item");const C=e(I({setup(e,{slots:t}){const a=T("parent");a.relation(l());const i=o({offset:0}),s=n((()=>({[B]:!0}))),u=n((()=>{const e={},t=null==a?void 0:a.props.direction;return(null==a?void 0:a.size.value)&&(e["horizontal"===t?"width":"height"]=`${null==a?void 0:a.size.value}px`),i.offset&&(e.transform=`translate${"horizontal"===t?"X":"Y"}(${i.offset}px)`),e}));return x((()=>{a.relation(l(),"unmount")})),Y({setOffset:e=>{i.offset=e}}),{style:u,classes:s}}}),[["render",function(e,t,a,l,i,o){return d(),h("view",{class:m(e.classes),style:g(e.style)},[f(e.$slots,"default")],6)}]]),O=[{imgUrl:"//img10.360buyimg.com/n2/s400x400_jfs/t1/210890/22/4728/163829/6163a590Eb7c6f4b5/6390526d49791cb9.jpg!q70.jpg",title:"【活蟹】湖塘煙雨 阳澄湖大闸蟹公4.5两 母3.5两 4对8只 鲜活生鲜螃蟹现货水产礼盒海鲜水",price:"388",vipPrice:"378",shopDesc:"自营",delivery:"厂商配送",shopName:"阳澄湖大闸蟹自营店>"},{imgUrl:"//m.360buyimg.com/mobilecms/s400x400_jfs/t1/181328/3/31476/203233/63b66ef1F60f5f0f8/f4e8c4b6df4194d6.jpg!q70.dpg.webp",title:"【礼券】湖塘烟雨 海鲜卡券海产提货礼品卡春节年夜饭年货生鲜过年海鲜礼盒大礼包8888",price:"598",vipPrice:"378",shopDesc:"自营",delivery:"厂商配送",shopName:"阳澄湖大闸蟹自营店>"},{imgUrl:"//m.360buyimg.com/mobilecms/s400x400_jfs/t1/214199/39/25134/127357/63c2b3adFed9c98f4/54126e85c23d0893.jpg!q80.dpg",title:"苏泊尔（SUPOR） 电饭煲远红外加热IH本釜内胆 电饭锅4L智能预约家用煮饭锅一键柴火饭SF40HC81【送礼优选】",price:"1759",vipPrice:"1749",shopDesc:"自营",delivery:"厂商配送",shopName:"苏泊尔官方自营店"}],A=["src"],U={class:"info"},H={class:"price"},R=X(P({__name:"index",setup(e){const t=N(),a=i(1);let l=o({data:{}});return c((()=>t),(e=>{l.data=O.find(((t,a)=>a==parseInt(e.currentRoute.value.query.id)))}),{deep:!0,immediate:!0}),(e,t)=>{var i,o;const n=C,s=F;return d(),h(y,null,[$(s,{"init-page":j(a),"pagination-visible":!0,"pagination-color":"#426543","auto-play":"3000"},{default:S((()=>[$(n,null,{default:S((()=>[p("img",{src:j(l).data.imgUrl},null,8,A)])),_:1})])),_:1},8,["init-page"]),p("section",U,[p("div",null,[p("span",H,[E(" ￥"),p("em",null,M(null==(i=j(l).data)?void 0:i.price)+".00",1)])]),p("div",null,[p("span",null,M(null==(o=j(l).data)?void 0:o.title)+"}",1)])])],64)}}}),[["__scopeId","data-v-2305d23b"]]);export{R as default};
