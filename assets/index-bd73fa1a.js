import{i as s,n as a,A as e,am as o,V as t,a8 as r,B as i,aa as l}from"./@arco-design-8dabd30f.js";import{A as n,H as d}from"./index-0ca45986.js";import{d as m,b as p,r as u,o as c,c as j,f as w,s as f,w as b,C as v}from"./@vue-2b41ce19.js";import"./b-tween-5055d79e.js";import"./b-validate-457088db.js";import"./resize-observer-polyfill-ad543aa3.js";import"./scroll-into-view-if-needed-59a60a09.js";import"./compute-scroll-into-view-2962e95c.js";import"./number-precision-d9b928a1.js";import"./dayjs-094145ee.js";import"./@logicflow-85f8458e.js";import"./ids-ef071351.js";import"./lodash-es-1e3e3aa2.js";import"./preact-5fc9b0bf.js";import"./pinia-b3c1485e.js";import"./axios-6371c10e.js";import"./qs-f981fe00.js";import"./side-channel-01aeb4d9.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./call-bind-fae29077.js";import"./object-inspect-0eda087e.js";import"./path-browserify-8c7c24dd.js";import"./vue-router-70e2faff.js";import"./@vueuse-ca9a384d.js";import"./tiny-emitter-35dc7566.js";import"./echarts-24943dbb.js";import"./zrender-2d3b2bba.js";import"./tslib-a4e99503.js";import"./xgplayer-700bd6a3.js";import"./delegate-ef66b241.js";import"./downloadjs-91c0ea73.js";import"./quill-ecb3881d.js";import"./sortablejs-2f5483e3.js";const y={class:"main-container"},g={class:"flex justify-center align-middle mt-3"},h={class:"w-full flex flex-wrap justify-center"},x={class:"w-full h-28 flex justify-center mb-10"},P=["src"],V={class:"w-full"},_=m({__name:"index",setup(m){const _=d(),A=p((()=>_.avatar)),U=u({newPasswordAgain:"",newPassword:"",oldPassword:""});function q(){}const z=s=>new Promise(((e,o)=>{a.confirm({title:"提醒",content:`确认上传 ${s.name}?`,onOk:async()=>{try{const a=new FormData;a.append("avatarfile",s);const{code:e,imgUrl:o}=await(async s=>await n({url:"/system/user/profile/avatar",data:s}))(a);_.changeAvatar(o)}catch(a){}},onCancel:()=>o("cancel")})}));return(a,n)=>{const d=e,m=o,p=t,u=r,_=i,B=l,C=s;return c(),j("div",y,[w("div",g,[f(C,{"body-style":{padding:"10px"}},{default:b((()=>[w("div",h,[w("div",x,[f(m,{onBeforeUpload:z,limit:1,"auto-upload":!1,"show-file-list":!1,"show-remove-button":!1},{"upload-button":b((()=>[f(d,{size:100},{default:b((()=>[w("img",{src:A.value,alt:"头像"},null,8,P)])),_:1})])),_:1})]),w("div",V,[f(B,{ref:"password",model:U,onSubmit:q},{default:b((()=>[f(u,{label:"旧密码"},{default:b((()=>[f(p,{type:"password",modelValue:U.oldPassword,"onUpdate:modelValue":n[0]||(n[0]=s=>U.oldPassword=s)},null,8,["modelValue"])])),_:1}),f(u,{label:"新密码"},{default:b((()=>[f(p,{type:"password",modelValue:U.newPassword,"onUpdate:modelValue":n[1]||(n[1]=s=>U.newPassword=s)},null,8,["modelValue"])])),_:1}),f(u,{label:"再次确认"},{default:b((()=>[f(p,{type:"password",modelValue:U.newPasswordAgain,"onUpdate:modelValue":n[2]||(n[2]=s=>U.newPasswordAgain=s)},null,8,["modelValue"])])),_:1}),f(_,null,{default:b((()=>[v("重置密码")])),_:1})])),_:1},8,["model"])])])])),_:1})])])}}});export{_ as default};
