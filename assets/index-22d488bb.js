import{_ as e}from"./ripple-43a9ce2b.js";import"./base-16942280.js";import{P as a}from"./index-0f2ae8c3.js";/* empty css             */import{_ as l}from"./badge-cfb126a4.js";import{u as o,S as s,a as t,b as i}from"./index-c180d660.js";/* empty css              */import{d,r,w as n,o as u,s as f,v as c,u as m,_ as p,H as v,b as h,e as g,l as x,p as b,h as j,F as w,B as _,g as y,q as V,t as T}from"./index-1f6600ba.js";import{c as k,m as M,d as B,t as C,e as L,f as S,u as U,i as z,b as q}from"./with-install-1b1d642c.js";import{u as F}from"./use-expose-45de9c8f.js";import{L as H}from"./index-8289059b.js";import"./use-touch-fa73f6af.js";import"./use-route-2ce59ff4.js";import"./index-9ee83766.js";import"./constant-1f96826c.js";const[I,P,R]=k("list");const A=q(d({name:I,props:{error:Boolean,offset:M(300),loading:Boolean,disabled:Boolean,finished:Boolean,errorText:String,direction:B("down"),loadingText:String,finishedText:String,immediateCheck:C},emits:["load","update:error","update:loading"],setup(e,{emit:a,slots:l}){const s=r(e.loading),t=r(),i=r(),d=o(),p=L(t),v=()=>{m((()=>{if(s.value||e.finished||e.disabled||e.error||!1===(null==d?void 0:d.value))return;const{direction:l}=e,o=+e.offset,r=U(p);if(!r.height||z(t))return;let n=!1;const u=U(i);n="up"===l?r.top-u.top<=o:u.bottom-r.bottom<=o,n&&(s.value=!0,a("update:loading",!0),a("load"))}))},h=()=>{if(e.finished){const a=l.finished?l.finished():e.finishedText;if(a)return c("div",{class:P("finished-text")},[a])}},g=()=>{a("update:error",!1),v()},x=()=>{if(e.error){const a=l.error?l.error():e.errorText;if(a)return c("div",{role:"button",class:P("error-text"),tabindex:0,onClick:g},[a])}},b=()=>{if(s.value&&!e.finished&&!e.disabled)return c("div",{class:P("loading")},[l.loading?l.loading():c(H,{class:P("loading-icon")},{default:()=>[e.loadingText||R("loading")]})])};return n((()=>[e.loading,e.finished,e.error]),v),d&&n(d,(e=>{e&&v()})),u((()=>{s.value=e.loading})),f((()=>{e.immediateCheck&&v()})),F({check:v}),S("scroll",v,{target:p,passive:!0}),()=>{var a;const o=null==(a=l.default)?void 0:a.call(l),d=c("div",{ref:i,class:P("placeholder")},null);return c("div",{ref:t,role:"feed",class:P(),"aria-busy":s.value},["down"===e.direction?o:d,b(),h(),x(),"up"===e.direction?o:d])}}})),D={class:"flex w-full searchLayout"},E={class:"searchVanList overflow-y-auto"},G={class:"py-4 px-6"},J={class:"w-full h-24 mb-2 border shadow-lg rounded p-2 flex flex-wrap relative"},K={class:"w-full"},N={class:"font-bold ml-1"},O={class:"w-full"},Q={class:"font-bold ml-1"},W={class:"w-full"},X={class:"font-bold ml-1"},Y=p({__name:"index",setup(o){const d=r([]),n=r(!1),u=r(!1),f=()=>{setTimeout((()=>{d.value=m(),n.value=!1,d.value.length>=40&&(u.value=!0)}),1e3)},m=()=>{let e=[];for(let a=0;a<10;a++)e[a]={name:"雅新阁都",code:Math.floor(1e14*Math.random()),capacity:Math.floor(1e3*Math.random()),dot:Math.floor(100*Math.random())};return e},p=v([{label:"襄城供电中心",value:0},{label:"庞公供电所",value:1},{label:"欧庙供电所",value:2}]),k=r(""),M=r(0),B=()=>{},C=()=>{setTimeout((()=>{d.value=m(),n.value=!1}),2e3)};return(o,r)=>{const m=s,v=i,L=t,S=l,U=A,z=a,q=e;return h(),g(w,null,[x(c(m,{modelValue:k.value,"onUpdate:modelValue":r[0]||(r[0]=e=>k.value=e),placeholder:"输入台区名称/编号"},null,8,["modelValue"]),[[q]]),b("div",D,[c(L,{modelValue:M.value,"onUpdate:modelValue":r[1]||(r[1]=e=>M.value=e),onChange:B},{default:j((()=>[(h(!0),g(w,null,_(p,(e=>x((h(),y(v,{key:e.label,title:e.label},null,8,["title"])),[[q]]))),128))])),_:1},8,["modelValue"]),b("div",E,[c(z,{modelValue:n.value,"onUpdate:modelValue":r[3]||(r[3]=e=>n.value=e),onRefresh:C},{default:j((()=>[c(U,{loading:n.value,"onUpdate:loading":r[2]||(r[2]=e=>n.value=e),finished:u.value,"finished-text":"没有更多了",onLoad:f},{default:j((()=>[b("div",G,[(h(!0),g(w,null,_(d.value,((e,a)=>(h(),y(S,{key:a,type:"success",value:e.dot,"max-value":99,class:"z-50"},{default:j((()=>[x((h(),g("div",J,[b("div",K,[V(" 台区名称: "),b("span",N,T(e.name),1)]),b("div",O,[V(" 台区编号: "),b("span",Q,T(e.code),1)]),b("div",W,[V(" 台区容量: "),b("span",X,T(e.capacity),1)])])),[[q]])])),_:2},1032,["value"])))),128))])])),_:1},8,["loading","finished"])])),_:1},8,["modelValue"])])])],64)}}},[["__scopeId","data-v-9050aaa8"]]);export{Y as default};
