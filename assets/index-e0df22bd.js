import{_ as e,c as t,i as n,g as r,b as o}from"./reset-aaa03e52.js";import{d as a,v as s,m as l,a0 as i,a1 as c,a2 as u,b as d,g as p,c as f,e as h,n as m,A as g,j as y,p as v,S as b,a as w,i as S,f as _,N as k,F as E,t as O,q as T,I as C,O as N,w as x,h as P,X as $,Q as A,a3 as F,a4 as j,a5 as I,a6 as L,a7 as B,r as U,P as z,a8 as M,a9 as D,l as R,aa as V,E as H,Y as K,Z as q,_ as W}from"./index-21254b6f.js";import{p as J,P as G,m as Y,u as X}from"./mount-component-8730239d.js";import{c as Q,l as Z,d as ee,n as te,F as ne,j as re,I as oe,b as ae}from"./with-install-460172ae.js";import"./use-expose-c9171c69.js";import"./use-touch-cfd7c7a6.js";import"./on-popup-reopen-d10a579d.js";import"./index-e4150b28.js";import"./constant-1f96826c.js";const[se,le]=Q("notify");var ie=a({name:se,props:Z({},J,{type:ee("danger"),color:String,message:te,position:ee("top"),className:ne,background:String,lockScroll:Boolean}),emits:["update:show"],setup(e,{emit:t,slots:n}){const r=e=>t("update:show",e);return()=>s(G,{show:e.show,class:[le([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,zIndex:e.zIndex,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":r},{default:()=>[n.default?n.default():e.message]})}});let ce,ue;let de={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0};const pe=()=>{ue&&ue.toggle(!1)};function fe(e){var t;if(re)return ue||({instance:ue}=Y({setup(){const{state:e,toggle:t}=X();return()=>s(ie,l(e,{"onUpdate:show":t}),null)}})),e=Z({},de,oe(t=e)?t:{message:t}),ue.open(e),clearTimeout(ce),e.duration>0&&(ce=setTimeout(pe,e.duration)),ue}ae(ie);const he=a({__name:"IconFont",props:{name:{type:String,default:""},size:{type:[String,Number],default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},classPrefix:{type:String,default:"nut-icon"},fontClassName:{type:String,default:"nutui-iconfont"},color:{type:String,default:""},tag:{type:String,default:"i"}},emits:["click"],setup(e,{emit:t}){var n;const r=e,o="nut-icon",a=i();c();const s=e=>{if(e)return isNaN(Number(e))?String(e):e+"px"},l=!!r.name&&-1!==r.name.indexOf("/");let f=u(l?"img":r.tag,{class:l?`${o}__img`:`${r.fontClassName} ${o} ${r.classPrefix}-${r.name}`,style:{color:r.color,fontSize:s(r.size),width:s(r.width||r.size),height:s(r.height||r.size)},onClick:e=>{t("click",e)},src:l?r.name:""},null==(n=a.default)?void 0:n.call(a));const h=()=>f;return(e,t)=>(d(),p(h))}});var me;(me=he).install=e=>{e.component("IconFont",me)};const ge=["aria-labelledby"],ye=[v("path",{d:"M784 902.4c9.6 19.2 6.4 41.6-12.8 54.4-19.2 9.6-41.6 3.2-51.2-12.8-9.6-19.2-6.4-41.6 12.8-54.4 16-12.8 38.4-8 51.2 12.8zM550.4 984c0 22.4-16 38.4-38.4 38.4s-38.4-16-38.4-38.4v-24c0-22.4 19.2-38.4 41.6-38.4 19.2 0 35.2 16 38.4 38.4v25.6h-3.2zm-240-43.2c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-16-51.2l28.8-51.2c9.6-19.2 35.2-25.6 54.4-16s25.6 35.2 12.8 54.4l-25.6 48zM121.6 784c-19.2 9.6-41.6 3.2-54.4-16-9.6-19.2-6.4-41.6 12.8-54.4l76.8-44.8c19.2-9.6 41.6-3.2 54.4 16 9.6 19.2 3.2 41.6-16 54.4L121.6 784zM38.4 552C16 552 0 536 0 513.6s16-38.4 38.4-38.4H160c22.4 0 38.4 19.2 38.4 38.4 0 22.4-16 38.4-38.4 38.4H38.4zm44.8-241.6c-19.2-9.6-25.6-35.2-16-51.2 9.6-19.2 35.2-25.6 54.4-16L256 320c19.2 9.6 25.6 35.2 16 54.4s-35.2 25.6-54.4 16l-134.4-80zm160-185.6 92.8 160c9.6 19.2 35.2 25.6 54.4 12.8s25.6-35.2 12.8-54.4l-92.8-160C297.6 64 275.2 60.8 256 70.4c-16 12.8-22.4 33.6-12.8 54.4zM473.6 40c0-22.4 16-38.4 38.4-38.4s38.4 19.2 38.4 38.4v184c0 22.4-19.2 38.4-38.4 38.4-22.4 0-38.4-19.2-38.4-38.4V40zm240 43.2c9.6-19.2 35.2-25.6 54.4-16 19.2 9.6 25.6 35.2 16 51.2l-92.8 160c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-12.8-54.4l89.6-156.8zm188.8 160-160 92.8c-19.2 9.6-25.6 35.2-16 54.4 12.8 19.2 35.2 25.6 54.4 12.8l160-92.8c19.2-9.6 25.6-35.2 12.8-54.4-9.6-16-32-25.6-51.2-12.8zM985.6 472c22.4 0 38.4 16 38.4 38.4s-16 38.4-38.4 38.4H800c-22.4 0-38.4-19.2-38.4-38.4 0-22.4 19.2-38.4 38.4-38.4h185.6z",fill:"currentColor","fill-opacity":"0.9"},null,-1)],ve=a({__name:"Loading",props:{class:{type:String,default:""},name:{type:String,default:""},color:{type:String,default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""}},emits:["click"],setup(e,{emit:t}){const n=e,r=e=>{t("click",e)},o=e=>{if(e)return isNaN(Number(e))?String(e):e+"px"},a=f((()=>{const e="nut-icon";return{[n.class]:n.class,[e]:!0,[e+"-"+n.name]:n.name}})),s=f((()=>{const e={};return e.height=o(n.height),e.width=o(n.width),e.color=n.color,e}));return(t,n)=>(d(),h("svg",{class:m(g(a)),style:y(g(s)),onClick:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","aria-labelledby":e.name,role:"presentation"},ye,14,ge))}}),be=["aria-labelledby"],we=[v("path",{d:"M381.262 1005.566c-16.132 21.51-45.708 24.198-67.217 8.066-21.51-16.132-24.198-45.708-8.066-67.217C413.526 806.604 518.384 666.792 625.932 529.67c8.066-10.755 8.066-24.198 0-34.953C518.384 354.906 413.526 215.094 305.979 77.972c-16.132-21.51-10.755-51.085 8.066-67.217C335.555-5.377 365.13 0 381.262 18.82c107.547 142.5 212.405 282.311 319.953 419.434 34.952 43.019 34.952 104.858 0 150.566-107.548 139.811-212.406 279.622-319.953 416.745",fill:"currentColor","fill-opacity":"0.9"},null,-1)],Se=a({__name:"Right",props:{class:{type:String,default:""},name:{type:String,default:""},color:{type:String,default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""}},emits:["click"],setup(e,{emit:t}){const n=e,r=e=>{t("click",e)},o=e=>{if(e)return isNaN(Number(e))?String(e):e+"px"},a=f((()=>{const e="nut-icon";return{[n.class]:n.class,[e]:!0,[e+"-"+n.name]:n.name}})),s=f((()=>{const e={};return e.height=o(n.height),e.width=o(n.width),e.color=n.color,e}));return(t,n)=>(d(),h("svg",{class:m(g(a)),style:y(g(s)),onClick:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","aria-labelledby":e.name,role:"presentation"},we,14,be))}}),{componentName:_e,create:ke}=t("button"),Ee=ke({components:{Loading:ve},props:{color:String,shape:{type:String,default:"round"},plain:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:String,default:"default"},size:{type:String,default:"normal"},block:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:n}){const{type:r,size:o,shape:a,disabled:s,loading:l,color:i,plain:c,block:u}=b(e);return{handleClick:e=>{l.value||s.value||t("click",e)},classes:f((()=>{const e=_e;return{[e]:!0,[`${e}--${r.value}`]:r.value,[`${e}--${o.value}`]:o.value,[`${e}--${a.value}`]:a.value,[`${e}--plain`]:c.value,[`${e}--block`]:u.value,[`${e}--disabled`]:s.value,[`${e}--loading`]:l.value}})),getStyle:f((()=>{var e;const t={};return(null==i?void 0:i.value)&&(c.value?(t.color=i.value,t.background="#fff",(null==(e=i.value)?void 0:e.includes("gradient"))||(t.borderColor=i.value)):(t.color="#fff",t.background=i.value)),t}))}}}),Oe={class:"nut-button__wrap"};const Te=e(Ee,[["render",function(e,t,n,r,o,a){const s=w("Loading");return d(),h("view",{class:m(e.classes),style:y(e.getStyle),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[v("view",Oe,[e.loading?(d(),p(s,{key:0,class:"nut-icon-loading"})):S("",!0),e.$slots.icon&&!e.loading?_(e.$slots,"icon",{key:1}):S("",!0),e.$slots.default?(d(),h("view",{key:2,class:m({"nut-button__text":e.$slots.icon||e.loading})},[_(e.$slots,"default")],2)):S("",!0)])],6)}]]);const Ce=e=>isNaN(Number(e))?String(e):`${e}px`,{componentName:Ne,create:xe}=t("cell"),Pe=xe({components:{Right:Se},props:{title:{type:String,default:""},subTitle:{type:String,default:""},desc:{type:String,default:""},descTextAlign:{type:String,default:"right"},isLink:{type:Boolean,default:!1},to:[String,Object],replace:{type:Boolean,default:!1},roundRadius:{type:[String,Number],default:""},url:{type:String,default:""},center:{type:Boolean,default:!1},size:{type:String,default:""}},emits:["click"],setup(e,{emit:t}){const n=f((()=>{const t=Ne;return{[t]:!0,[`${t}--clickable`]:e.isLink||e.to,[`${t}--center`]:e.center,[`${t}--large`]:"large"==e.size}})),r=k().proxy.$router||null;return{handleClick:n=>{t("click",n),e.to&&r?r[e.replace?"replace":"push"](e.to):e.url&&(e.replace?location.replace(e.url):location.href=e.url)},classes:n,baseStyle:f((()=>({borderRadius:Ce(e.roundRadius)})))}}}),$e={key:0,class:"nut-cell__icon"},Ae={key:1,class:"nut-cell__title"},Fe={class:"title"},je={class:"nut-cell__title-desc"};const Ie=e(Pe,[["render",function(e,t,n,r,o,a){const s=w("Right");return d(),h("view",{class:m(e.classes),style:y(e.baseStyle),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[_(e.$slots,"default",{},(()=>[e.$slots.icon?(d(),h("view",$e,[_(e.$slots,"icon")])):S("",!0),e.title||e.subTitle||e.$slots.title?(d(),h("view",Ae,[e.subTitle?(d(),h(E,{key:0},[_(e.$slots,"title",{},(()=>[v("view",Fe,O(e.title),1)])),v("view",je,O(e.subTitle),1)],64)):_(e.$slots,"title",{key:1},(()=>[T(O(e.title),1)]))])):S("",!0),e.desc?(d(),h("view",{key:2,class:m(["nut-cell__value",{"nut-cell__value--alone":!e.title&&!e.subTitle&&!e.$slots.title}]),style:y({"text-align":e.descTextAlign})},O(e.desc),7)):S("",!0),_(e.$slots,"link",{},(()=>[e.isLink||e.to?(d(),p(s,{key:0,class:"nut-cell__link"})):S("",!0)]))]))],6)}]]),{componentName:Le,create:Be}=t("cell-group"),Ue=Be({props:{title:{type:String,default:""},desc:{type:String,default:""}},setup:()=>({classes:f((()=>({[Le]:!0})))})}),ze={key:1,class:"nut-cell-group__title"},Me={key:3,class:"nut-cell-group__desc"},De={class:"nut-cell-group__wrap"};const Re=e(Ue,[["render",function(e,t,n,r,o,a){return d(),h("view",{class:m(e.classes)},[e.$slots.title?_(e.$slots,"title",{key:0}):e.title?(d(),h("view",ze,O(e.title),1)):S("",!0),e.$slots.desc?_(e.$slots,"desc",{key:2}):e.desc?(d(),h("view",Me,O(e.desc),1)):S("",!0),v("view",De,[_(e.$slots,"default")])],2)}]]),{create:Ve}=t("form");var He;const Ke=e(Ve((He={[Re.name]:Re},{props:{modelValue:{type:Object,default:{}},rules:{type:Object,default:{}}},components:He,emits:["validate"],setup(e,{emit:t,slots:a}){const s=f((()=>C({})));N("formErrorTip",s);const l=()=>{Object.keys(s.value).forEach((e=>{s.value[e]=""}))};x((()=>e.modelValue),(()=>{l()}),{immediate:!0});const i=e=>{let t=[];return e.forEach((e=>{var r,o,a,s;let l=e.type;l=l.name||l,"nut-form-item"==l||(null==l?void 0:l.toString().endsWith("form-item"))?t.push({prop:null==(r=e.props)?void 0:r.prop,rules:(null==(o=e.props)?void 0:o.rules)||[]}):Array.isArray(e.children)&&(null==(a=e.children)?void 0:a.length)?t=t.concat(i(e.children)):n(e.children)&&Object.keys(e.children)&&(null==(s=e.children)?void 0:s.default)&&(e.children=e.children.default(),t=t.concat(i(e.children)))})),t},c=e=>{e.message&&t("validate",e),s.value[e.prop]=e.message},u=t=>{const{rules:n,prop:a}=t,s=e=>new Promise(((t,n)=>{try{c(e),t(e)}catch(r){n(r)}})),l=r(e.modelValue,a||"");c({prop:a,message:""});const i=e.rules||{},u=[...(null==i?void 0:i[a])||[],...n];for(;u.length;){const e=u.shift(),{validator:t,...n}=e,{required:r,regex:i,message:d}=n,p={prop:a,message:d};if(r&&!l&&0!==l)return s(p);if(i&&!i.test(String(l)))return s(p);if(t){const e=t(l,n);if(o(e))return new Promise(((t,n)=>{e.then((e=>{e?t(!0):(c(p),t(p))})).catch((e=>n(e)))}));if(!e)return s(p)}}return Promise.resolve(!0)},d=(e="")=>new Promise(((t,n)=>{try{const n=i(a.default()).map((t=>e?e==t.prop?u(t):Promise.resolve(!0):u(t)));Promise.all(n).then((e=>{const n={valid:!0,errors:[]};(e=e.filter((e=>1!=e))).length&&(n.valid=!1,n.errors=e),t(n)}))}catch(r){n(r)}}));return{validate:d,reset:()=>{l()},submit:()=>(d(),!1),formErrorTip:s}}})),[["render",function(e,t,n,r,o,a){const l=w("nut-cell-group");return d(),h("form",{class:"nut-form",action:"#",onSubmit:t[0]||(t[0]=$((()=>!1),["prevent"]))},[s(l,null,{default:P((()=>[_(e.$slots,"default")])),_:3})],32)}]]),{componentName:qe,create:We}=t("form-item"),Je=We({inheritAttrs:!1,props:{prop:{type:String,default:""},label:{type:String,default:""},rules:{type:Array,default:()=>[]},required:{type:Boolean,default:!1},showErrorMessage:{type:Boolean,default:!0},showErrorLine:{type:Boolean,default:!0},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessageAlign:{type:String,default:""},bodyAlign:{type:String,default:""}},components:{[Ie.name]:Ie},emits:[""],setup(e,{emit:t,slots:n}){const r=A("formErrorTip");N("form",{props:e});return{parent:r,labelStyle:f((()=>({width:Ce(e.labelWidth),textAlign:e.labelAlign}))),bodyStyle:f((()=>({textAlign:e.bodyAlign}))),errorMessageStyle:f((()=>({textAlign:e.errorMessageAlign}))),getSlots:e=>n[e]}}}),Ge={class:"nut-cell__value nut-form-item__body"};const Ye=e(Je,[["render",function(e,t,n,r,o,a){const s=w("nut-cell");return d(),p(s,{class:m(["nut-form-item",[{error:e.parent[e.prop],line:e.showErrorLine},e.$attrs.class]]),style:y(e.$attrs.style)},{default:P((()=>[e.label||e.getSlots("label")?(d(),h("view",{key:0,class:m(["nut-cell__title nut-form-item__label",{required:e.required}]),style:y(e.labelStyle)},[_(e.$slots,"label",{},(()=>[T(O(e.label),1)]))],6)):S("",!0),v("view",Ge,[v("view",{class:"nut-form-item__body__slots",style:y(e.bodyStyle)},[_(e.$slots,"default")],4),e.parent[e.prop]&&e.showErrorMessage?(d(),h("view",{key:0,class:"nut-form-item__body__tips",style:y(e.errorMessageStyle)},O(e.parent[e.prop]),5)):S("",!0)])])),_:3},8,["class","style"])}]]);function Xe(e){return!!F()&&(j(e),!0)}function Qe(){const e=new Set,t=t=>{e.delete(t)};return{on:n=>{e.add(n);const r=()=>t(n);return Xe(r),{off:r}},off:t,trigger:t=>Promise.all(Array.from(e).map((e=>e(t))))}}function Ze(e){return"function"==typeof e?e():g(e)}const et="undefined"!=typeof window,tt=()=>{};function nt(e,t=!1,n="Timeout"){return new Promise(((r,o)=>{t?setTimeout((()=>o(n)),e):setTimeout(r,e)}))}function rt(...e){if(1!==e.length)return I(...e);const t=e[0];return"function"==typeof t?L(B((()=>({get:t,set:tt})))):U(t)}function ot(e,t=!1){function n(n,{flush:r="sync",deep:o=!1,timeout:a,throwOnTimeout:s}={}){let l=null;const i=[new Promise((a=>{l=x(e,(e=>{n(e)!==t&&(null==l||l(),a(e))}),{flush:r,deep:o,immediate:!0})}))];return null!=a&&i.push(nt(a,s).then((()=>Ze(e))).finally((()=>null==l?void 0:l()))),Promise.race(i)}function r(r,o){if(!z(r))return n((e=>e===r),o);const{flush:a="sync",deep:s=!1,timeout:l,throwOnTimeout:i}=null!=o?o:{};let c=null;const u=[new Promise((n=>{c=x([e,r],(([e,r])=>{t!==(e===r)&&(null==c||c(),n(e))}),{flush:a,deep:s,immediate:!0})}))];return null!=l&&u.push(nt(l,i).then((()=>Ze(e))).finally((()=>(null==c||c(),Ze(e))))),Promise.race(u)}function o(e){return a(1,e)}function a(e=1,t){let r=-1;return n((()=>(r+=1,r>=e)),t)}if(Array.isArray(Ze(e))){return{toMatch:n,toContains:function(e,t){return n((t=>{const n=Array.from(t);return n.includes(e)||n.includes(Ze(e))}),t)},changed:o,changedTimes:a,get not(){return ot(e,!t)}}}return{toMatch:n,toBe:r,toBeTruthy:function(e){return n((e=>Boolean(e)),e)},toBeNull:function(e){return r(null,e)},toBeNaN:function(e){return n(Number.isNaN,e)},toBeUndefined:function(e){return r(void 0,e)},changed:o,changedTimes:a,get not(){return ot(e,!t)}}}function at(e){return ot(e)}const st=et?window:void 0;var lt=Object.defineProperty,it=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,ft=(e,t,n)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ht=(e,t)=>{for(var n in t||(t={}))dt.call(t,n)&&ft(e,n,t[n]);if(ut)for(var n of ut(t))pt.call(t,n)&&ft(e,n,t[n]);return e},mt=(e,t)=>it(e,ct(t));const gt={json:"application/json",text:"text/plain"};function yt(e){return e&&function(e,...t){return t.some((t=>t in e))}(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function vt(e){return"undefined"!=typeof Headers&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function bt(e,...t){return"overwrite"===e?async e=>{const n=t[t.length-1];return n?ht(ht({},e),await n(e)):e}:async e=>{for(const n of t)n&&(e=ht(ht({},e),await n(e)));return e}}const wt=function(e={}){const t=e.combination||"chain",n=e.options||{},r=e.fetchOptions||{};return function(o,...a){const s=f((()=>{const t=Ze(e.baseUrl),n=Ze(o);return t&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(n)?(a=n,(r=t).endsWith("/")||a.startsWith("/")?`${r}${a}`:`${r}/${a}`):n;var r,a}));let l=n,i=r;return a.length>0&&(yt(a[0])?l=mt(ht(ht({},l),a[0]),{beforeFetch:bt(t,n.beforeFetch,a[0].beforeFetch),afterFetch:bt(t,n.afterFetch,a[0].afterFetch),onFetchError:bt(t,n.onFetchError,a[0].onFetchError)}):i=mt(ht(ht({},i),a[0]),{headers:ht(ht({},vt(i.headers)||{}),vt(a[0].headers)||{})})),a.length>1&&yt(a[1])&&(l=mt(ht(ht({},l),a[1]),{beforeFetch:bt(t,n.beforeFetch,a[1].beforeFetch),afterFetch:bt(t,n.afterFetch,a[1].afterFetch),onFetchError:bt(t,n.onFetchError,a[1].onFetchError)})),function(e,...t){var n;const r="function"==typeof AbortController;let o={},a={immediate:!0,refetch:!1,timeout:0};const s={method:"GET",type:"text",payload:void 0};t.length>0&&(yt(t[0])?a=ht(ht({},a),t[0]):o=t[0]);t.length>1&&yt(t[1])&&(a=ht(ht({},a),t[1]));const{fetch:l=(null==(n=st)?void 0:n.fetch),initialData:i,timeout:c}=a,u=Qe(),d=Qe(),p=Qe(),h=U(!1),m=U(!1),g=U(!1),y=U(null),v=M(null),b=M(null),w=M(i||null),S=f((()=>r&&m.value));let _,k;const E=()=>{r&&(null==_||_.abort(),_=new AbortController,_.signal.onabort=()=>g.value=!0,o=mt(ht({},o),{signal:_.signal}))},O=e=>{m.value=e,h.value=!e};c&&(k=function(e,t,n={}){const{immediate:r=!0}=n,o=U(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function l(){o.value=!1,s()}function i(...n){s(),o.value=!0,a=setTimeout((()=>{o.value=!1,a=null,e(...n)}),Ze(t))}return r&&(o.value=!0,et&&i()),Xe(l),{isPending:L(o),start:i,stop:l}}(E,c,{immediate:!1}));const T=async(t=!1)=>{var n;E(),O(!0),b.value=null,y.value=null,g.value=!1;const r={method:s.method,headers:{}};if(s.payload){const e=vt(r.headers);s.payloadType&&(e["Content-Type"]=null!=(n=gt[s.payloadType])?n:s.payloadType);const t=Ze(s.payload);r.body="json"===s.payloadType?JSON.stringify(t):t}let c=!1;const f={url:Ze(e),options:ht(ht({},r),o),cancel:()=>{c=!0}};if(a.beforeFetch&&Object.assign(f,await a.beforeFetch(f)),c||!l)return O(!1),Promise.resolve(null);let h=null;return k&&k.start(),new Promise(((e,n)=>{var o;l(f.url,mt(ht(ht({},r),f.options),{headers:ht(ht({},vt(r.headers)),vt(null==(o=f.options)?void 0:o.headers))})).then((async t=>{if(v.value=t,y.value=t.status,h=await t[s.type](),!t.ok)throw w.value=i||null,new Error(t.statusText);return a.afterFetch&&({data:h}=await a.afterFetch({data:h,response:t})),w.value=h,u.trigger(t),e(t)})).catch((async r=>{let o=r.message||r.name;return a.onFetchError&&({error:o}=await a.onFetchError({data:h,error:r,response:v.value})),b.value=o,d.trigger(r),t?n(r):e(null)})).finally((()=>{O(!1),k&&k.stop(),p.trigger(null)}))}))},C=rt(a.refetch);x([C,rt(e)],(([e])=>e&&T()),{deep:!0});const N={isFinished:h,statusCode:y,response:v,error:b,data:w,isFetching:m,canAbort:S,aborted:g,abort:E,execute:T,onFetchResponse:u.on,onFetchError:d.on,onFetchFinally:p.on,get:P("GET"),put:P("PUT"),post:P("POST"),delete:P("DELETE"),patch:P("PATCH"),head:P("HEAD"),options:P("OPTIONS"),json:A("json"),text:A("text"),blob:A("blob"),arrayBuffer:A("arrayBuffer"),formData:A("formData")};function P(e){return(t,n)=>{if(!m.value){s.method=e,s.payload=t,s.payloadType=n,z(s.payload)&&x([C,rt(s.payload)],(([e])=>e&&T()),{deep:!0});const r=Ze(s.payload);return n||!r||Object.getPrototypeOf(r)!==Object.prototype||r instanceof FormData||(s.payloadType="json"),mt(ht({},N),{then:(e,t)=>$().then(e,t)})}}}function $(){return new Promise(((e,t)=>{at(h).toBe(!0).then((()=>e(N))).catch((e=>t(e)))}))}function A(e){return()=>{if(!m.value)return s.type=e,mt(ht({},N),{then:(e,t)=>$().then(e,t)})}}a.immediate&&Promise.resolve().then((()=>T()));return mt(ht({},N),{then:(e,t)=>$().then(e,t)})}(s,i,l)}}({baseUrl:"http://192.168.2.112:9400",options:{beforeFetch:async({options:e})=>(e.headers={...e.headers,Authorization:"Bearer token"},{options:e}),afterFetch(e){const{data:t,response:n}=e;if(n.status>=200&&n.status<300)try{const n=t;200!=n.code&&fe({type:"danger",message:n.message||"Error"}),e.data=n.data}catch(r){e.data=null}else fe({type:"danger",message:n.statusText||"Error"}),e.data=null;return e}}});
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var St=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},o=e.split(";"),a=r.decode||kt,s=0;s<o.length;s++){var l=o[s],i=l.indexOf("=");if(!(i<0)){var c=l.substring(0,i).trim();if(null==n[c]){var u=l.substring(i+1,l.length).trim();'"'===u[0]&&(u=u.slice(1,-1)),n[c]=Tt(u,a)}}}return n},_t=function(e,t,n){var r=n||{},o=r.encode||Et;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!Ot.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!Ot.test(a))throw new TypeError("argument val is invalid");var s=e+"="+a;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Ot.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!Ot.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(s+="; HttpOnly");r.secure&&(s+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s},kt=decodeURIComponent,Et=encodeURIComponent,Ot=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Tt(e,t){try{return t(e)}catch(n){return e}}function Ct(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var Nt=globalThis&&globalThis.__assign||function(){return Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nt.apply(this,arguments)};const xt=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?St(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=St(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),Ct(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=Ct(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=Nt(Nt({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=_t(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=Nt(Nt({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Nt({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=_t(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();var Pt=Object.defineProperty,$t=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,jt=(e,t,n)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,It=(e,t)=>{for(var n in t||(t={}))At.call(t,n)&&jt(e,n,t[n]);if($t)for(var n of $t(t))Ft.call(t,n)&&jt(e,n,t[n]);return e};const{VITE_TOKEN_KEY:Lt}={VITE_TOKEN_KEY:"tokenKey",VITE_URL_PREFIX:"/api",VITE_USE_MOCK:"true",VITE_USE_ERUDA:"false",VITE_USE_COMPRESS:"true",VITE_USE_REPORT:"false",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Bt=function(e,{doNotParse:t=!1,autoUpdateDependencies:n=!1}={},r=new xt){const o=n?[...e||[]]:e;let a=r.getAll({doNotParse:!0});const s=U(0),l=()=>{const e=r.getAll({doNotParse:!0});(function(e,t,n){if(!e)return!0;for(const r of e)if(t[r]!==n[r])return!0;return!1})(o||null,e,a)&&s.value++,a=e};return r.addChangeListener(l),Xe((()=>{r.removeChangeListener(l)})),{get:(...e)=>(n&&o&&!o.includes(e[0])&&o.push(e[0]),s.value,r.get(e[0],It({doNotParse:t},e[1]))),getAll:(...e)=>(s.value,r.getAll(It({doNotParse:t},e[0]))),set:(...e)=>r.set(...e),remove:(...e)=>r.remove(...e),addChangeListener:(...e)=>r.addChangeListener(...e),removeChangeListener:(...e)=>r.removeChangeListener(...e)}}().get(Lt),Ut=D({id:"app-user",state:()=>({token:Bt,info:{}}),getters:{getUserInfo(){return this.info||{}}},actions:{setInfo(e){this.info=e||""},login(){return new Promise((e=>{const{execute:t}=wt("/api/login",{method:"POST",body:JSON.stringify({name:"123"})});t().then((t=>{this.setInfo(t),e(t)}))}))}},persist:{key:"token",storage:localStorage,paths:["token"]}}),zt=e=>(K("data-v-cd662c38"),e=e(),q(),e),Mt={class:"login"},Dt=zt((()=>v("h2",null,"登录",-1))),Rt=W(a({__name:"index",setup(e){const t=Ut(),n=C({name:"",pwd:""}),r=U(null),o=()=>{r.value.validate().then((async({valid:e,errors:n})=>{if(e){await t.login()&&H.push({path:"/todo"})}}))};return(e,t)=>{const a=Ye,l=Te,i=Ke;return d(),h("div",Mt,[Dt,s(i,{ref_key:"ruleForm",ref:r,"model-value":n},{default:P((()=>[s(a,{required:"",prop:"name",rules:[{required:!0,message:"请输入用户名"}]},{default:P((()=>[R(v("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),class:"nut-input-text",placeholder:"请输入用户名",type:"text"},null,512),[[V,n.name]])])),_:1}),s(a,{required:"",prop:"pwd",rules:[{required:!0,message:"请填写联系电话"}]},{default:P((()=>[R(v("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.pwd=e),class:"nut-input-text",placeholder:"请输入密码",type:"password"},null,512),[[V,n.pwd]])])),_:1}),s(l,{block:"",type:"info",onClick:o},{default:P((()=>[T(" 登录 ")])),_:1})])),_:1},8,["model-value"])])}}}),[["__scopeId","data-v-cd662c38"]]);export{Rt as default};
