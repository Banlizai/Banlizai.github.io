import{p as me}from"./http-79937b7b.js";import{g as pe,M as ue}from"./index-09e9d0bf.js";import{u as de,a as _e,b as fe,c as be,d as ge}from"./table-d5bdf2e1.js";import{u as he,c as b,a as Ce,i as y,b as Te}from"./modal-3fed9fa7.js";import{M as p,h as ye}from"./@arco-design-f5decd74.js";import{e as we,r as w,a as v,o as ve,j as n,k as Se,p as ke,n as S,v as o,m as t,y as u,a1 as s,F as De}from"./@vue-0366cb61.js";import"./path-browserify-188d1ff8.js";import"./vue-router-5bfb708a.js";import"./axios-0bf28a1e.js";import"./@logicflow-5cdfeb8e.js";import"./ids-46106237.js";import"./preact-b8060ab3.js";import"./qs-b99d1803.js";import"./side-channel-5f245a46.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-8530d459.js";import"./pinia-16e4d8ec.js";import"./@vueuse-945dd224.js";import"./mockjs-417a16d8.js";import"./tiny-emitter-6d407e5e.js";import"./xgplayer-cee6bcaa.js";import"./quill-9354d83a.js";import"./sortablejs-be94e56d.js";import"./lodash-es-734afc83.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./compute-scroll-into-view-183f845a.js";import"./b-tween-aacd5abe.js";import"./dayjs-bf5be20d.js";import"./b-validate-48f29bf6.js";import"./number-precision-7e656275.js";import"./scroll-into-view-if-needed-6b992d05.js";const Le={class:"main-container"},Ie={class:"flex justify-between"},uo=we({__name:"list",setup(Me){const{ADD:k,UPDATE:D,UPLOAD:L,INFO:I}=ue,l=he(),M=[{color:"green",label:"在线"},{color:"gray",label:"维护"},{color:"red",label:"离线"}],O=w({}),x=[{title:"全部设备",key:"0-0"}],i=w(null),m=de(f),{selectedRowKeys:g,onSelectionChange:R,showCheckedAll:B}=_e(),d=fe(),{bordered:K,striped:N,handleSuccess:A,tableLoading:_,dataList:F}=d,U=ge("id"),h=v(be(Ce));async function f(){_.value=!0;const e=await me({url:pe,data:()=>({page:m.page,pageSize:m.pageSize})});_.value=!1,A(v(e)),m.setTotalSize(e.totalSize||10)}function E(){p.success("模拟查询成功，参数为："+JSON.stringify(b.reduce((e,a)=>(e[a.key]=a.value.value,e),{})))}function P(){b.forEach(e=>{e.reset?e.reset():e.value.value=""})}function C(e){if(!e&&g.value.length===0){p.error("请选择要删除的数据");return}ye.confirm({title:"提示",content:`确定要${e?"删除此":"删除所选择的"}数据吗？`,cancelText:"取消",okText:"删除",onOk:()=>{p.success("删除成功")}})}function z(){var e;l.title=k,l.itemOption=y,(e=i.value)==null||e.show()}function $(){var e;l.title=D,l.itemOption=y,(e=i.value)==null||e.show()}function V(){var a;const e=l.useModalParams(l.itemOption);(a=i.value)==null||a.close(),p.success(`模拟${l.title}菜单成功，参数为: ${JSON.stringify(e)}`)}async function j({record:e,key:a}){const r={id:e.id,[a]:e[a]};switch(a){case"nickName":q(r);break}}function q(e){var a;l.title=I,l.itemOption=[],(a=i.value)==null||a.show(),console.log(e)}function H(){var e;l.title=L,l.itemOption=Te,(e=i.value)==null||e.show()}return ve(f),(e,a)=>{const r=n("a-button"),J=n("DeleteButton"),T=n("a-doption"),G=n("a-dropdown-button"),Q=n("FormSearch"),W=n("TableStatus"),X=n("a-space"),Y=n("TableTools"),Z=n("TableHeader"),ee=n("a-tree"),oe=n("Scrollbar"),te=n("icon-edit"),ne=n("icon-delete"),ae=n("CustomTable"),se=n("TreeTableLayout"),le=n("TableFooter"),ie=n("TableBody"),re=n("EquipmentInfo"),ce=n("ModalDialog");return Se(),ke(De,null,[S("div",Le,[o(ie,{ref:"tableBody"},{header:t(()=>[o(Z,{"show-filter":!0,title:"",onSearch:E,onResetSearch:P},{"more-button-content":t(()=>[o(r,{type:"primary"},{default:t(()=>[u("加入维护")]),_:1}),o(J,{onDelete:C}),o(G,{onClick:z},{content:t(()=>[o(T,null,{default:t(()=>[u("下载模版")]),_:1}),o(T,{onClick:H},{default:t(()=>[u("上传")]),_:1})]),default:t(()=>[u(" 新增 ")]),_:1})]),"search-content":t(()=>[o(Q,{form:O.value,formItems:s(b)},null,8,["form","formItems"])]),"table-status":t(()=>[o(X,null,{default:t(()=>[o(W,{status:M})]),_:1})]),"table-config":t(()=>[o(Y,{tableColumns:h,"onUpdate:border":a[0]||(a[0]=c=>s(d).bordered.value=c),"onUpdate:striped":a[1]||(a[1]=c=>s(d).striped.value=c),onDoRefresh:f},null,8,["tableColumns"])]),_:1})]),default:t(()=>[o(se,null,{tree:t(()=>[o(oe,null,{default:t(()=>[o(ee,{blockNode:"",data:x})]),_:1})]),table:t(()=>[o(ae,{bordered:s(K),striped:s(N),selectedRowKeys:s(g),showCheckedAll:s(B),tableLoading:s(_),dataList:s(F),tableColumns:h,rowKey:s(U),onSelectionChange:s(R),onRowKeyChange:j},{optional:t(({record:c})=>[S("div",Ie,[o(r,{type:"text",onClick:$},{icon:t(()=>[o(te)]),_:1}),o(r,{type:"text",onClick:Oe=>C(c)},{icon:t(()=>[o(ne)]),_:2},1032,["onClick"])])]),_:1},8,["bordered","striped","selectedRowKeys","showCheckedAll","tableLoading","dataList","tableColumns","rowKey","onSelectionChange"])]),_:1})]),footer:t(()=>[o(le,{pagination:s(m)},null,8,["pagination"])]),_:1},512)]),o(ce,{ref_key:"modalDialog",ref:i,config:s(l),onConfirm:V},{content:t(()=>[o(re)]),_:1},8,["config"])],64)}}});export{uo as default};
