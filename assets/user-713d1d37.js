import{p as v}from"./http-79937b7b.js";import{g as L,_ as D}from"./index-09e9d0bf.js";import{b as K,u as R,a as B,c as z,e as F,d as H}from"./table-d5bdf2e1.js";import{M as y,h}from"./@arco-design-f5decd74.js";import{e as N,r as $,o as M,g as O,j as o,k as c,l as u,m as t,v as l,p as U,F as E,R as P,G as V,y as d,z as I,q as j}from"./@vue-0366cb61.js";import"./path-browserify-188d1ff8.js";import"./vue-router-5bfb708a.js";import"./axios-0bf28a1e.js";import"./@logicflow-5cdfeb8e.js";import"./ids-46106237.js";import"./preact-b8060ab3.js";import"./qs-b99d1803.js";import"./side-channel-5f245a46.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-8530d459.js";import"./pinia-16e4d8ec.js";import"./@vueuse-945dd224.js";import"./mockjs-417a16d8.js";import"./tiny-emitter-6d407e5e.js";import"./xgplayer-cee6bcaa.js";import"./quill-9354d83a.js";import"./sortablejs-be94e56d.js";import"./lodash-es-734afc83.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./compute-scroll-into-view-183f845a.js";import"./b-tween-aacd5abe.js";import"./dayjs-bf5be20d.js";import"./b-validate-48f29bf6.js";import"./number-precision-7e656275.js";import"./scroll-into-view-if-needed-6b992d05.js";const q=N({name:"UserList",setup(){const e=K(),k=H("id"),r=R(m),{selectedRowKeys:p,onSelectionChange:_}=B(),b=z([e.indexColumn,{title:"名称",key:"nickName",dataIndex:"nickName"},{title:"性别",key:"gender",dataIndex:"gender"},{title:"头像",key:"avatar",dataIndex:"avatar"},{title:"地址",key:"address",dataIndex:"address"},{title:"登录时间",key:"lastLoginTime",dataIndex:"lastLoginTime"},{title:"登录IP",key:"lastLoginIp",dataIndex:"lastLoginIp"},{title:"状态",key:"status",dataIndex:"status"},{title:"操作",key:"actions",dataIndex:"actions"}]),g=$(!0);function m(){v({url:L,data:()=>({page:r.page,pageSize:r.pageSize})}).then(s=>{e.handleSuccess(s),r.setTotalSize(s.totalSize)}).catch(console.log)}function i(){if(p.value.length===0){y.error("请选择要删除的数据");return}h.confirm({title:"提示",content:"确定要删除此数据吗？",cancelText:"取消",okText:"删除",onOk:()=>{y.success("数据模拟删除成功，所选择的Keys为："+JSON.stringify(p.value))}})}function f(s){h.confirm({title:"提示",content:"确定要删除此数据吗？",cancelText:"取消",okText:"删除",onOk:()=>{y.success("数据删除成功"),e.dataList.splice(e.dataList.indexOf(s),1)}})}return M(async()=>{e.tableHeight.value=await F(O()),m()}),{...e,rowKey:k,selectedRowKeys:p,onSelectionChange:_,expandAllFlag:g,tableColumns:b,pagination:r,onDeleteItem:f,onDeleteItems:i}}});function A(e,k,r,p,_,b){const g=o("DeleteButton"),m=o("TableHeader"),i=o("a-tag"),f=o("IconUser"),s=o("a-avatar"),T=o("a-button"),x=o("a-table-column"),C=o("a-table"),w=o("TableFooter"),S=o("TableBody");return c(),u(S,null,{header:t(()=>[l(m,{ref:"tableHeaderRef","show-filter":!1},{"table-config":t(()=>[l(g,{onDelete:e.onDeleteItems},null,8,["onDelete"])]),_:1},512)]),default:t(()=>[l(C,{bordered:!1,"row-selection":{selectedRowKeys:e.selectedRowKeys},loading:e.tableLoading,data:e.dataList,pagination:!1,rowKey:e.rowKey,"table-layout-fixed":"",scroll:{y:e.tableHeight},onSelectionChange:e.onSelectionChange},{columns:t(()=>[(c(!0),U(E,null,P(e.tableColumns,a=>(c(),u(x,{key:a.key,align:a.align,title:a.title,"data-index":a.key,fixed:a.fixed},V({_:2},[a.key==="index"?{name:"cell",fn:t(({rowIndex:n})=>[d(I(n+1),1)]),key:"0"}:a.key==="gender"?{name:"cell",fn:t(({record:n})=>[l(i,{color:n.gender===1?"green":"red"},{default:t(()=>[d(I(n.gender===1?"男":"女"),1)]),_:2},1032,["color"])]),key:"1"}:a.key==="avatar"?{name:"cell",fn:t(({})=>[l(s,{size:30,style:j({backgroundColor:"var(--color-primary-light-1)"})},{default:t(()=>[l(f)]),_:1},8,["style"])]),key:"2"}:a.key==="actions"?{name:"cell",fn:t(({record:n})=>[l(T,{status:"danger",onClick:G=>e.onDeleteItem(n)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),key:"3"}:a.key==="status"?{name:"cell",fn:t(({record:n})=>[n.status===1?(c(),u(i,{key:0,color:"blue"},{default:t(()=>[d("正常")]),_:1})):(c(),u(i,{key:1,color:"red"},{default:t(()=>[d("禁用")]),_:1}))]),key:"4"}:void 0]),1032,["align","title","data-index","fixed"]))),128))]),_:1},8,["row-selection","loading","data","rowKey","scroll","onSelectionChange"])]),footer:t(()=>[l(w,{ref:"tableFooterRef",pagination:e.pagination},null,8,["pagination"])]),_:1})}const Le=D(q,[["render",A]]);export{Le as default};
